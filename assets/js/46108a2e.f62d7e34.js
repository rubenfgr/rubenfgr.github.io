"use strict";(self.webpackChunkruben_rosales_web=self.webpackChunkruben_rosales_web||[]).push([[5858],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>g});var o=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,o,a=function(e,n){if(null==e)return{};var t,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=o.createContext({}),m=function(e){var n=o.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},c=function(e){var n=m(e.components);return o.createElement(s.Provider,{value:n},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},u=o.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),p=m(t),u=a,g=p["".concat(s,".").concat(u)]||p[u]||d[u]||r;return t?o.createElement(g,l(l({ref:n},c),{},{components:t})):o.createElement(g,l({ref:n},c))}));function g(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,l=new Array(r);l[0]=u;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i[p]="string"==typeof e?e:a,l[1]=i;for(var m=2;m<r;m++)l[m]=t[m];return o.createElement.apply(null,l)}return o.createElement.apply(null,t)}u.displayName="MDXCreateElement"},2028:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>m});var o=t(7462),a=(t(7294),t(3905));const r={title:"Ejemplo StencilJS + Angular",sidebar_position:3},l=void 0,i={unversionedId:"web_components/example_stencil_angular",id:"web_components/example_stencil_angular",title:"Ejemplo StencilJS + Angular",description:"El objetivo principal de StencilJS es proporcionar herramientas para crear bibliotecas de componentes. Utiliza TS, JSX y CSS, y permite crear componentes web compatibles con los est\xe1ndares.",source:"@site/docs/web_components/example_stencil_angular.mdx",sourceDirName:"web_components",slug:"/web_components/example_stencil_angular",permalink:"/docs/web_components/example_stencil_angular",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/web_components/example_stencil_angular.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Ejemplo StencilJS + Angular",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Introducci\xf3n",permalink:"/docs/web_components/intro"}},s={},m=[{value:"Beneficios",id:"beneficios",level:2},{value:"Ejemplo",id:"ejemplo",level:2},{value:"Iniciar el proyecto (Component)",id:"iniciar-el-proyecto-component",level:3},{value:"Instalamos dependencias e iniciamos",id:"instalamos-dependencias-e-iniciamos",level:3},{value:"Nos crea un componente por defecto en src/components/my-component.tsx que vamos a modificar",id:"nos-crea-un-componente-por-defecto-en-srccomponentsmy-componenttsx-que-vamos-a-modificar",level:3},{value:"Decoradores",id:"decoradores",level:3},{value:"Ciclo de vida",id:"ciclo-de-vida",level:3},{value:"Contruyendo la libreria",id:"contruyendo-la-libreria",level:3},{value:"Probando nuestra librer\xeda en un proyecto de Angular",id:"probando-nuestra-librer\xeda-en-un-proyecto-de-angular",level:2},{value:"Creando el proyecto de angular",id:"creando-el-proyecto-de-angular",level:3},{value:"Compartiendo la libreria en local con &quot;link&quot;",id:"compartiendo-la-libreria-en-local-con-link",level:3},{value:"Vinculando la libreria en el proyecto de angular",id:"vinculando-la-libreria-en-el-proyecto-de-angular",level:3},{value:"Modificamos algunos ficheros",id:"modificamos-algunos-ficheros",level:3},{value:"Tipado",id:"tipado",level:2}],c={toc:m},p="wrapper";function d(e){let{components:n,...t}=e;return(0,a.kt)(p,(0,o.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"El objetivo principal de StencilJS es proporcionar herramientas para crear bibliotecas de componentes. Utiliza TS, JSX y CSS, y permite crear componentes web compatibles con los est\xe1ndares."),(0,a.kt)("h2",{id:"beneficios"},"Beneficios"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Est\xe1ndares Web"),(0,a.kt)("li",{parentName:"ul"},"Optimizaciones autom\xe1ticas al construir"),(0,a.kt)("li",{parentName:"ul"},"Amigable a futuros cambios"),(0,a.kt)("li",{parentName:"ul"},"API simple"),(0,a.kt)("li",{parentName:"ul"},"Caracter\xedsticas de marcos de trabajo durante el desarrollo"),(0,a.kt)("li",{parentName:"ul"},"Soporte amplio de navegador")),(0,a.kt)("h2",{id:"ejemplo"},"Ejemplo"),(0,a.kt)("admonition",{title:"Repositorio",type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Incluye el proyecto de Stencil y dentro el proyecto de Angular (my-library-in-angular)"),(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("a",{parentName:"p",href:"https://github.com/rubenfgr-doc/stencil-my-components-library"},"https://github.com/rubenfgr-doc/stencil-my-components-library"))),(0,a.kt)("h3",{id:"iniciar-el-proyecto-component"},"Iniciar el proyecto (Component)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Nombre del proyecto: my-components-library")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"npm init stencil\n")),(0,a.kt)("h3",{id:"instalamos-dependencias-e-iniciamos"},"Instalamos dependencias e iniciamos"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"cd my-components-library\n$ npm install\nnpm start\n")),(0,a.kt)("h3",{id:"nos-crea-un-componente-por-defecto-en-srccomponentsmy-componenttsx-que-vamos-a-modificar"},"Nos crea un componente por defecto en src/components/my-component.tsx que vamos a modificar"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"En src/index.html podemos ver como se est\xe1 utilizando")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="my-component.tsx"',title:'"my-component.tsx"'},'import { Component, Prop, h } from "@stencil/core";\nimport { format } from "../../utils/utils";\n\n@Component({\n  tag: "my-component",\n  styleUrl: "my-component.css",\n  shadow: true,\n})\nexport class MyComponent {\n  @Prop() first: string;\n  @Prop() middle: string;\n  @Prop() last: string;\n\n  private getText(): string {\n    return format(this.first, this.middle, this.last);\n  }\n\n  render() {\n    return <div>Hello, World! I\'m {this.getText()}</div>;\n  }\n}\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html",metastring:'title="index.html"',title:'"index.html"'},'<my-component\n  first="Stencil"\n  middle="\'Don\'t call me a framework\'"\n  last="JS"\n></my-component>\n')),(0,a.kt)("h3",{id:"decoradores"},"Decoradores"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"@Component()")," declares a new web component"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"@Prop()")," declara una propidad a exponer"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"@State()")," declara un estado interno"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"@Watch()"),' declara un hook para comprobar cambios de estado en "propiedades y estados"'),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"@Element()")," declara una referencia el elemento host (si el elemento es my-component, ser\xeda una referencia a este)"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"@Method()")," declara un m\xe9todo a exponer"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"@Event()")," declara un evento DOM a emitir (expone)"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"@Listen()")," escucha eventos del DOM")),(0,a.kt)("p",null,"Vamos a modificar el componente que viene por defecto aplicando estos decoradores"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:"title=my-component.tsx",title:"my-component.tsx"},"import { Component, Element, Event, EventEmitter, Listen, Method, Prop, State, Watch, h } from '@stencil/core';\nimport { format } from '../../utils/utils';\n\n@Component({\n  tag: 'my-component',\n  styleUrl: 'my-component.css',\n  shadow: true,\n})\nexport class MyComponent {\n  /**\n   * The first name\n   */\n  @Prop() first: string;\n\n  /**\n   * The middle name\n   */\n  @Prop() middle: string;\n\n  /**\n   * The last name\n   */\n  @Prop() last: string;\n\n  /**\n   * Esta propiedad no ser\xe1 expuesta y solo se utiliza internamente\n   */\n  @State() internal: string;\n\n  @Watch('first')\n  watchFirstHandler(newValue: boolean, oldValue: boolean) {\n    console.log('[my-component.tsx] @Prop() first, valor anterior: ', oldValue);\n    console.log('[my-component.tsx] @Prop() first, nuevo valor: ', newValue);\n  }\n\n  @Watch('internal')\n  watchInternalHandler(newValue: boolean, oldValue: boolean) {\n    console.log('[my-component.tsx] @State() internal, valor anterior: ', oldValue);\n    console.log('[my-component.tsx] @State() internal, nuevo valor: ', newValue);\n  }\n\n  @Element() hostEl: HTMLElement;\n\n  @Method()\n  async getMessage() {\n    return 'Hello from my-component exposed method';\n  }\n\n  @Event() onMessage: EventEmitter<string>;\n\n  @Listen('onMessage')\n  onMessageEventHandler(event: CustomEvent<string>) {\n    console.log('[my-component.tsx] Evento onMessage recibido, propiedad event.detail: ', event.detail);\n  }\n\n  constructor() {\n    console.log('[my-component.tsx] hostEl', this.hostEl);\n\n    let counter = 0;\n\n    setInterval(() => {\n      this.onMessage.emit('Mensage con contador: ' + counter);\n      counter++;\n    }, 2000);\n  }\n\n  private getText(): string {\n    return format(this.first, this.middle, this.last);\n  }\n\n  render() {\n    return <div>Hello, World! I'm {this.getText()}</div>;\n  }\n}\n\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html",metastring:"title=index.html",title:"index.html"},'<!DOCTYPE html>\n<html dir="ltr" lang="en">\n  <head>\n    <meta charset="utf-8" />\n    <meta\n      name="viewport"\n      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0"\n    />\n    <title>Stencil Component Starter</title>\n\n    <script type="module" src="/build/my-components-library.esm.js"><\/script>\n    <script nomodule src="/build/my-components-library.js"><\/script>\n  </head>\n  <body>\n    <my-component\n      first="Stencil"\n      last="\'Don\'t call me a framework\' JS"\n    ></my-component>\n  </body>\n\n  <script>\n    (async () => {\n      await customElements.whenDefined("my-component");\n      const myComponent = document.getElementsByTagName("my-component")[0];\n      setTimeout(() => {\n        myComponent.first = "RubenFGR";\n        myComponent.internal = "ESTO NO FUNCIONA YA QUE ES UN ESTADO INTERNO";\n      }, 3000);\n      var exposedMethodValue = await myComponent.getMessage();\n      console.log(\n        "[index.html] myComponent.getMessage(): ",\n        exposedMethodValue\n      );\n      myComponent.addEventListener("onMessage", (event) => {\n        console.log(\n          \'[index.html] Evento "onMessage" recibido, propiedad event.detail: \',\n          event.detail\n        );\n      });\n    })();\n  <\/script>\n</html>\n')),(0,a.kt)("h3",{id:"ciclo-de-vida"},"Ciclo de vida"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"connectedCallback()")," Cuando el componente se conecta al DOM (antes de ser cargado). Puede ser llamado varias veces."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"disconnectedCallback()")," Cuando el componente se desconecta del DOM. Puede ser llamado varias veces.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'const el = document.createElement("my-cmp");\ndocument.body.appendChild(el);\n// connectedCallback() called\n// componentWillLoad() called (first time)\n\nel.remove();\n// disconnectedCallback()\n\ndocument.body.appendChild(el);\n// connectedCallback() called again, but `componentWillLoad()` is not.\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"componentWillLoad()")," Cuando el componente es conectado al DOM por primera vez y \xe1un no es renderizado. Solo se llama una vez, es un buen lugar para cargar los datos que van a ser renderizados"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"componentDidLoad()")," Cuando el componente se ha renderizado por primera vez"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"componentShouldUpdate()")," Cuando un @Prop o @State va a cambiar. Recibe 3 argumentos, antiguo valor, nuevo valor y el nombre de la propiedad o estado y retorna un boolean que indica si debe ser reenderizado o no."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"componentWillRender()")," Llamado antes de reenderizar. Devuelve una promesa que permite esperar el nuevo renderizado."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"componentDidRender()")," Llamado despu\xe9s de renderizado."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"componentWillUpdate()")," Llamado cuando @Prop() o @State() han cambiado. No se ejecuta en el primer renderizado."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"componentDidUpdate()")," Llamado justo cuando se actualiza el componente. No se ejecuta en el primer renderizado.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="my-component.tsx"',title:'"my-component.tsx"'},"import { Component, Element, Event, EventEmitter, Listen, Method, Prop, State, Watch, h } from '@stencil/core';\nimport { format } from '../../utils/utils';\n\n@Component({\n  tag: 'my-component',\n  styleUrl: 'my-component.css',\n  shadow: true,\n})\nexport class MyComponent {\n  /**\n   * The first name\n   */\n  @Prop() first: string;\n\n  /**\n   * The middle name\n   */\n  @Prop() middle: string;\n\n  /**\n   * The last name\n   */\n  @Prop() last: string;\n\n  /**\n   * Esta propiedad no ser\xe1 expuesta y solo se utiliza internamente\n   */\n  @State() internal: string;\n\n  @Watch('first')\n  watchFirstHandler(newValue: boolean, oldValue: boolean) {\n    console.log('[my-component.tsx] @Prop() first, valor anterior: ', oldValue);\n    console.log('[my-component.tsx] @Prop() first, nuevo valor: ', newValue);\n  }\n\n  @Watch('internal')\n  watchInternalHandler(newValue: boolean, oldValue: boolean) {\n    console.log('[my-component.tsx] @State() internal, valor anterior: ', oldValue);\n    console.log('[my-component.tsx] @State() internal, nuevo valor: ', newValue);\n  }\n\n  @Element() hostEl: HTMLElement;\n\n  @Method()\n  async getMessage() {\n    return 'Hello from my-component exposed method';\n  }\n\n  @Event() onMessage: EventEmitter<string>;\n\n  @Listen('onMessage')\n  onMessageEventHandler(event: CustomEvent<string>) {\n    console.log('[my-component.tsx] Evento onMessage recibido, propiedad event.detail: ', event.detail);\n  }\n\n  constructor() {\n    console.log('[my-component.tsx] hostEl', this.hostEl);\n\n    let counter = 0;\n\n    setTimeout(() => {\n      this.onMessage.emit('Mensage con contador: ' + counter);\n      counter++;\n    }, 3000);\n  }\n\n  connectedCallback() {\n    console.log('connectedCallback()');\n  }\n\n  disconnectedCallback() {\n    console.log('disconnectedCallback()');\n  }\n\n  componentWillLoad() {\n    console.log('componentWillLoad()');\n  }\n\n  componentDidLoad() {\n    console.log('componentDidLoad()');\n  }\n\n  componentShouldUpdate() {\n    console.log('componentShouldUpdate()');\n  }\n\n  componentWillRender() {\n    console.log('componentWillRender()');\n  }\n\n  componentDidRender() {\n    console.log('componentDidRender()');\n  }\n\n  componentWillUpdate() {\n    console.log('componentWillUpdate()');\n  }\n\n  componentDidUpdate() {\n    console.log('componentDidUpdate()');\n  }\n\n  private getText(): string {\n    return format(this.first, this.middle, this.last);\n  }\n\n  render() {\n    return <div>Hello, World! I'm {this.getText()}</div>;\n  }\n}\n\n")),(0,a.kt)("h3",{id:"contruyendo-la-libreria"},"Contruyendo la libreria"),(0,a.kt)("p",null,"Tipos de salida:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"dist-custom-elements. Permite exportar elementos personalizados individualmente dejando en el desarrollador la opci\xf3n de configurar la carga perezosa, la construcci\xf3n y el registro, ya sea a trav\xe9s de un framework o de forma nativa."),(0,a.kt)("li",{parentName:"ul"},"dist. Es la salida por defecto que exporta la libreria de componentes al completo incluyendo la carga perezosa de cada uno de ellos al utilizarlo, es decir, el componente se cargar\xe1 cuando este dentro de la pantalla del usuario."),(0,a.kt)("li",{parentName:"ul"},"www. Orientado para aplicaciones web y p\xe1ginas web. Puede tener el beneficio del prerenderizado y trabajadores de servicio (service workers). La trae activa por defecto y permite probar los componentes que vamos creando.")),(0,a.kt)("p",null,"La configuraci\xf3n utilizada para el tutorial es la que viene por defecto que contiene los tres tipos:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="stencil.config.ts"',title:'"stencil.config.ts"'},'import { Config } from "@stencil/core";\n\nexport const config: Config = {\n  namespace: "my-components-library",\n  outputTargets: [\n    {\n      type: "dist",\n      esmLoaderPath: "../loader",\n    },\n    {\n      type: "dist-custom-elements",\n    },\n    {\n      type: "docs-readme",\n    },\n    {\n      type: "www",\n      serviceWorker: null, // disable service workers\n    },\n  ],\n  testing: {\n    browserHeadless: "new",\n  },\n};\n')),(0,a.kt)("p",null,"Realizamos la construcci\xf3n con el siguiente comando:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"npm run build\n")),(0,a.kt)("h2",{id:"probando-nuestra-librer\xeda-en-un-proyecto-de-angular"},"Probando nuestra librer\xeda en un proyecto de Angular"),(0,a.kt)("p",null,"Por defecto, en el proyecto de stencil, el packague.json ya est\xe1 configurado para publicar nuestra libreria de forma local o en un registro de paquetes como npm."),(0,a.kt)("p",null,'En este tutorial lo vamos hacer de forma local con el comando "link"'),(0,a.kt)("h3",{id:"creando-el-proyecto-de-angular"},"Creando el proyecto de angular"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"ng new my-library-in-angular\n")),(0,a.kt)("h3",{id:"compartiendo-la-libreria-en-local-con-link"},'Compartiendo la libreria en local con "link"'),(0,a.kt)("p",null,"Este comando se ejecuta en la ra\xedz del proyecto de stencil, donde est\xe1 el packague.json."),(0,a.kt)("p",null,'El nombre de la librer\xeda ser\xe1 el que tengamos puesto en la propiedad "name" del packague.json.'),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"npm link\n")),(0,a.kt)("h3",{id:"vinculando-la-libreria-en-el-proyecto-de-angular"},"Vinculando la libreria en el proyecto de angular"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"cd my-library-in-angular\nnpm link my-components-library\n")),(0,a.kt)("h3",{id:"modificamos-algunos-ficheros"},"Modificamos algunos ficheros"),(0,a.kt)("p",null,"En app.module.ts agregamos el schema CUSTOM_ELEMENTS_SCHEMA para permitir el uso de elementos personalizados en Angular."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="app.module.ts"',title:'"app.module.ts"'},'import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from "@angular/core";\nimport { BrowserModule } from "@angular/platform-browser";\n\nimport { AppComponent } from "./app.component";\n\n@NgModule({\n  declarations: [AppComponent],\n  imports: [BrowserModule],\n  providers: [],stencil\nexport class AppModule {}\n')),(0,a.kt)("p",null,"En main.ts definimos nuestros elementos personalizados a trav\xe9s de los m\xe9todos de ayuda que contiene stencil para facilitar el trabajo: defineCustomElements y applyPolyfills. Este \xfaltimo para compatibilidad con navegadores antig\xfcos."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="main.ts"',title:'"main.ts"'},'import { platformBrowserDynamic } from "@angular/platform-browser-dynamic";\n\nimport { AppModule } from "./app/app.module";\n\nimport {\n  defineCustomElements,\n  applyPolyfills,\n} from "my-components-library/loader";\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch((err) => console.error(err));\n\napplyPolyfills().then(() => defineCustomElements());\n')),(0,a.kt)("p",null,"Y por \xfaltimo, hacemos uso de nuestro componente en app.component.html"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="app.component.html"',title:'"app.component.html"'},"<h1>Probando nuestra libreria de stencil</h1>\n\n<body>\n  <my-component first=\"Stencil\" last=\"'Don't call me a framework' JS\"></my-component>\n</body>\n\n<script>\n  (async () => {\n    await customElements.whenDefined('my-component');\n    const myComponent = document.getElementsByTagName('my-component')[0];\n    setTimeout(() => {\n      myComponent.first = 'RubenFGR';\n      myComponent.internal = 'ESTO NO FUNCIONA YA QUE ES UN ESTADO INTERNO';\n    }, 3000);\n    var exposedMethodValue = await myComponent.getMessage();\n    console.log('[index.html] myComponent.getMessage(): ', exposedMethodValue);\n    myComponent.addEventListener('onMessage', event => {\n      console.log('[index.html] Evento \"onMessage\" recibido, propiedad event.detail: ', event.detail);\n    });\n  })();\n<\/script>\n")),(0,a.kt)("h2",{id:"tipado"},"Tipado"),(0,a.kt)("p",null,'Stencil va preparado para el tipado con TS y por defecto cuando hacemos el "build" nos genera los tipos de nuestros ficheros en el directorio dist/types.'),(0,a.kt)("admonition",{title:"Nomenclatura de tipos",type:"info"},(0,a.kt)("p",{parentName:"admonition"},"HTML<NombreComponente",">","Element"),(0,a.kt)("p",{parentName:"admonition"},"Por ejemplo, para nuestro componente, MyComponent seria:"),(0,a.kt)("p",{parentName:"admonition"},"HTMLMyComponentElement")))}d.isMDXComponent=!0}}]);