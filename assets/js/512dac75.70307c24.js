"use strict";(self.webpackChunkrubenfgr_website=self.webpackChunkrubenfgr_website||[]).push([[6659],{3010:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>u,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var a=r(4848),i=r(8453);const s={sidebar_position:5},d="Redirecciones y pipelines",l={id:"systems/linux/io-redirection",title:"Redirecciones y pipelines",description:"I/O Redirection",source:"@site/docs/systems/linux/io-redirection.mdx",sourceDirName:"systems/linux",slug:"/systems/linux/io-redirection",permalink:"/docs/systems/linux/io-redirection",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Sistema de ficheros Avanzado",permalink:"/docs/systems/linux/file-system-advanced"},next:{title:"Usuarios y permisos",permalink:"/docs/systems/linux/users_permissions"}},o={},c=[{value:"I/O Redirection",id:"io-redirection",level:2},{value:"Standard Output (stdout)",id:"standard-output-stdout",level:2},{value:"Standard Error (stderr)",id:"standard-error-stderr",level:2},{value:"Redirecci\xf3n de la salida est\xe1ndar y de error",id:"redirecci\xf3n-de-la-salida-est\xe1ndar-y-de-error",level:3},{value:"/dev/null",id:"devnull",level:2},{value:"Standar Input (stdin)",id:"standar-input-stdin",level:2},{value:"Pipelines",id:"pipelines",level:2},{value:"Filtros y b\xfasquedas: sort, uniq, wc",id:"filtros-y-b\xfasquedas-sort-uniq-wc",level:2},{value:"Filtros y b\xfasquedas: grep, head, tail, tee",id:"filtros-y-b\xfasquedas-grep-head-tail-tee",level:2},{value:"Ejercicios",id:"ejercicios",level:2},{value:"Comando sed",id:"comando-sed",level:2},{value:"Ejemplos de uso de sed",id:"ejemplos-de-uso-de-sed",level:3}];function t(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"redirecciones-y-pipelines",children:"Redirecciones y pipelines"}),"\n",(0,a.jsx)(n.h2,{id:"io-redirection",children:"I/O Redirection"}),"\n",(0,a.jsx)(n.p,{children:"La redirecci\xf3n de entrada/salida (I/O) es un mecanismo que permite cambiar la fuente o el destino de los flujos de entrada y salida de un comando en un sistema operativo Unix/Linux. Los flujos de entrada y salida est\xe1ndar son:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"/dev/stdin: entrada est\xe1ndar"}),"\n",(0,a.jsx)(n.li,{children:"/dev/stdout: salida est\xe1ndar"}),"\n",(0,a.jsx)(n.li,{children:"/dev/stderr: salida de error"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"standard-output-stdout",children:"Standard Output (stdout)"}),"\n",(0,a.jsxs)(n.p,{children:["La redirecci\xf3n de la salida est\xe1ndar (stdout) permite enviar la salida de un comando a un archivo en lugar de a la pantalla. Para redirigir la salida est\xe1ndar a un archivo, se utiliza el operador ",(0,a.jsx)(n.code,{children:">"})," seguido del nombre del archivo."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"# Redirigir la salida est\xe1ndar a un archivo\r\ncomando > archivo\r\n# Concatenar la salida est\xe1ndar a un archivo\r\ncomando >> archivo\n"})}),"\n",(0,a.jsx)(n.h2,{id:"standard-error-stderr",children:"Standard Error (stderr)"}),"\n",(0,a.jsxs)(n.p,{children:["La redirecci\xf3n de la salida de error (stderr) permite enviar los mensajes de error generados por un comando a un archivo en lugar de a la pantalla. Para redirigir la salida de error a un archivo, se utiliza el operador ",(0,a.jsx)(n.code,{children:"2>"})," seguido del nombre del archivo."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"# Redirigir la salida de error a un archivo\r\ncomando 2> archivo\r\n# Concatenar la salida de error a un archivo\r\ncomando 2>> archivo\n"})}),"\n",(0,a.jsx)(n.h3,{id:"redirecci\xf3n-de-la-salida-est\xe1ndar-y-de-error",children:"Redirecci\xf3n de la salida est\xe1ndar y de error"}),"\n",(0,a.jsxs)(n.p,{children:["La redirecci\xf3n de la salida est\xe1ndar y de error permite enviar tanto la salida est\xe1ndar como la salida de error a un archivo. Para redirigir la salida est\xe1ndar y de error a un archivo, se utiliza el operador ",(0,a.jsx)(n.code,{children:"&>"})," seguido del nombre del archivo."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"# Redirigir la salida est\xe1ndar y de error a un archivo\r\ncomando &> archivo\r\n# Concatenar la salida est\xe1ndar y de error a un archivo\r\ncomando &>> archivo\r\n# Antiguamente\r\ncomando > archivo 2>&1\n"})}),"\n",(0,a.jsx)(n.h2,{id:"devnull",children:"/dev/null"}),"\n",(0,a.jsxs)(n.p,{children:["El archivo especial ",(0,a.jsx)(n.code,{children:"/dev/null"})," es un dispositivo de nulo que descarta toda la entrada que recibe y devuelve un final de archivo (EOF, End Of File) inmediatamente. Se utiliza para redirigir la salida est\xe1ndar o de error a la nada."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"# Redirigir la salida est\xe1ndar a /dev/null\r\ncomando > /dev/null\r\n# Redirigir la salida de error a /dev/null\r\ncomando 2> /dev/null\r\n# Redirigir la salida est\xe1ndar y de error a /dev/null\r\ncomando &> /dev/null\r\n# Ejemplo: redirigir la salida de error a /dev/null\r\nfind /var/log -name auth.log 2> /dev/null\n"})}),"\n",(0,a.jsx)(n.h2,{id:"standar-input-stdin",children:"Standar Input (stdin)"}),"\n",(0,a.jsxs)(n.p,{children:["La redirecci\xf3n de la entrada est\xe1ndar (stdin) permite enviar un archivo como entrada a un comando en lugar de introducir los datos manualmente. Para redirigir la entrada est\xe1ndar a un comando, se utiliza el operador ",(0,a.jsx)(n.code,{children:"<"})," seguido del nombre del archivo."]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"cat recibe la entrada est\xe1ndar y la imprime en la salida est\xe1ndar."}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"# Redirigir la entrada est\xe1ndar a un comando\r\ncomando < archivo\r\n# Ejemplo: contar las l\xedneas de un archivo\r\nwc -l < archivo\r\n# A\xf1adir varias l\xedneas a un archivo\r\ncat << EOF > archivo\r\nl\xednea 1\r\nl\xednea 2\r\nEOF\r\n# Sin EOF\r\ncat > archivo\n"})}),"\n",(0,a.jsx)(n.h2,{id:"pipelines",children:"Pipelines"}),"\n",(0,a.jsxs)(n.p,{children:["Un pipeline es una secuencia de comandos conectados por tuber\xedas (pipes) que permite enviar la salida de un comando como entrada a otro comando. Para crear un pipeline, se utiliza el operador ",(0,a.jsx)(n.code,{children:"|"})," entre los comandos."]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"xargs: convierte la salida de un comando en argumentos de otro comando."}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"# Pipeline: comando1 | comando2\r\ncomando1 | comando2\r\n# Ejemplo: contar las l\xedneas de un archivo\r\ncat archivo | wc -l\r\n# Ejemplo: buscar un archivo y contar las l\xedneas\r\nfind /var/log -name auth.log | xargs wc -l\r\n# Ejemplo con ls\r\nls -l /usr/bin | less\n"})}),"\n",(0,a.jsx)(n.h2,{id:"filtros-y-b\xfasquedas-sort-uniq-wc",children:"Filtros y b\xfasquedas: sort, uniq, wc"}),"\n",(0,a.jsx)(n.p,{children:"Los filtros y b\xfasquedas son comandos que permiten manipular y buscar informaci\xf3n en los flujos de entrada y salida. Algunos de los filtros y b\xfasquedas m\xe1s comunes son:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"sort"}),": Ordena las l\xedneas de un archivo."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"uniq"}),": Filtra l\xedneas duplicadas consecutivas."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"wc"}),": Cuenta las l\xedneas, palabras y caracteres de un archivo."]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"# Ordenar las l\xedneas de un archivo\r\nsort archivo\r\n# Filtrar l\xedneas duplicadas consecutivas\r\nuniq archivo\r\n# Contar las l\xedneas, palabras y caracteres de un archivo\r\nwc archivo\r\n# Ejemplo de ls + sort + uniq + less\r\nls -l /bin /usr/bin | sort | uniq | less\r\n# Ver los duplicados de anterior\r\nls -l /bin /usr/bin | sort | uniq -d | less\r\n# Ejemplo de wc\r\n# Salida: l\xedneas palabras caracteres archivo\r\nwc /var/log/auth.log\r\n# Cuantos ficheros hay en /usr/bin\r\nls -l /bin /usr/bin | uniq | wc -l\n"})}),"\n",(0,a.jsx)(n.h2,{id:"filtros-y-b\xfasquedas-grep-head-tail-tee",children:"Filtros y b\xfasquedas: grep, head, tail, tee"}),"\n",(0,a.jsx)(n.p,{children:"Otros filtros y b\xfasquedas comunes son:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"grep"}),": Busca l\xedneas que contienen un patr\xf3n."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"head"}),": Muestra las primeras l\xedneas de un archivo."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"tail"}),": Muestra las \xfaltimas l\xedneas de un archivo."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"tee"}),": Divide la salida de un comando en un archivo y la pantalla."]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"# Buscar l\xedneas que contienen un patr\xf3n\r\ngrep patr\xf3n archivo\r\n# Mostrar las primeras l\xedneas de un archivo\r\nhead archivo\r\n# Mostrar las \xfaltimas l\xedneas de un archivo\r\ntail archivo\r\n# Dividir la salida de un comando en un archivo y la pantalla\r\ncomando | tee archivo\r\n# Ejemplo de grep\r\ngrep $USER /var/log/auth.log\r\n# Ejemplo de grep ignorando may\xfasculas y min\xfasculas\r\ngrep -i $USER /var/log/auth.log\r\n# Ejemplo de grep ignorando l\xedneas que contienen un patr\xf3n\r\ngrep -v $USER archivo\r\n# Ejemplo de head\r\nhead -n 10 /var/log/auth.log\r\n# Ejemplo de tail\r\ntail -n 10 /var/log/auth.log\r\n# Ver cambios de fichero en tiempo real con tail\r\ntail -f /var/log/auth.log\r\n# Ejemplo de tee\r\nls -l /usr/bin | tee lista.txt\r\n# tee para volcar la salida de un comando a un fichero y a la salida est\xe1ndar\r\nls -l /usr/bin | tee lista.txt | less\n"})}),"\n",(0,a.jsx)(n.h2,{id:"ejercicios",children:"Ejercicios"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Muestra por pantalla todos los archivos y directorios que tienes en tu directorio de trabajo ordenados por tama\xf1o"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"ls -lS ~\r\nls -l ~ | sort -h -rk5\r\n# h human readable\r\n# r reverse\r\n# k key\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Crea un nuevo fichero en tu sistema Linux ejecutando el siguiente comando:"}),"\n"]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:'echo -e "rojo,1,coche,madrid\\nazul,4,moto,mexico\\namarillo,2,bicicleta,paris\\nverde,6,avion,roma" > fichero.csv'}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Ordena el fichero que acabas de crear (fichero.csv) por el segundo campo teniendo en cuenta que los campos est\xe1n separados por el delimitador ,"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"sort -t ',' -nk2 fichero.csv\r\n# t delimitador\r\n# n num\xe9rico\r\n# k key\n"})}),"\n",(0,a.jsx)(n.h2,{id:"comando-sed",children:"Comando sed"}),"\n",(0,a.jsxs)(n.p,{children:["El comando ",(0,a.jsx)(n.code,{children:"sed"})," (stream editor) es un editor de flujo que permite realizar operaciones de b\xfasqueda y sustituci\xf3n en un flujo de texto. Algunas de las operaciones m\xe1s comunes que se pueden realizar con ",(0,a.jsx)(n.code,{children:"sed"})," son:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"s"}),": Sustituye un patr\xf3n por otro."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"d"}),": Borra l\xedneas que coinciden con un patr\xf3n."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"p"}),": Imprime l\xedneas que coinciden con un patr\xf3n."]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"# Sustituir un patr\xf3n por otro\r\nsed 's/patr\xf3n/sustituci\xf3n/' archivo\r\n# Sustituir todas las ocurrencias de un patr\xf3n\r\nsed 's/patr\xf3n/sustituci\xf3n/g' archivo\r\n# Sustituir un patr\xf3n por otro en un rango de l\xedneas\r\nsed 'inicio,fin s/patr\xf3n/sustituci\xf3n/' archivo\r\n# Sustituir un patr\xf3n por otro en un rango de l\xedneas y guardar el resultado en un nuevo archivo\r\nsed 'inicio,fin s/patr\xf3n/sustituci\xf3n/' archivo > nuevo_archivo\r\n# Borrar l\xedneas que coinciden con un patr\xf3n\r\nsed '/patr\xf3n/d' archivo\r\n# Imprimir l\xedneas que coinciden con un patr\xf3n\r\nsed -n '/patr\xf3n/p' archivo\r\n# Imprimir l\xedneas que coinciden con un patr\xf3n y guardar el resultado en un nuevo archivo\r\nsed -n '/patr\xf3n/p' archivo > nuevo_archivo\n"})}),"\n",(0,a.jsx)(n.h3,{id:"ejemplos-de-uso-de-sed",children:"Ejemplos de uso de sed"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Reemplazar o sustituir una cadena de texto en un fichero"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"sed 's/rojo/azul/g' fichero.txt\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Reemplazar una cadena de texto en una l\xednea determinada de un fichero"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"sed '2 s/rojo/azul/' fichero.txt\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"A\xf1adir un car\xe1cter al comienzo de cada l\xednea de un fichero"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"sed 's/^/--\x3e/g' fichero.txt\n"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(t,{...e})}):t(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>l});var a=r(6540);const i={},s=a.createContext(i);function d(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);